diff --git a/xnova-legacies_2009.3/.htaccess b/xnova-legacies_2009.4/.htaccess
index 5c023dd..3e8f795 100644
--- a/xnova-legacies_2009.3/.htaccess
+++ b/xnova-legacies_2009.4/.htaccess
@@ -1 +1 @@
-SetEnv DEBUG On
\ No newline at end of file
+#SetEnv DEBUG On
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/add_declare.php b/xnova-legacies_2009.4/add_declare.php
index d28286f..c1cc82e 100644
--- a/xnova-legacies_2009.3/add_declare.php
+++ b/xnova-legacies_2009.4/add_declare.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/admin/ElementQueueFixer.php b/xnova-legacies_2009.4/admin/ElementQueueFixer.php
index 8528dd6..4411b89 100644
--- a/xnova-legacies_2009.3/admin/ElementQueueFixer.php
+++ b/xnova-legacies_2009.4/admin/ElementQueueFixer.php
@@ -33,7 +33,7 @@ define('INSTALL' , false);
 define('IN_ADMIN', true);
 require_once dirname(dirname(__FILE__)) .'/common.php';
 
-	if ($user['authlevel'] >= 1) {
+	if (in_array($user['authlevel'], array(LEVEL_ADMIN, LEVEL_OPERATOR, LEVEL_MODERATOR))) {
 		includeLang('admin');
 
 		$QrySelectPlanet  = "SELECT `id`, `id_owner`, `b_hangar`, `b_hangar_id` ";
diff --git a/xnova-legacies_2009.3/admin/QueryExecute.php b/xnova-legacies_2009.4/admin/QueryExecute.php
index 8e77688..1ef16cb 100644
--- a/xnova-legacies_2009.3/admin/QueryExecute.php
+++ b/xnova-legacies_2009.4/admin/QueryExecute.php
@@ -33,7 +33,7 @@ define('INSTALL' , false);
 define('IN_ADMIN', true);
 require_once dirname(dirname(__FILE__)) .'/common.php';
 
-	if ($user['authlevel'] >= "1") {
+	if (in_array($user['authlevel'], array(LEVEL_ADMIN))) {
 		includeLang('admin/Queries');
 
 		$parse   = $lang;
diff --git a/xnova-legacies_2009.3/admin/ShowFlyingFleets.php b/xnova-legacies_2009.4/admin/ShowFlyingFleets.php
index 7d189b0..9d66c27 100644
--- a/xnova-legacies_2009.3/admin/ShowFlyingFleets.php
+++ b/xnova-legacies_2009.4/admin/ShowFlyingFleets.php
@@ -33,7 +33,7 @@ define('INSTALL' , false);
 define('IN_ADMIN', true);
 require_once dirname(dirname(__FILE__)) .'/common.php';
 
-	if ($user['authlevel'] >= 1) {
+	if (in_array($user['authlevel'], array(LEVEL_ADMIN, LEVEL_OPERATOR, LEVEL_MODERATOR))) {
 		includeLang('admin/fleets');
 		$PageTPL            = gettemplate('admin/fleet_body');
 
diff --git a/xnova-legacies_2009.3/admin/XNovaResetUnivers.php b/xnova-legacies_2009.4/admin/XNovaResetUnivers.php
index f143c91..bf64d50 100644
--- a/xnova-legacies_2009.3/admin/XNovaResetUnivers.php
+++ b/xnova-legacies_2009.4/admin/XNovaResetUnivers.php
@@ -38,15 +38,19 @@ includeLang('admin');
 function XNovaResetUnivers ( $CurrentUser ) {
 	global $lang;
 
-	if ($CurrentUser['authlevel'] >= 3) {
+	if (in_array($CurrentUser['authlevel'], array(LEVEL_ADMIN))) {
 
 		// Copier la table users et planets vers des tables de replis !
-		doquery( "RENAME TABLE {{table}} TO {{table}}_s", 'planets' );
-		doquery( "RENAME TABLE {{table}} TO {{table}}_s", 'users' );
+		doquery( "RENAME TABLE {{table}} TO {{table}}_s", 'planets');
+		doquery( "RENAME TABLE {{table}} TO {{table}}_s", 'users');
+		doquery( "RENAME TABLE {{table}} TO {{table}}_s", 'galaxy');
+		doquery( "RENAME TABLE {{table}} TO {{table}}_s", 'banned');
 
 		// Recreer la structure des tables renommées
 		doquery( "CREATE  TABLE IF NOT EXISTS {{table}} ( LIKE {{table}}_s );", 'planets');
 		doquery( "CREATE  TABLE IF NOT EXISTS {{table}} ( LIKE {{table}}_s );", 'users');
+		doquery( "CREATE  TABLE IF NOT EXISTS {{table}} ( LIKE {{table}}_s );", 'galaxy');
+		doquery( "CREATE  TABLE IF NOT EXISTS {{table}} ( LIKE {{table}}_s );", 'banned');
 
 		// Vider toutes les tables !
 		doquery( "TRUNCATE TABLE {{table}}", 'aks');
diff --git a/xnova-legacies_2009.3/admin/activeplanet.php b/xnova-legacies_2009.4/admin/activeplanet.php
index 9b3316a..ec28086 100644
--- a/xnova-legacies_2009.3/admin/activeplanet.php
+++ b/xnova-legacies_2009.4/admin/activeplanet.php
@@ -33,7 +33,7 @@ define('INSTALL' , false);
 define('IN_ADMIN', true);
 require_once dirname(dirname(__FILE__)) .'/common.php';
 
-	if ($user['authlevel'] >= 1) {
+	if (in_array($user['authlevel'], array(LEVEL_ADMIN, LEVEL_OPERATOR))) {
 		includeLang('admin');
 
 		$parse          = $lang;
diff --git a/xnova-legacies_2009.3/admin/add_fleet.php b/xnova-legacies_2009.4/admin/add_fleet.php
diff --git a/xnova-legacies_2009.3/admin/add_money.php b/xnova-legacies_2009.4/admin/add_money.php
index 9c143e7..87beb94 100644
--- a/xnova-legacies_2009.3/admin/add_money.php
+++ b/xnova-legacies_2009.4/admin/add_money.php
@@ -33,7 +33,7 @@ define('INSTALL' , false);
 define('IN_ADMIN', true);
 require_once dirname(dirname(__FILE__)) .'/common.php';
 
-	if ($user['authlevel'] >= 2) {
+	if (in_array($user['authlevel'], array(LEVEL_ADMIN, LEVEL_OPERATOR))) {
 		includeLang('admin');
 
 		$mode      = $_POST['mode'];
diff --git a/xnova-legacies_2009.3/admin/add_moon.php b/xnova-legacies_2009.4/admin/add_moon.php
index 02064c0..f2f220f 100644
--- a/xnova-legacies_2009.3/admin/add_moon.php
+++ b/xnova-legacies_2009.4/admin/add_moon.php
@@ -33,7 +33,7 @@ define('INSTALL' , false);
 define('IN_ADMIN', true);
 require_once dirname(dirname(__FILE__)) .'/common.php';
 
-	if ($user['authlevel'] >= 2) {
+	if (in_array($user['authlevel'], array(LEVEL_ADMIN, LEVEL_OPERATOR))) {
 		includeLang('admin/addmoon');
 
 		$mode      = $_POST['mode'];
diff --git a/xnova-legacies_2009.3/admin/autounban.php b/xnova-legacies_2009.4/admin/autounban.php
index 3aedfad..1e7d0d2 100644
--- a/xnova-legacies_2009.3/admin/autounban.php
+++ b/xnova-legacies_2009.4/admin/autounban.php
@@ -33,7 +33,7 @@ define('INSTALL' , false);
 define('IN_ADMIN', true);
 require_once dirname(dirname(__FILE__)) .'/common.php';
 
-	if ($user['authlevel'] >= 3) {
+	if (in_array($user['authlevel'], array(LEVEL_ADMIN))) {
 		$lang['PHP_SELF'] = 'options.'.PHPEXT;
 		doquery("UPDATE {{table}} SET `banaday` =` banaday` - '1' WHERE `banaday` != '0';",'users');
 		doquery("UPDATE {{table}} SET `bana` = '0' WHERE `banaday` < '1';",'users');
diff --git a/xnova-legacies_2009.3/admin/banned.php b/xnova-legacies_2009.4/admin/banned.php
index 7fc3474..9867ced 100644
--- a/xnova-legacies_2009.3/admin/banned.php
+++ b/xnova-legacies_2009.4/admin/banned.php
@@ -33,7 +33,7 @@ define('INSTALL' , false);
 define('IN_ADMIN', true);
 require_once dirname(dirname(__FILE__)) .'/common.php';
 
-	if ($user['authlevel'] >= 1) {
+	if (in_array($user['authlevel'], array(LEVEL_ADMIN, LEVEL_OPERATOR, LEVEL_MODERATOR))) {
 		includeLang('admin');
 
 		$mode      = $_POST['mode'];
diff --git a/xnova-legacies_2009.3/admin/changelog.php b/xnova-legacies_2009.4/admin/changelog.php
diff --git a/xnova-legacies_2009.3/admin/chat.php b/xnova-legacies_2009.4/admin/chat.php
index 835a67f..fd85732 100644
--- a/xnova-legacies_2009.3/admin/chat.php
+++ b/xnova-legacies_2009.4/admin/chat.php
@@ -35,7 +35,7 @@ require_once dirname(dirname(__FILE__)) .'/common.php';
 includeLang('admin');
 $parse = $lang;
 
-	if ($user['authlevel'] >= 3) {
+	if (in_array($user['authlevel'], array(LEVEL_ADMIN))) {
 
 		// Système de suppression
 		extract($_GET);
diff --git a/xnova-legacies_2009.3/admin/credit.php b/xnova-legacies_2009.4/admin/credit.php
index 6e74e85..4c52786 100644
--- a/xnova-legacies_2009.3/admin/credit.php
+++ b/xnova-legacies_2009.4/admin/credit.php
@@ -35,7 +35,7 @@ require_once dirname(dirname(__FILE__)) .'/common.php';
 includeLang('credit');
 $parse   = $lang;
 
-if ($user['authlevel'] >= 3) {
+if (in_array($user['authlevel'], array(LEVEL_ADMIN))) {
 	if ($_POST['opt_save'] == "1") {
 		// Extended copyright is activated?
 		if (isset($_POST['ExtCopyFrame']) && $_POST['ExtCopyFrame'] == 'on') {
diff --git a/xnova-legacies_2009.3/admin/declare_list.php b/xnova-legacies_2009.4/admin/declare_list.php
index dcfa622..0927ccd 100644
--- a/xnova-legacies_2009.3/admin/declare_list.php
+++ b/xnova-legacies_2009.4/admin/declare_list.php
@@ -32,7 +32,8 @@ define('INSIDE' , true);
 define('INSTALL' , false);
 define('IN_ADMIN', true);
 require_once dirname(dirname(__FILE__)) .'/common.php';
-	if ($user['authlevel'] >= 2) {
+
+    if (in_array($user['authlevel'], array(LEVEL_ADMIN, LEVEL_OPERATOR))) {
 		includeLang('admin');
 		if ($_GET['cmd'] == 'dele') {
 			DeleteSelectedUser ( $_GET['user'] );
diff --git a/xnova-legacies_2009.3/admin/deletuser.php b/xnova-legacies_2009.4/admin/deletuser.php
index 2a4c75e..5bbfecd 100644
--- a/xnova-legacies_2009.3/admin/deletuser.php
+++ b/xnova-legacies_2009.4/admin/deletuser.php
@@ -33,7 +33,7 @@ define('INSTALL' , false);
 define('IN_ADMIN', true);
 require_once dirname(dirname(__FILE__)) .'/common.php';
 
-	if ( $CurrentUser['authlevel'] >= 1 ) {
+	if (in_array($CurrentUser['authlevel'], array(LEVEL_ADMIN, LEVEL_OPERATOR))) {
 		$PageTpl = gettemplate( "admin/deletuser" );
 
 		if ( $mode != "delet" ) {
diff --git a/xnova-legacies_2009.3/admin/errors.php b/xnova-legacies_2009.4/admin/errors.php
index ce9cc45..6309e5b 100644
--- a/xnova-legacies_2009.3/admin/errors.php
+++ b/xnova-legacies_2009.4/admin/errors.php
@@ -36,7 +36,7 @@ require_once dirname(dirname(__FILE__)) .'/common.php';
 includeLang('admin');
 $parse = $lang;
 
-	if ($user['authlevel'] >= 3) {
+	if (in_array($user['authlevel'], array(LEVEL_ADMIN))) {
 
 		// Supprimer les erreurs
 		extract($_GET);
diff --git a/xnova-legacies_2009.3/admin/leftmenu.php b/xnova-legacies_2009.4/admin/leftmenu.php
index bae3b64..4b41251 100644
--- a/xnova-legacies_2009.3/admin/leftmenu.php
+++ b/xnova-legacies_2009.4/admin/leftmenu.php
@@ -35,7 +35,7 @@ require_once dirname(dirname(__FILE__)) .'/common.php';
 
 includeLang('leftmenu');
 
-	if ($user['authlevel'] >= "1") {
+	if (in_array($user['authlevel'], array(LEVEL_ADMIN, LEVEL_OPERATOR, LEVEL_MODERATOR))) {
 		$parse                 = $lang;
 		$parse['mf']           = "Hauptframe";
 		$parse['dpath']        = $dpath;
diff --git a/xnova-legacies_2009.3/admin/mass_message.php b/xnova-legacies_2009.4/admin/mass_message.php
diff --git a/xnova-legacies_2009.3/admin/md5changepass.php b/xnova-legacies_2009.4/admin/md5changepass.php
index 60e855f..72ca6c4 100644
--- a/xnova-legacies_2009.3/admin/md5changepass.php
+++ b/xnova-legacies_2009.4/admin/md5changepass.php
@@ -32,7 +32,7 @@ define('INSIDE' , true);
 define('INSTALL' , false);
 define('IN_ADMIN', true);
 require_once dirname(dirname(__FILE__)) .'/common.php';
-	if ($user['authlevel'] >= "1") {
+	if (in_array($user['authlevel'], array(LEVEL_ADMIN, LEVEL_OPERATOR, LEVEL_MODERATOR))) {
 		includeLang('admin/changepass');
 
 		$parse   = $lang;
diff --git a/xnova-legacies_2009.3/admin/md5enc.php b/xnova-legacies_2009.4/admin/md5enc.php
index 0c18f90..20f3c2a 100644
--- a/xnova-legacies_2009.3/admin/md5enc.php
+++ b/xnova-legacies_2009.4/admin/md5enc.php
@@ -33,7 +33,7 @@ define('INSTALL' , false);
 define('IN_ADMIN', true);
 require_once dirname(dirname(__FILE__)) .'/common.php';
 
-	if ($user['authlevel'] >= "1") {
+	if (in_array($user['authlevel'], array(LEVEL_ADMIN, LEVEL_OPERATOR, LEVEL_MODERATOR))) {
 		includeLang('admin/md5enc');
 
 		$parse   = $lang;
diff --git a/xnova-legacies_2009.3/admin/messagelist.php b/xnova-legacies_2009.4/admin/messagelist.php
index d5a28a9..56dfd6a 100644
--- a/xnova-legacies_2009.3/admin/messagelist.php
+++ b/xnova-legacies_2009.4/admin/messagelist.php
@@ -33,7 +33,7 @@ define('INSTALL' , false);
 define('IN_ADMIN', true);
 require_once dirname(dirname(__FILE__)) .'/common.php';
 
-	if ($user['authlevel'] >= "2") {
+	if (in_array($user['authlevel'], array(LEVEL_ADMIN, LEVEL_OPERATOR))) {
 		includeLang('admin/messagelist');
 
 		$BodyTpl    = gettemplate('admin/messagelist_body');
diff --git a/xnova-legacies_2009.3/admin/messall.php b/xnova-legacies_2009.4/admin/messall.php
index d503ba8..9db39c5 100644
--- a/xnova-legacies_2009.3/admin/messall.php
+++ b/xnova-legacies_2009.4/admin/messall.php
@@ -33,7 +33,7 @@ define('INSTALL' , false);
 define('IN_ADMIN', true);
 require_once dirname(dirname(__FILE__)) .'/common.php';
 
-	if ($user['authlevel'] >= 1) {
+	if (in_array($user['authlevel'], array(LEVEL_ADMIN, LEVEL_OPERATOR, LEVEL_MODERATOR))) {
 		if ($_POST && $mode == "change") {
 			if (isset($_POST["tresc"]) && $_POST["tresc"] != '') {
 				$game_config['tresc'] = $_POST['tresc'];
@@ -41,15 +41,15 @@ require_once dirname(dirname(__FILE__)) .'/common.php';
 			if (isset($_POST["temat"]) && $_POST["temat"] != '') {
 				$game_config['temat'] = $_POST['temat'];
 			}
-			if ($user['authlevel'] == 3) {
+			if ($user['authlevel'] == LEVEL_ADMIN) {
 				$kolor = 'red';
 				$ranga = 'Administrator';
-			} elseif ($user['authlevel'] == 4) {
+			} elseif ($user['authlevel'] == LEVEL_OPERATOR) {
 				$kolor = 'skyblue';
-				$ranga = 'GameOperator';
-			} elseif ($user['authlevel'] == 5) {
+				$ranga = 'Operator';
+			} elseif ($user['authlevel'] == LEVEL_MODERATOR) {
 				$kolor = 'yellow';
-				$ranga = 'SuperGameOperator';
+				$ranga = 'Moderator';
 			}
 			if ($game_config['tresc'] != '' and $game_config['temat']) {
 				$sq      = doquery("SELECT `id` FROM {{table}}", "users");
diff --git a/xnova-legacies_2009.3/admin/moonlist.php b/xnova-legacies_2009.4/admin/moonlist.php
index c3d1f1e..510af57 100644
--- a/xnova-legacies_2009.3/admin/moonlist.php
+++ b/xnova-legacies_2009.4/admin/moonlist.php
@@ -32,7 +32,7 @@ define('INSIDE' , true);
 define('INSTALL' , false);
 define('IN_ADMIN', true);
 require_once dirname(dirname(__FILE__)) .'/common.php';
-	if ($user['authlevel'] >= "2") {
+	if (in_array($user['authlevel'], array(LEVEL_ADMIN, LEVEL_OPERATOR))) {
 		includeLang('overview');
 
 		$parse = $lang;
diff --git a/xnova-legacies_2009.3/admin/multi.php b/xnova-legacies_2009.4/admin/multi.php
index bd3d87a..b7d01e1 100644
--- a/xnova-legacies_2009.3/admin/multi.php
+++ b/xnova-legacies_2009.4/admin/multi.php
@@ -33,7 +33,7 @@ define('INSTALL' , false);
 define('IN_ADMIN', true);
 require_once dirname(dirname(__FILE__)) .'/common.php';
 
-	if ($user['authlevel'] >= 1) {
+	if (in_array($user['authlevel'], array(LEVEL_ADMIN, LEVEL_OPERATOR, LEVEL_MODERATOR))) {
 		includeLang('admin/multi');
 
 		$query   = doquery("SELECT * FROM {{table}}", 'multi');
diff --git a/xnova-legacies_2009.3/admin/overview.php b/xnova-legacies_2009.4/admin/overview.php
index 3994f55..f89a7ed 100644
--- a/xnova-legacies_2009.3/admin/overview.php
+++ b/xnova-legacies_2009.4/admin/overview.php
@@ -33,7 +33,7 @@ define('INSTALL' , false);
 define('IN_ADMIN', true);
 require_once dirname(dirname(__FILE__)) .'/common.php';
 
-	if ($user['authlevel'] >= 1) {
+	if (in_array($user['authlevel'], array(LEVEL_ADMIN, LEVEL_OPERATOR, LEVEL_MODERATOR))) {
 		includeLang('admin');
 
 		if ($_GET['cmd'] == 'sort') {
diff --git a/xnova-legacies_2009.3/admin/paneladmina.php b/xnova-legacies_2009.4/admin/paneladmina.php
index 971169d..86793a2 100644
--- a/xnova-legacies_2009.3/admin/paneladmina.php
+++ b/xnova-legacies_2009.4/admin/paneladmina.php
@@ -34,7 +34,7 @@ define('IN_ADMIN', true);
 
 require_once dirname(dirname(__FILE__)) .'/common.php';
 
-if ($user['authlevel'] >= "1") {
+	if (in_array($user['authlevel'], array(LEVEL_ADMIN, LEVEL_OPERATOR, LEVEL_MODERATOR))) {
 
     includeLang('admin/adminpanel');
 
@@ -119,7 +119,7 @@ if ($user['authlevel'] >= "1") {
                 $player = isset($_GET['player']) ? mysql_real_escape_string($_GET['player']) : '';
                 $level  = isset($_GET['authlvl']) ? mysql_real_escape_string($_GET['authlvl']) : '';
 
-                if ($level >= $user['authlevel'] && $user['authlevel'] < 3) {
+                if ($level >= $user['authlevel'] && $user['authlevel'] != LEVEL_ADMIN) {
                     AdminMessage('Not enough privilleges to promote user.', $lang['adm_mod_level']);
                     break;
                 }
diff --git a/xnova-legacies_2009.3/admin/planetlist.php b/xnova-legacies_2009.4/admin/planetlist.php
index d031781..99e9d49 100644
--- a/xnova-legacies_2009.3/admin/planetlist.php
+++ b/xnova-legacies_2009.4/admin/planetlist.php
@@ -33,7 +33,7 @@ define('INSTALL' , false);
 define('IN_ADMIN', true);
 require_once dirname(dirname(__FILE__)) .'/common.php';
 
-	if ($user['authlevel'] >= "2") {
+	if (in_array($user['authlevel'], array(LEVEL_ADMIN, LEVEL_OPERATOR))) {
 
 		$parse = $lang;
 		$query = doquery("SELECT * FROM {{table}} WHERE planet_type='1'", "planets");
diff --git a/xnova-legacies_2009.3/admin/settings.php b/xnova-legacies_2009.4/admin/settings.php
index 4606a1f..0703368 100644
--- a/xnova-legacies_2009.3/admin/settings.php
+++ b/xnova-legacies_2009.4/admin/settings.php
@@ -35,11 +35,11 @@ require_once dirname(dirname(__FILE__)) .'/common.php';
 
 
 function DisplayGameSettingsPage ( $CurrentUser ) {
-	global $lang, $game_config, $_POST;
+	global $lang, $game_config;
 
 	includeLang('admin/settings');
 
-	if ( $CurrentUser['authlevel'] >= 3 ) {
+	if (in_array((int) $CurrentUser['authlevel'], array(LEVEL_ADMIN))) {
 		if ($_POST['opt_save'] == "1") {
 			// Jeu Ouvert ou Ferm� !
 			if (isset($_POST['closed']) && $_POST['closed'] == 'on') {
@@ -200,6 +200,7 @@ $game_config['banner_source_post'] = $_POST['banner_source_post'];
 
 				// Configuration du Jeu
 			doquery("UPDATE {{table}} SET `config_value` = '". $game_config['forum_url']              ."' WHERE `config_name` = 'forum_url';", 'config');
+			doquery("UPDATE {{table}} SET `config_value` = '". $game_config['game_name']              ."' WHERE `config_name` = 'game_name';", 'config');
 			doquery("UPDATE {{table}} SET `config_value` = '". $game_config['game_speed']             ."' WHERE `config_name` = 'game_speed';", 'config');
 			doquery("UPDATE {{table}} SET `config_value` = '". $game_config['fleet_speed']            ."' WHERE `config_name` = 'fleet_speed';", 'config');
 			doquery("UPDATE {{table}} SET `config_value` = '". $game_config['resource_multiplier']    ."' WHERE `config_name` = 'resource_multiplier';", 'config');
@@ -214,7 +215,7 @@ $game_config['banner_source_post'] = $_POST['banner_source_post'];
 			doquery("UPDATE {{table}} SET `config_value` = '". $game_config['ForumBannerFrame']       ."' WHERE `config_name` = 'ForumBannerFrame';", 'config');
 
 			//Bannière
-						doquery("UPDATE {{table}} SET `config_value` = '". $game_config['banner_source_post']       ."' WHERE `config_name` = 'banner_source_post';", 'config');
+			doquery("UPDATE {{table}} SET `config_value` = '". $game_config['banner_source_post']       ."' WHERE `config_name` = 'banner_source_post';", 'config');
 
 			// Lien supplémentaire dans le menu
 			doquery("UPDATE {{table}} SET `config_value` = '". $game_config['link_enable']         ."' WHERE `config_name` = 'link_enable';", 'config');
diff --git a/xnova-legacies_2009.3/admin/statbuilder.php b/xnova-legacies_2009.4/admin/statbuilder.php
index c2ebb43..300898e 100644
--- a/xnova-legacies_2009.3/admin/statbuilder.php
+++ b/xnova-legacies_2009.4/admin/statbuilder.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -37,7 +37,7 @@ require_once dirname(dirname(__FILE__)) .'/common.php';
 include(ROOT_PATH . 'admin/statfunctions.' . PHPEXT);
 
 
-	if ($user['authlevel'] >= 1) {
+if (strtolower(substr(PHP_SAPI, 0, 3)) == 'cli' || in_array($user['authlevel'], array(LEVEL_ADMIN, LEVEL_OPERATOR, LEVEL_MODERATOR))) {
 	includeLang('admin');
 
 	$StatDate   = time();
@@ -45,7 +45,7 @@ include(ROOT_PATH . 'admin/statfunctions.' . PHPEXT);
 	doquery ( "DELETE FROM {{table}} WHERE `stat_code` = '2';" , 'statpoints');
 	doquery ( "UPDATE {{table}} SET `stat_code` = `stat_code` + '1';" , 'statpoints');
 
-	$GameUsers  = doquery("SELECT * FROM {{table}}", 'users');
+	$GameUsers  = doquery("SELECT * FROM {{table}} WHERE authlevel<3", 'users');
 
 	while ($CurUser = mysql_fetch_assoc($GameUsers)) {
 		// Recuperation des anciennes statistiques
@@ -264,7 +264,7 @@ include(ROOT_PATH . 'admin/statfunctions.' . PHPEXT);
 
 	AdminMessage ( $lang['adm_done'], $lang['adm_stat_title'] );
 
-	} else {
-		AdminMessage ( $lang['sys_noalloaw'], $lang['sys_noaccess'] );
-	}
+} else {
+	AdminMessage ( $lang['sys_noalloaw'], $lang['sys_noaccess'] );
+}
 
diff --git a/xnova-legacies_2009.3/admin/statfunctions.php b/xnova-legacies_2009.4/admin/statfunctions.php
diff --git a/xnova-legacies_2009.3/admin/unbanned.php b/xnova-legacies_2009.4/admin/unbanned.php
index 5085e77..8636506 100644
--- a/xnova-legacies_2009.3/admin/unbanned.php
+++ b/xnova-legacies_2009.4/admin/unbanned.php
@@ -33,7 +33,7 @@ define('INSTALL' , false);
 define('IN_ADMIN', true);
 require_once dirname(dirname(__FILE__)) .'/common.php';
 
-	if ($user['authlevel'] >= "2") {
+	if (in_array($user['authlevel'], array(LEVEL_ADMIN, LEVEL_OPERATOR))) {
 
 		$parse['dpath'] = $dpath;
 		$parse = $lang;
diff --git a/xnova-legacies_2009.3/admin/userlist.php b/xnova-legacies_2009.4/admin/userlist.php
index d3ae88c..922b23a 100644
--- a/xnova-legacies_2009.3/admin/userlist.php
+++ b/xnova-legacies_2009.4/admin/userlist.php
@@ -32,7 +32,8 @@ define('INSIDE' , true);
 define('INSTALL' , false);
 define('IN_ADMIN', true);
 require_once dirname(dirname(__FILE__)) .'/common.php';
-	if ($user['authlevel'] >= 2) {
+
+    if (in_array($user['authlevel'], array(LEVEL_ADMIN, LEVEL_OPERATOR))) {
 		includeLang('admin');
 		if ($_GET['cmd'] == 'dele') {
 			DeleteSelectedUser ( $_GET['user'] );
diff --git a/xnova-legacies_2009.3/admin/variables.php b/xnova-legacies_2009.4/admin/variables.php
index bb286b4..10599ea 100644
--- a/xnova-legacies_2009.3/admin/variables.php
+++ b/xnova-legacies_2009.4/admin/variables.php
@@ -33,7 +33,7 @@ define('INSTALL' , false);
 define('IN_ADMIN', true);
 require_once dirname(dirname(__FILE__)) .'/common.php';
 
-	if ($user['authlevel'] >= 1) {
+	if (in_array($user['authlevel'], array(LEVEL_ADMIN, LEVEL_OPERATOR, LEVEL_MODERATOR))) {
 
 				$parse['phpinfo'] = phpinfo();
 
diff --git a/xnova-legacies_2009.3/ainfo.php b/xnova-legacies_2009.4/ainfo.php
index 78b42ec..3c70731 100644
--- a/xnova-legacies_2009.3/ainfo.php
+++ b/xnova-legacies_2009.4/ainfo.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/alliance.php b/xnova-legacies_2009.4/alliance.php
index 54e5056..861d312 100644
--- a/xnova-legacies_2009.3/alliance.php
+++ b/xnova-legacies_2009.4/alliance.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/annonce.php b/xnova-legacies_2009.4/annonce.php
index e64958e..83c0a18 100644
--- a/xnova-legacies_2009.3/annonce.php
+++ b/xnova-legacies_2009.4/annonce.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/annonce2.php b/xnova-legacies_2009.4/annonce2.php
index 84ebce0..9c4a631 100644
--- a/xnova-legacies_2009.3/annonce2.php
+++ b/xnova-legacies_2009.4/annonce2.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/banned.php b/xnova-legacies_2009.4/banned.php
index 5cda34b..78359f7 100644
--- a/xnova-legacies_2009.3/banned.php
+++ b/xnova-legacies_2009.4/banned.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/buddy.php b/xnova-legacies_2009.4/buddy.php
index bceeb85..1a98371 100644
--- a/xnova-legacies_2009.3/buddy.php
+++ b/xnova-legacies_2009.4/buddy.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/buildings.php b/xnova-legacies_2009.4/buildings.php
index 6292b62..d9f1a1c 100644
--- a/xnova-legacies_2009.3/buildings.php
+++ b/xnova-legacies_2009.4/buildings.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/calc.php b/xnova-legacies_2009.4/calc.php
index e370560..2abcb2a 100644
--- a/xnova-legacies_2009.3/calc.php
+++ b/xnova-legacies_2009.4/calc.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/changelog.php b/xnova-legacies_2009.4/changelog.php
index 57c5927..221d91e 100644
--- a/xnova-legacies_2009.3/changelog.php
+++ b/xnova-legacies_2009.4/changelog.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/chat.php b/xnova-legacies_2009.4/chat.php
index f0ccf45..76d4f06 100644
--- a/xnova-legacies_2009.3/chat.php
+++ b/xnova-legacies_2009.4/chat.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/chat_add.php b/xnova-legacies_2009.4/chat_add.php
index 8be57e3..a6faba3 100644
--- a/xnova-legacies_2009.3/chat_add.php
+++ b/xnova-legacies_2009.4/chat_add.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/chat_msg.php b/xnova-legacies_2009.4/chat_msg.php
index 39d1a7d..ea05b05 100644
--- a/xnova-legacies_2009.3/chat_msg.php
+++ b/xnova-legacies_2009.4/chat_msg.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/common.php b/xnova-legacies_2009.4/common.php
index 6e9ebf9..b743580 100644
--- a/xnova-legacies_2009.3/common.php
+++ b/xnova-legacies_2009.4/common.php
@@ -29,15 +29,20 @@
  */
 
 session_start();
-defined('DEBUG') || @ini_set('display_errors', false);
-defined('DEBUG') || @error_reporting(E_ALL | E_STRICT);
+
+if (in_array(strtolower(getenv('DEBUG')), array('1', 'on', 'true'))) {
+    define('DEBUG', true);
+}
+
+!defined('DEBUG') || @ini_set('display_errors', false);
+!defined('DEBUG') || @error_reporting(E_ALL | E_STRICT);
 
 define('ROOT_PATH', realpath(dirname(__FILE__)) . DIRECTORY_SEPARATOR);
 define('PHPEXT', require 'extension.inc');
 
-define('VERSION', '2009.3');
+define('VERSION', '2009.4');
 
-if (0 === filesize(ROOT_PATH . 'config.php') /*&& !defined('IN_INSTALL')*/) {
+if (0 === filesize(ROOT_PATH . 'config.php')) {
     header('Location: install/');
     die();
 }
@@ -73,7 +78,7 @@ if (!defined('DISABLE_IDENTITY_CHECK')) {
     $Result        = CheckTheUser ( $IsUserChecked );
     $IsUserChecked = $Result['state'];
     $user          = $Result['record'];
-} else if (!defined('DISABLE_IDENTITY_CHECK') && $game_config['game_disable'] && $user['authlevel'] < 1) {
+} else if (!defined('DISABLE_IDENTITY_CHECK') && $game_config['game_disable'] && $user['authlevel'] == LEVEL_PLAYER) {
     message(stripslashes($game_config['close_reason']), $game_config['game_name']);
 }
 
@@ -84,26 +89,29 @@ if (empty($user) && !defined('DISABLE_IDENTITY_CHECK')) {
     header('Location: login.php');
     exit(0);
 }
-$_fleets = doquery('SELECT * FROM {{table}} WHERE `fleet_start_time` <= UNIX_TIMESTAMP()', 'fleets'); //  OR fleet_end_time <= ".time()
-while ($row = mysql_fetch_array($_fleets)) {
-    $array                = array();
-    $array['galaxy']      = $row['fleet_start_galaxy'];
-    $array['system']      = $row['fleet_start_system'];
-    $array['planet']      = $row['fleet_start_planet'];
-    $array['planet_type'] = $row['fleet_start_type'];
-
-    $temp = FlyingFleetHandler($array);
-}
 
-$_fleets = doquery('SELECT * FROM {{table}} WHERE `fleet_end_time` <= UNIX_TIMESTAMP()', 'fleets'); //  OR fleet_end_time <= ".time()
+$now = time();
+$sql =<<<SQL_EOF
+SELECT
+  fleet_start_galaxy AS galaxy,
+  fleet_start_system AS system,
+  fleet_start_planet AS planet,
+  fleet_start_type AS planet_type
+    FROM {{table}}
+    WHERE `fleet_start_time` <= {$now}
+UNION
+SELECT
+  fleet_end_galaxy AS galaxy,
+  fleet_end_system AS system,
+  fleet_end_planet AS planet,
+  fleet_end_type AS planet_type
+    FROM {{table}}
+    WHERE `fleet_end_time` <= {$now}
+SQL_EOF;
+
+$_fleets = doquery($sql, 'fleets');
 while ($row = mysql_fetch_array($_fleets)) {
-    $array                = array();
-    $array['galaxy']      = $row['fleet_end_galaxy'];
-    $array['system']      = $row['fleet_end_system'];
-    $array['planet']      = $row['fleet_end_planet'];
-    $array['planet_type'] = $row['fleet_end_type'];
-
-    $temp = FlyingFleetHandler($array);
+    FlyingFleetHandler($row);
 }
 
 unset($_fleets);
@@ -116,9 +124,15 @@ if (!defined('IN_ADMIN')) {
 }
 
 
-SetSelectedPlanet($user);
+if (!empty($user)) {
+    SetSelectedPlanet($user);
 
-$planetrow = doquery("SELECT * FROM {{table}} WHERE `id` = '".$user['current_planet']."';", 'planets', true);
-$galaxyrow = doquery("SELECT * FROM {{table}} WHERE `id_planet` = '".$planetrow['id']."';", 'galaxy', true);
+    $planetrow = doquery("SELECT * FROM {{table}} WHERE `id` = '".$user['current_planet']."';", 'planets', true);
+    $galaxyrow = doquery("SELECT * FROM {{table}} WHERE `id_planet` = '".$planetrow['id']."';", 'galaxy', true);
 
-CheckPlanetUsedFields($planetrow);
+    CheckPlanetUsedFields($planetrow);
+    PlanetResourceUpdate($user, $planetrow, time());
+} else {
+    $planetrow = array();
+    $galaxyrow = array();
+}
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/contact.php b/xnova-legacies_2009.4/contact.php
index 45c9138..07a44ce 100644
--- a/xnova-legacies_2009.3/contact.php
+++ b/xnova-legacies_2009.4/contact.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/css/about.css b/xnova-legacies_2009.4/css/about.css
diff --git a/xnova-legacies_2009.3/css/styles.css b/xnova-legacies_2009.4/css/styles.css
diff --git a/xnova-legacies_2009.3/db/mysql.php b/xnova-legacies_2009.4/db/mysql.php
diff --git a/xnova-legacies_2009.3/extension.inc b/xnova-legacies_2009.4/extension.inc
diff --git a/xnova-legacies_2009.3/fleet.php b/xnova-legacies_2009.4/fleet.php
index bcc8c65..fc38111 100644
--- a/xnova-legacies_2009.3/fleet.php
+++ b/xnova-legacies_2009.4/fleet.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/fleetback.php b/xnova-legacies_2009.4/fleetback.php
index ae73991..89c7cf2 100644
--- a/xnova-legacies_2009.3/fleetback.php
+++ b/xnova-legacies_2009.4/fleetback.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/fleetshortcut.php b/xnova-legacies_2009.4/fleetshortcut.php
index 91994e5..84927cd 100644
--- a/xnova-legacies_2009.3/fleetshortcut.php
+++ b/xnova-legacies_2009.4/fleetshortcut.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/floten2.php b/xnova-legacies_2009.4/floten2.php
index de47bb5..ec9f1ce 100644
--- a/xnova-legacies_2009.3/floten2.php
+++ b/xnova-legacies_2009.4/floten2.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -82,16 +82,17 @@ require_once dirname(__FILE__) .'/common.php';
 			$_POST['ship211'] >= 1 ||
 			$_POST['ship213'] >= 1 ||
 			$_POST['ship214'] >= 1 ||
-			$_POST['ship215'] >= 1) {
+			$_POST['ship215'] >= 1 ||
+			$_POST['ship216'] >= 1) {
 			if (!$YourPlanet) {
 				$missiontype[1] = $lang['type_mission'][1];
+				$missiontype[5] = $lang['type_mission'][5];
 			}
 			$missiontype[3] = $lang['type_mission'][3];
-			$missiontype[5] = $lang['type_mission'][5];
 		}
 
 
-	} elseif ($_POST['ship209'] >= 1 || $_POST['ship208']) {
+	} elseif ($_POST['ship209'] >= 1 || $_POST['ship208'] >= 1) {
 		$missiontype[3] = $lang['type_mission'][3];
 	}
 	if ($YourPlanet)
@@ -105,10 +106,10 @@ require_once dirname(__FILE__) .'/common.php';
 		$missiontype[2] = $lang['type_mission'][2];
 	}
 	if ( $_POST['planettype'] == 3 &&
-	     $_POST['ship214'] >= 1    &&
-           !$YourPlanet            &&
-           $UsedPlanet) {
-          $missiontype[9] = $lang['type_mission'][9];
+       ($_POST['ship214'] >= 1 || $_POST['ship216'] >= 1) &&
+       !$YourPlanet            &&
+       $UsedPlanet) {
+       $missiontype[9] = $lang['type_mission'][9];
    }
 
 	$fleetarray    = unserialize(base64_decode(str_rot13($_POST["usedfleet"])));
diff --git a/xnova-legacies_2009.3/floten3.php b/xnova-legacies_2009.4/floten3.php
index 367986c..0e43868 100644
--- a/xnova-legacies_2009.3/floten3.php
+++ b/xnova-legacies_2009.4/floten3.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -147,16 +147,17 @@ require_once dirname(__FILE__) .'/common.php';
 				$_POST['ship211'] >= 1 ||
 				$_POST['ship213'] >= 1 ||
 				$_POST['ship214'] >= 1 ||
-				$_POST['ship215'] >= 1) {
+				$_POST['ship215'] >= 1 ||
+				$_POST['ship216'] >= 1) {
 				if (!$YourPlanet) {
 					$missiontype[1] = $lang['type_mission'][1];
+					$missiontype[5] = $lang['type_mission'][5];
 				}
 				$missiontype[3] = $lang['type_mission'][3];
-				$missiontype[5] = $lang['type_mission'][5];
 			}
 
 
-		} elseif ($_POST['ship209'] >= 1 || $_POST['ship208']) {
+		} elseif ($_POST['ship209'] >= 1 || $_POST['ship208'] >= 1) {
 			$missiontype[3] = $lang['type_mission'][3];
 		}
 		if ($YourPlanet)
@@ -169,11 +170,10 @@ require_once dirname(__FILE__) .'/common.php';
 			 $UsedPlanet) {
 			$missiontype[2] = $lang['type_mission'][2];
 		}
-        if ( $_POST['planettype'] == 3 &&
-	     $_POST['ship214'] >= 1    &&
-           !$YourPlanet            &&
-           $UsedPlanet) {
-          $missiontype[9] = $lang['type_mission'][9];
+        if ($_POST['planettype'] == 3 &&
+	       ($_POST['ship214'] >= 1 || $_POST['ship216'] >= 1) &&
+           !$YourPlanet && $UsedPlanet) {
+           $missiontype[9] = $lang['type_mission'][9];
         }
 	}
 
@@ -457,9 +457,9 @@ require_once dirname(__FILE__) .'/common.php';
 	$QryInsertFleet .= "`fleet_end_system` = '". intval($_POST['system']) ."', ";
 	$QryInsertFleet .= "`fleet_end_planet` = '". intval($_POST['planet']) ."', ";
 	$QryInsertFleet .= "`fleet_end_type` = '". intval($_POST['planettype']) ."', ";
-	$QryInsertFleet .= "`fleet_resource_metal` = '". $TransMetal ."', ";
-	$QryInsertFleet .= "`fleet_resource_crystal` = '". $TransCrystal ."', ";
-	$QryInsertFleet .= "`fleet_resource_deuterium` = '". $TransDeuterium ."', ";
+	$QryInsertFleet .= "`fleet_resource_metal` = '". intval($TransMetal) ."', ";
+	$QryInsertFleet .= "`fleet_resource_crystal` = '". intval($TransCrystal) ."', ";
+	$QryInsertFleet .= "`fleet_resource_deuterium` = '". intval($TransDeuterium) ."', ";
 	$QryInsertFleet .= "`fleet_target_owner` = '". $TargetPlanet['id_owner'] ."', ";
 	$QryInsertFleet .= "`start_time` = '". time() ."';";
 	doquery( $QryInsertFleet, 'fleets');
diff --git a/xnova-legacies_2009.3/flotenajax.php b/xnova-legacies_2009.4/flotenajax.php
index e9e69ab..b29053c 100644
--- a/xnova-legacies_2009.3/flotenajax.php
+++ b/xnova-legacies_2009.4/flotenajax.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/frames.php b/xnova-legacies_2009.4/frames.php
index 5549f7c..53493c2 100644
--- a/xnova-legacies_2009.3/frames.php
+++ b/xnova-legacies_2009.4/frames.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/galaxy.php b/xnova-legacies_2009.4/galaxy.php
index 8f9fe90..123be8f 100644
--- a/xnova-legacies_2009.3/galaxy.php
+++ b/xnova-legacies_2009.4/galaxy.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -32,147 +32,127 @@ define('INSIDE' , true);
 define('INSTALL' , false);
 require_once dirname(__FILE__) .'/common.php';
 
-	includeLang('galaxy');
-
-	$CurrentPlanet = doquery("SELECT * FROM {{table}} WHERE `id` = '". $user['current_planet'] ."';", 'planets', true);
-	$lunarow       = doquery("SELECT * FROM {{table}} WHERE `id` = '". $user['current_luna'] ."';", 'lunas', true);
-	$galaxyrow     = doquery("SELECT * FROM {{table}} WHERE `id_planet` = '". $CurrentPlanet['id'] ."';", 'galaxy', true);
-
-	$dpath         = (!$user["dpath"]) ? DEFAULT_SKINPATH : $user["dpath"];
-	$fleetmax      = $user['computer_tech'] + 1;
-	$CurrentPlID   = $CurrentPlanet['id'];
-	$CurrentMIP    = $CurrentPlanet['interplanetary_misil'];
-	$CurrentRC     = $CurrentPlanet['recycler'];
-	$CurrentSP     = $CurrentPlanet['spy_sonde'];
-	$HavePhalanx   = $CurrentPlanet['phalanx'];
-	$CurrentSystem = $CurrentPlanet['system'];
-	$CurrentGalaxy = $CurrentPlanet['galaxy'];
-	$CanDestroy    = $CurrentPlanet[$resource[213]] + $CurrentPlanet[$resource[214]];
-
-	$maxfleet       = doquery("SELECT * FROM {{table}} WHERE `fleet_owner` = '". $user['id'] ."';", 'fleets');
-	$maxfleet_count = mysql_num_rows($maxfleet);
-
-	CheckPlanetUsedFields($CurrentPlanet);
-	CheckPlanetUsedFields($lunarow);
-
-	// Imperatif, dans quel mode suis-je (pour savoir dans quel etat j'ere)
-	if (!isset($mode)) {
-		if (isset($_GET['mode'])) {
-			$mode          = intval($_GET['mode']);
-		} else {
-			// ca ca sent l'appel sans parametres a plein nez
-			$mode          = 0;
-		}
-	}
-
-	if ($mode == 0) {
-		// On vient du menu
-		// Y a pas de parametres de passé
-		// On met ce qu'il faut pour commencer là ou l'on se trouve
-
-		$galaxy        = $CurrentPlanet['galaxy'];
-		$system        = $CurrentPlanet['system'];
-		$planet        = $CurrentPlanet['planet'];
-	} elseif ($mode == 1) {
-		// On vient du selecteur de galaxie
-		// Il nous poste :
-		// $_POST['galaxy']      => Galaxie affichée dans la case a saisir
-		// $_POST['galaxyLeft']  => <- A ete cliqué
-		// $_POST['galaxyRight'] => -> A ete cliqué
-		// $_POST['system']      => Systeme affiché dans la case a saisir
-		// $_POST['systemLeft']  => <- A ete cliqué
-		// $_POST['systemRight'] => -> A ete cliqué
-
-		if ($_POST["galaxyLeft"]) {
-			if ($_POST["galaxy"] < 1) {
-				$_POST["galaxy"] = 1;
-				$galaxy          = 1;
-			} elseif ($_POST["galaxy"] == 1) {
-				$_POST["galaxy"] = 1;
-				$galaxy          = 1;
-			} else {
-				$galaxy = $_POST["galaxy"] - 1;
-			}
-		} elseif ($_POST["galaxyRight"]) {
-			if ($_POST["galaxy"]      > MAX_GALAXY_IN_WORLD OR
-				$_POST["galaxyRight"] > MAX_GALAXY_IN_WORLD) {
-				$_POST["galaxy"]      = MAX_GALAXY_IN_WORLD;
-				$_POST["galaxyRight"] = MAX_GALAXY_IN_WORLD;
-				$galaxy               = MAX_GALAXY_IN_WORLD;
-			} elseif ($_POST["galaxy"] == MAX_GALAXY_IN_WORLD) {
-				$_POST["galaxy"]      = MAX_GALAXY_IN_WORLD;
-				$galaxy               = MAX_GALAXY_IN_WORLD;
-			} else {
-				$galaxy = $_POST["galaxy"] + 1;
-			}
-		} else {
-			$galaxy = $_POST["galaxy"];
-		}
-
-		if ($_POST["systemLeft"]) {
-			if ($_POST["system"] < 1) {
-				$_POST["system"] = 1;
-				$system          = 1;
-			} elseif ($_POST["system"] == 1) {
-				$_POST["system"] = 1;
-				$system          = 1;
-			} else {
-				$system = $_POST["system"] - 1;
-			}
-		} elseif ($_POST["systemRight"]) {
-			if ($_POST["system"]      > MAX_SYSTEM_IN_GALAXY OR
-				$_POST["systemRight"] > MAX_SYSTEM_IN_GALAXY) {
-				$_POST["system"]      = MAX_SYSTEM_IN_GALAXY;
-				$system               = MAX_SYSTEM_IN_GALAXY;
-			} elseif ($_POST["system"] == MAX_SYSTEM_IN_GALAXY) {
-				$_POST["system"]      = MAX_SYSTEM_IN_GALAXY;
-				$system               = MAX_SYSTEM_IN_GALAXY;
-			} else {
-				$system = $_POST["system"] + 1;
-			}
-		} else {
-			$system = $_POST["system"];
-		}
-	} elseif ($mode == 2) {
-		// Mais c'est qu'il mordrait !
-		// A t'on idée de vouloir lancer des MIP sur ce pauvre bonhomme !!
-
-		$galaxy        = $_GET['galaxy'];
-		$system        = $_GET['system'];
-		$planet        = $_GET['planet'];
-	} elseif ($mode == 3) {
-		// Appel depuis un menu avec uniquement galaxy et system de passé !
-		$galaxy        = $_GET['galaxy'];
-		$system        = $_GET['system'];
-	} else {
-		// Si j'arrive ici ...
-		// C'est qu'il y a vraiment eu un bug
-		$galaxy        = 1;
-		$system        = 1;
-	}
-
-	$planetcount = 0;
-	$lunacount   = 0;
-
-	$page  = InsertGalaxyScripts ( $CurrentPlanet );
-
-	$page .= "<body style=\"overflow: hidden;\" onUnload=\"\"><br><br>";
-	$page .= ShowGalaxySelector ( $galaxy, $system );
-
-	if ($mode == 2) {
-		$CurrentPlanetID = $_GET['current'];
-		$page .= ShowGalaxyMISelector ( $galaxy, $system, $planet, $CurrentPlanetID, $CurrentMIP );
-	}
-
-	$page .= "<table width=569><tbody>";
-
-	$page .= ShowGalaxyTitles ( $galaxy, $system );
-    $page .= ShowGalaxyRows   ( $galaxy, $system );
-    $page .= ShowGalaxyFooter ( $galaxy, $system,  $CurrentMIP, $CurrentRC, $CurrentSP);
-
-	$page .= "</tbody></table></div>";
-
-	display ($page, $lang[''], false, '', false);
+    includeLang('galaxy');
+
+    $CurrentPlanet = doquery("SELECT * FROM {{table}} WHERE `id` = '". $user['current_planet'] ."';", 'planets', true);
+    $lunarow       = doquery("SELECT * FROM {{table}} WHERE `id` = '". $user['current_luna'] ."';", 'lunas', true);
+    $galaxyrow     = doquery("SELECT * FROM {{table}} WHERE `id_planet` = '". $CurrentPlanet['id'] ."';", 'galaxy', true);
+
+    $dpath         = (!$user["dpath"]) ? DEFAULT_SKINPATH : $user["dpath"];
+    $fleetmax      = $user['computer_tech'] + 1;
+    $CurrentPlID   = $CurrentPlanet['id'];
+    $CurrentMIP    = $CurrentPlanet['interplanetary_misil'];
+    $CurrentRC     = $CurrentPlanet['recycler'];
+    $CurrentSP     = $CurrentPlanet['spy_sonde'];
+    $HavePhalanx   = $CurrentPlanet['phalanx'];
+    $CurrentSystem = $CurrentPlanet['system'];
+    $CurrentGalaxy = $CurrentPlanet['galaxy'];
+    $CanDestroy    = $CurrentPlanet[$resource[213]] + $CurrentPlanet[$resource[214]];
+
+    $maxfleet       = doquery("SELECT * FROM {{table}} WHERE `fleet_owner` = '". $user['id'] ."';", 'fleets');
+    $maxfleet_count = mysql_num_rows($maxfleet);
+
+    CheckPlanetUsedFields($CurrentPlanet);
+    CheckPlanetUsedFields($lunarow);
+
+    if (!isset($mode)) {
+        if (isset($_GET['mode'])) {
+            $mode = intval($_GET['mode']);
+        } else {
+            $mode = 0;
+        }
+    }
+
+    $galaxy = 1;
+    $system = 1;
+    $planet = null;
+
+    if ($mode == 0) {
+        $galaxy = $CurrentGalaxy;
+        $system = $CurrentSystem;
+    } elseif ($mode == 1 || $mode == 3) {
+        if (isset($_POST["galaxyLeft"])) {
+            if (!isset($_POST["galaxy"]) || $_POST["galaxy"] <= 1 || $_POST["galaxy"] > MAX_GALAXY_IN_WORLD) {
+                $galaxy = 1;
+            } else {
+                $galaxy = intval($_POST["galaxy"]) - 1;
+            }
+        } elseif (isset($_POST["galaxyRight"])) {
+            if (!isset($_POST["galaxy"]) || $_POST["galaxy"] >= MAX_GALAXY_IN_WORLD) {
+                $galaxy = MAX_GALAXY_IN_WORLD;
+            } else {
+                $galaxy = intval($_POST["galaxy"]) + 1;
+            }
+        } else if (!isset($_POST["galaxy"]) || $_POST["galaxy"] <= 1 || $_POST["galaxy"] > MAX_GALAXY_IN_WORLD) {
+            $galaxy = 1;
+        } else {
+            $galaxy = intval($_POST["galaxy"]);
+        }
+
+        if (isset($_POST["systemLeft"])) {
+            if (!isset($_POST["system"]) || $_POST["system"] <= 1 || $_POST["system"] > MAX_SYSTEM_IN_GALAXY) {
+                $system = 1;
+            } else {
+                $system = intval($_POST["system"]) - 1;
+            }
+        } elseif (isset($_POST["systemRight"])) {
+            if (!isset($_POST["system"]) || $_POST["system"] >= MAX_SYSTEM_IN_GALAXY) {
+                $system = MAX_SYSTEM_IN_GALAXY;
+            } else {
+                $system = intval($_POST["system"]) + 1;
+            }
+        } else if (!isset($_POST["system"]) || $_POST["system"] <= 1 || $_POST["system"] > MAX_SYSTEM_IN_GALAXY) {
+            $system = 1;
+        } else {
+            $system = intval($_POST["system"]);
+        }
+    } elseif ($mode == 2) {
+        if (!isset($_POST["galaxy"]) || $_POST["galaxy"] <= 0) {
+            $galaxy = 1;
+        } else if ($_POST["galaxy"] >= MAX_GALAXY_IN_WORLD) {
+            $galaxy = MAX_GALAXY_IN_WORLD;
+        } else {
+            $galaxy = intval($_POST["galaxy"]) + 1;
+        }
+
+        if (!isset($_POST["system"]) || $_POST["system"] <= 0) {
+            $system = 1;
+        } else if ($_POST["system"] >= MAX_SYSTEM_IN_GALAXY) {
+            $system = MAX_SYSTEM_IN_GALAXY;
+        } else {
+            $system = intval($_POST["system"]) + 1;
+        }
+
+        if (!isset($_POST["planet"]) || $_POST["planet"] <= 0) {
+            $planet = 1;
+        } else if ($_POST["planet"] >= MAX_PLANET_IN_SYSTEM) {
+            $planet = MAX_PLANET_IN_SYSTEM;
+        } else {
+            $planet = intval($_POST["planet"]) + 1;
+        }
+    }
+
+    $planetcount = 0;
+    $lunacount   = 0;
+
+    $page = InsertGalaxyScripts($CurrentPlanet);
+
+    $page .= "<body style=\"overflow: hidden;\" onUnload=\"\"><br><br>";
+    $page .= ShowGalaxySelector ( $galaxy, $system );
+
+    if ($mode == 2) {
+        $page .= ShowGalaxyMISelector($galaxy, $system, $planet, $CurrentPlanet['id'], $CurrentMIP);
+    }
+
+    $page .= "<table width=569><tbody>";
+
+    $page .= ShowGalaxyTitles($galaxy, $system);
+    $page .= ShowGalaxyRows($galaxy, $system);
+    $page .= ShowGalaxyFooter($galaxy, $system,  $CurrentMIP, $CurrentRC, $CurrentSP);
+
+    $page .= "</tbody></table></div>";
+
+    display ($page, $lang[''], false, '', false);
 
 // -----------------------------------------------------------------------------------------------------------
 // History version
diff --git a/xnova-legacies_2009.3/imperium.php b/xnova-legacies_2009.4/imperium.php
index 7562137..d8eaea5 100644
--- a/xnova-legacies_2009.3/imperium.php
+++ b/xnova-legacies_2009.4/imperium.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/CombatEngine.php b/xnova-legacies_2009.4/includes/CombatEngine.php
index 377737c..8bb3dd1 100644
--- a/xnova-legacies_2009.3/includes/CombatEngine.php
+++ b/xnova-legacies_2009.4/includes/CombatEngine.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/aks.php b/xnova-legacies_2009.4/includes/aks.php
index beb1176..bf36caf 100644
--- a/xnova-legacies_2009.3/includes/aks.php
+++ b/xnova-legacies_2009.4/includes/aks.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/ataki.php b/xnova-legacies_2009.4/includes/ataki.php
index d5cb11d..3339935 100644
--- a/xnova-legacies_2009.3/includes/ataki.php
+++ b/xnova-legacies_2009.4/includes/ataki.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.4/includes/classes/Legacies/Empire/Shipyard.php b/xnova-legacies_2009.4/includes/classes/Legacies/Empire/Shipyard.php
new file mode 100644
index 0000000..7f4a3c6
--- /dev/null
+++ b/xnova-legacies_2009.4/includes/classes/Legacies/Empire/Shipyard.php
@@ -0,0 +1,333 @@
+<?php
+/**
+ * This file is part of XNova:Legacies
+ *
+ * @license http://www.gnu.org/licenses/gpl-3.0.txt
+ * @see http://www.xnova-ng.org/
+ *
+ * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
+ * All rights reserved.
+ *
+ * This program is free software: you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation, either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.
+ *
+ *                                --> NOTICE <--
+ *  This file is part of the core development branch, changing its contents will
+ * make you unable to use the automatic updates manager. Please refer to the
+ * documentation for further information about customizing XNova.
+ *
+ */
+
+/**
+ *
+ * Enter description here ...
+ * @author Greg
+ *
+ */
+class Legacies_Empire_Shipyard
+{
+    protected $_currentPlanet = null;
+    protected $_currentUser = null;
+    protected $_queue = null;
+
+    private $_now = 0;
+
+    protected $_resourcesTypes = array(
+        Legacies_Empire::RESOURCE_METAL,
+        Legacies_Empire::RESOURCE_CRISTAL,
+        Legacies_Empire::RESOURCE_DEUTERIUM
+        );
+
+    protected static $_instances = array();
+
+    public static function factory($currentPlanet, $currentUser)
+    {
+        if (!isset($currentPlanet['id'])) {
+            return false;
+        }
+
+        if (!isset(self::$_instances[$currentPlanet['id']])) {
+            self::$_instances[$currentPlanet['id']] = new self($currentPlanet, $currentUser);
+        }
+        return self::$_instances[$currentPlanet['id']];
+    }
+
+    public function __construct($currentPlanet, $currentUser)
+    {
+        $this->_currentPlanet = $currentPlanet;
+        $this->_currentUser = $currentUser;
+
+        $this->_queue = unserialize($this->_currentPlanet['b_hangar_id']);
+        if (!is_array($this->_queue)) {
+            $this->_queue = array();
+        }
+
+        $this->_now = time();
+    }
+
+    protected function _now()
+    {
+        return $this->_now;
+    }
+
+    public function save()
+    {
+        global $reslist, $resource;
+
+        $this->_currentPlanet['b_hangar_id'] = serialize($this->_queue);
+
+        $sql = "UPDATE {{table}} AS planet SET ";
+
+        $fieldList = array_merge($reslist[Legacies_Empire::TYPE_SHIP], $reslist[Legacies_Empire::TYPE_DEFENSE]);
+        foreach ($fieldList as $field) {
+            $sql .= "{$resource[$field]}='{$this->_currentPlanet[$resource[$field]]}',";
+        }
+
+        foreach ($this->_resourcesTypes as $field) {
+            $sql .= "{$field}='{$this->_currentPlanet[$field]}',";
+        }
+
+        $escapedQueue = mysql_real_escape_string($this->_currentPlanet['b_hangar_id']);
+$sql .=<<<SQL_EOF
+  b_hangar_id = "{$escapedQueue}",
+  b_hangar    = "{$this->_now()}"
+  WHERE planet.id={$this->_currentPlanet['id']}
+SQL_EOF;
+        doquery($sql, 'planets'); // FIXME
+
+        return $this->_currentPlanet;
+    }
+
+    public function appendQueue($shipId, $qty)
+    {
+        global $reslist;
+
+        if (bccomp($qty, 0) <= 0) {
+            return $this;
+        }
+
+        if (!in_array($shipId, $reslist[Legacies_Empire::TYPE_SHIP]) && !in_array($shipId, $reslist[Legacies_Empire::TYPE_DEFENSE])) {
+            return $this;
+        }
+
+        if (!$this->checkAvailability($shipId)) {
+            return $this;
+        }
+
+        $qty = $this->_checkMaximumQuantity($shipId, $qty);
+
+        if (MAX_FLEET_OR_DEFS_PER_ROW > 0 && bccomp($qty, MAX_FLEET_OR_DEFS_PER_ROW) > 0) {
+            $qty = MAX_FLEET_OR_DEFS_PER_ROW;
+        }
+
+        $resourcesUsed = $this->_updateResources($shipId, $qty);
+        $buildTime = $this->getBuildTime($shipId, $qty);
+
+        $this->_queue[] = array(
+            'ship_id'    => $shipId,
+            'qty'        => $qty,
+            'created_at' => $this->_now(),
+            'updated_at' => $this->_now()
+            );
+
+        foreach ($this->_resourcesTypes as $resourceType) {
+            $this->_currentPlanet[$resourceType] = bcsub($this->_currentPlanet[$resourceType], $resourcesUsed[$resourceType]);
+        }
+
+        return $this;
+    }
+
+    public function updateQueue()
+    {
+        global $resource;
+
+        $elapsedTime = $this->_now() - $this->_currentPlanet['b_hangar'];
+
+        foreach ($this->_queue as $id => &$element) {
+            $buildTime = $this->getBuildTime($element['ship_id'], $element['qty']);
+
+            if ($elapsedTime >= $buildTime) {
+                $this->_currentPlanet[$resource[$element['ship_id']]] = bcadd($this->_currentPlanet[$resource[$element['ship_id']]], $element['qty']);
+                $elapsedTime -= $buildTime;
+                unset($this->_queue[$id]);
+                continue;
+            }
+
+            $timeRatio = $elapsedTime / $buildTime;
+            $itemsBuilt = bcmul($timeRatio, $element['qty']);
+
+            $element['updated_at'] = $this->_now();
+            $element['qty'] = bcsub($element['qty'], $itemsBuilt);
+            $this->_currentPlanet[$resource[$element['ship_id']]] = bcadd($this->_currentPlanet[$resource[$element['ship_id']]], $itemsBuilt);
+            break;
+        }
+        unset($element);
+
+        return $this;
+    }
+
+    public function getQueue()
+    {
+        return $this->_queue;
+    }
+
+    public function checkAvailability($shipId)
+    {
+        global $requirements, $resource, $reslist;
+
+        if (!isset($requirements[$shipId]) || empty($requirements[$shipId])) {
+            return true;
+        }
+
+        foreach ($requirements[$shipId] as $requirement => $level) {
+            if (in_array($requirement, $reslist[Legacies_Empire::TYPE_BUILDING]) &&
+                isset($this->_currentPlanet[$resource[$requirement]]) &&
+                $this->_currentPlanet[$resource[$requirement]] >= $level) {
+                continue;
+            } else if (in_array($requirement, $reslist[Legacies_Empire::TYPE_RESEARCH]) &&
+                isset($this->_currentUser[$resource[$requirement]]) &&
+                $this->_currentUser[$resource[$requirement]] >= $level) {
+                continue;
+            } else if (in_array($requirement, $reslist[Legacies_Empire::TYPE_DEFENSE]) &&
+                isset($this->_currentPlanet[$resource[$requirement]]) &&
+                $this->_currentPlanet[$resource[$requirement]] >= $level) {
+                continue;
+            } else if (in_array($requirement, $reslist[Legacies_Empire::TYPE_SHIP]) &&
+                isset($this->_currentPlanet[$resource[$requirement]]) &&
+                $this->_currentPlanet[$resource[$requirement]] >= $level) {
+                continue;
+            }
+            return false;
+        }
+        return true;
+    }
+
+    protected function _checkMaximumQuantity($shipId, $qty)
+    {
+        $max = $this->getMaximumBuildableElementsCount($shipId);
+
+        if (bccomp($qty, $max) > 0) {
+            return $max;
+        }
+
+        return $qty;
+    }
+
+    public function getMaximumBuildableElementsCount($shipId)
+    {
+        global $pricelist, $resource;
+
+        $resources = array(
+            Legacies_Empire::RESOURCE_METAL,
+            Legacies_Empire::RESOURCE_CRISTAL,
+            Legacies_Empire::RESOURCE_DEUTERIUM,
+            Legacies_Empire::RESOURCE_ENERGY
+            );
+
+        $qty = 0;
+        foreach ($resources as $resourceId) {
+            if (isset($pricelist[$shipId]) && isset($pricelist[$shipId][$resourceId]) && $pricelist[$shipId][$resourceId] > 0) {
+                $maxQty = bcdiv($this->_currentPlanet[$resourceId], $pricelist[$shipId][$resourceId]);
+
+                if (bccomp($maxQty, $qty) > 0) {
+                    $qty = $maxQty;
+                }
+            }
+        }
+
+        $limitedElementsQty = array(
+            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME      => array(
+                'current'   => $this->_currentPlanet[$resource[Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME]],
+                'requested' => $this->_currentPlanet[$resource[Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME]],
+                'limit'     => 1
+                ),
+            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME      => array(
+                'current'   => $this->_currentPlanet[$resource[Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME]],
+                'requested' => $this->_currentPlanet[$resource[Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME]],
+                'limit'     => 1
+                ),
+            Legacies_Empire::ID_SPECIAL_ANTIBALLISTIC_MISSILE  => array(
+                'current'   => $this->_currentPlanet[$resource[Legacies_Empire::ID_SPECIAL_ANTIBALLISTIC_MISSILE]],
+                'requested' => $this->_currentPlanet[$resource[Legacies_Empire::ID_SPECIAL_ANTIBALLISTIC_MISSILE]],
+                'limit'     => $this->_currentPlanet[$resource[Legacies_Empire::ID_BUILDING_MISSILE_SILO]] * 10
+                ),
+            Legacies_Empire::ID_SPECIAL_INTERPLANETARY_MISSILE => array(
+                'current'   => $this->_currentPlanet[$resource[Legacies_Empire::ID_SPECIAL_INTERPLANETARY_MISSILE]],
+                'requested' => $this->_currentPlanet[$resource[Legacies_Empire::ID_SPECIAL_INTERPLANETARY_MISSILE]],
+                'limit'     => $this->_currentPlanet[$resource[Legacies_Empire::ID_BUILDING_MISSILE_SILO]] * 5
+                )
+            );
+
+        if (in_array($shipId, array_keys($limitedElementsQty))) {
+            foreach ($this->_queue as $element) {
+                if ($element['ship_id'] != $shipId) {
+                    continue;
+                }
+
+                $limitedElementsQty[$shipId]['requested'] = bcadd($limitedElementsQty[$shipId]['requested'], $element['qty']);
+                if (bccomp($limitedElementsQty[$shipId]['requested'], $limitedElementsQty[$shipId]['limit']) >= 0) {
+                    return 0;
+                }
+            }
+            if (bccomp($limitedElementsQty[$shipId]['current'], $limitedElementsQty[$shipId]['limit']) >= 0) {
+                return 0;
+            }
+            if (bccomp($qty, $limitedElementsQty[$shipId]['limit']) >= 0) {
+                return $limitedElementsQty[$shipId]['limit'];
+            }
+        }
+
+        return $qty;
+    }
+
+    protected function _updateResources($shipId, $qty)
+    {
+        global $pricelist;
+
+        $resourcesUsed = array();
+        foreach ($this->_resourcesTypes as $resourceId) {
+            if (isset($pricelist[$shipId]) && isset($pricelist[$shipId][$resourceId]) && $pricelist[$shipId][$resourceId] > 0) {
+                $resourcesUsed[$resourceId] = bcmul($pricelist[$shipId][$resourceId], $qty);
+            }
+        }
+
+        return $resourcesUsed;
+    }
+
+    public function getBuildTime($shipId, $qty)
+    {
+        global $pricelist, $resource, $reslist, $game_config;
+
+        $scale = 30;
+
+        $totalCost = bcmul(bcadd($pricelist[$shipId][Legacies_Empire::RESOURCE_METAL], $pricelist[$shipId][Legacies_Empire::RESOURCE_CRISTAL]), $qty, $scale);
+        $speedFactor = $game_config['game_speed'];
+
+        $shipyardSpeedup = bcdiv(1, bcadd($this->_currentPlanet[$resource[Legacies_Empire::ID_BUILDING_SHIPYARD]], 1, $scale), $scale);
+        $naniteSpeedup = bcpow(.5, $this->_currentPlanet[$resource[Legacies_Empire::ID_BUILDING_NANITE_FACTORY]], $scale);
+        $structuresSpeedup = bcmul($shipyardSpeedup, $naniteSpeedup, $scale);
+
+        $officerSpeedup = 1;
+        if (in_array($shipId, $reslist[Legacies_Empire::TYPE_SHIP])) {
+            $officerSpeedup = 1 - ($this->_currentUser['rpg_technocrate'] * .05);
+        } else if (in_array($shipId, $reslist[Legacies_Empire::TYPE_SPECIAL])) {
+            $officerSpeedup = 1 - ($this->_currentUser['rpg_technocrate'] * .05);
+        } else if (in_array($shipId, $reslist[Legacies_Empire::TYPE_DEFENSE])) {
+            $officerSpeedup = 1 - ($this->_currentUser['rpg_defenseur'] * .375);
+        }
+
+        $baseTime = ($totalCost / $speedFactor) * $structuresSpeedup;
+
+        return $baseTime * $officerSpeedup * 3600;
+    }
+}
\ No newline at end of file
diff --git a/xnova-legacies_2009.4/includes/classes/Legacies/Empire.php b/xnova-legacies_2009.4/includes/classes/Legacies/Empire.php
new file mode 100644
index 0000000..c64ff67
--- /dev/null
+++ b/xnova-legacies_2009.4/includes/classes/Legacies/Empire.php
@@ -0,0 +1,129 @@
+<?php
+/**
+ * This file is part of XNova:Legacies
+ *
+ * @license http://www.gnu.org/licenses/gpl-3.0.txt
+ * @see http://www.xnova-ng.org/
+ *
+ * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
+ * All rights reserved.
+ *
+ * This program is free software: you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation, either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.
+ *
+ *                                --> NOTICE <--
+ *  This file is part of the core development branch, changing its contents will
+ * make you unable to use the automatic updates manager. Please refer to the
+ * documentation for further information about customizing XNova.
+ *
+ */
+
+/**
+ *
+ * Enter description here ...
+ * @author Greg
+ *
+ */
+
+class Legacies_Empire
+{
+    const TYPE_BUILDING   = 'build';
+    const TYPE_RESEARCH   = 'tech';
+    const TYPE_SHIP       = 'fleet';
+    const TYPE_DEFENSE    = 'defense';
+    const TYPE_SPECIAL    = 'special';
+    const TYPE_OFFICER    = 'officier';
+    const TYPE_PRODUCTION = 'prod';
+
+    const RESOURCE_METAL      = 'metal';
+    const RESOURCE_CRISTAL    = 'crystal';
+    const RESOURCE_DEUTERIUM  = 'deuterium';
+    const RESOURCE_ENERGY     = 'energy';
+    const RESOURCE_MULTIPLIER = 'factor';
+    const RESOURCE_FORMULA    = 'formule';
+
+    const SHIPS_CONSUMPTION_PRIMARY   = 'consumption';
+    const SHIPS_CELERITY_PRIMARY      = 'speed';
+    const SHIPS_CONSUMPTION_SECONDARY = 'consumption2';
+    const SHIPS_CELERITY_SECONDARY    = 'speed2';
+    const SHIPS_CAPACITY              = 'capacity';
+
+    const ID_BUILDING_METAL_MINE            = 1;
+    const ID_BUILDING_CRISTAL_MINE          = 2;
+    const ID_BUILDING_DEUTERIUM_SYNTHETISER = 3;
+    const ID_BUILDING_SOLAR_PLANT           = 4;
+    const ID_BUILDING_FUSION_REACTOR        = 12;
+    const ID_BUILDING_ROBOTIC_FACTORY       = 14;
+    const ID_BUILDING_NANITE_FACTORY        = 15;
+    const ID_BUILDING_SHIPYARD              = 21;
+    const ID_BUILDING_METAL_STORAGE         = 22;
+    const ID_BUILDING_CRISTAL_STORAGE       = 23;
+    const ID_BUILDING_DEUTERIUM_TANK        = 24;
+    const ID_BUILDING_RESEARCH_LAB          = 31;
+    const ID_BUILDING_TERRAFORMER           = 33;
+    const ID_BUILDING_ALLIANCE_DEPOT        = 34;
+    const ID_BUILDING_LUNAR_BASE            = 41;
+    const ID_BUILDING_SENSOR_PHALANX        = 42;
+    const ID_BUILDING_JUMP_GATE             = 43;
+    const ID_BUILDING_MISSILE_SILO          = 44;
+
+    const ID_RESEARCH_ESPIONAGE_TECHNOLOGY           = 106;
+    const ID_RESEARCH_COMPUTER_TECHNOLOGY            = 108;
+    const ID_RESEARCH_WEAPON_TECHNOLOGY              = 109;
+    const ID_RESEARCH_SHIELDING_TECHNOLOGY           = 110;
+    const ID_RESEARCH_ARMOUR_TECHNOLOGY              = 111;
+    const ID_RESEARCH_ENERGY_TECHNOLOGY              = 113;
+    const ID_RESEARCH_HYPERSPACE_TECHNOLOGY          = 114;
+    const ID_RESEARCH_COMBUSTION_DRIVE               = 115;
+    const ID_RESEARCH_IMPULSE_DRIVE                  = 117;
+    const ID_RESEARCH_HYPERSPACE_DRIVE               = 118;
+    const ID_RESEARCH_LASER_TECHNOLOGY               = 120;
+    const ID_RESEARCH_ION_TECHNOLOGY                 = 121;
+    const ID_RESEARCH_PLASMA_TECHNOLOGY              = 122;
+    const ID_RESEARCH_INTERGALACTIC_RESEARCH_NETWORK = 123;
+    const ID_RESEARCH_EXPEDITION_TECHNOLOGY          = 124;
+    const ID_RESEARCH_ASTROPHYSICS                   = 124;
+    const ID_RESEARCH_GRAVITON_TECHNOLOGY            = 199;
+
+    const ID_SHIP_LIGHT_TRANSPORT = 202;
+    const ID_SHIP_LARGE_TRANSPORT = 203;
+    const ID_SHIP_LIGHT_FIGHTER   = 204;
+    const ID_SHIP_HEAVY_FIGHTER   = 205;
+    const ID_SHIP_CRUISER         = 206;
+    const ID_SHIP_BATTLESHIP      = 207;
+    const ID_SHIP_COLONY_SHIP     = 208;
+    const ID_SHIP_RECYCLER        = 209;
+    const ID_SHIP_SPY_DRONE       = 210;
+    const ID_SHIP_BOMBER          = 211;
+    const ID_SHIP_SOLAR_SATELLITE = 212;
+    const ID_SHIP_DESTRUCTOR      = 213;
+    const ID_SHIP_DEATH_STAR      = 214;
+    const ID_SHIP_BATTLECRUISER   = 215;
+    const ID_SHIP_SUPERNOVA       = 216;
+
+    const ID_DEFENSE_ROCKET_LAUNCHER   = 401;
+    const ID_DEFENSE_LIGHT_LASER       = 402;
+    const ID_DEFENSE_HEAVY_LASER       = 403;
+    const ID_DEFENSE_ION_CANNON        = 404;
+    const ID_DEFENSE_GAUSS_CANNON      = 405;
+    const ID_DEFENSE_PLASMA_TURRET     = 406;
+    const ID_DEFENSE_SMALL_SHIELD_DOME = 407;
+    const ID_DEFENSE_LARGE_SHIELD_DOME = 408;
+
+    const ID_SPECIAL_ANTIBALLISTIC_MISSILE  = 502;
+    const ID_SPECIAL_INTERPLANETARY_MISSILE = 503;
+
+    const ID_COMBAT_SHIELDS    = 'shield';
+    const ID_COMBAT_FIREPOWER  = 'attack';
+    const ID_COMBAT_RAPID_FIRE = 'sd';
+}
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/includes/constants.php b/xnova-legacies_2009.4/includes/constants.php
index aaa0111..f08e3ed 100644
--- a/xnova-legacies_2009.3/includes/constants.php
+++ b/xnova-legacies_2009.4/includes/constants.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -28,46 +28,45 @@
  *
  */
 
-if ( defined('INSIDE') ) {
-	define('ADMINEMAIL'               , "admin@xnova-ng.org");
-	define('GAMEURL'                  , "http://".$_SERVER['HTTP_HOST']."/");
+define('ADMINEMAIL', "admin@xnova-ng.org");
+define('GAMEURL', "http://".$_SERVER['HTTP_HOST']."/");
 
-	// Definition du monde connu !
-	define('MAX_GALAXY_IN_WORLD'      , 9);
-	define('MAX_SYSTEM_IN_GALAXY'     , 499);
-	define('MAX_PLANET_IN_SYSTEM'     , 15);
-	// Nombre de colones pour les rapports d'espionnage
-	define('SPY_REPORT_ROW'           , 2);
-	// Cases données par niveau de Base Lunaire
-	define('FIELDS_BY_MOONBASIS_LEVEL', 4);
-	// Nombre maximum de colonie par joueur
-	define('MAX_PLAYER_PLANETS'       , 21);
-	// Nombre maximum d'element dans la liste de construction de batiments
-	define('MAX_BUILDING_QUEUE_SIZE'  , 5);
-	// Nombre maximum d'element dans une ligne de liste de construction flotte et defenses
-	define('MAX_FLEET_OR_DEFS_PER_ROW', 1000);
-	// Taux de depassement possible dans l'espace de stockage des hangards ...
-	// 1.0 pour 100% - 1.1 pour 110% etc ...
-	define('MAX_OVERFLOW'             , 1.1);
-	// Affiche les administrateur dans la page des records ...
-	// 0 -> les affiche
-	// 1 -> les affiche pas
-	define('SHOW_ADMIN_IN_RECORDS'    , 0);
+// Definition du monde connu !
+define('MAX_GALAXY_IN_WORLD', 9);
+define('MAX_SYSTEM_IN_GALAXY', 499);
+define('MAX_PLANET_IN_SYSTEM', 15);
 
-	// Valeurs de bases pour les colonies ou planetes fraichement crées
-	define('BASE_STORAGE_SIZE'        , 1000000);
-	define('BUILD_METAL'              , 500);
-	define('BUILD_CRISTAL'            , 500);
-	define('BUILD_DEUTERIUM'          , 500);
+define('LEVEL_ADMIN', 3);
+define('LEVEL_OPERATOR', 2);
+define('LEVEL_MODERATOR', 1);
+define('LEVEL_PLAYER', 0);
 
-	// Debug Level
-	define('DEBUG', 1); // Debugging off
-	// Mot qui sont interdit a la saisie !
-	$ListCensure = array ( "<", ">", "script", "doquery", "http", "javascript", "'" );
-} else {
-	die("Hacking attempt");
-}
+// Nombre de colones pour les rapports d'espionnage
+define('SPY_REPORT_ROW'           , 2);
 
+// Cases données par niveau de Base Lunaire
+define('FIELDS_BY_MOONBASIS_LEVEL', 4);
 
+// Nombre maximum de colonie par joueur
+define('MAX_PLAYER_PLANETS'       , 9);
+// Nombre maximum d'element dans la liste de construction de batiments
 
-?>
\ No newline at end of file
+define('MAX_BUILDING_QUEUE_SIZE'  , 5);
+// Nombre maximum d'element dans une ligne de liste de construction flotte et defenses
+define('MAX_FLEET_OR_DEFS_PER_ROW', 100000000);
+// Taux de depassement possible dans l'espace de stockage des hangars ...
+// 1.0 pour 100% - 1.1 pour 110% etc ...
+define('MAX_OVERFLOW'             , 1.1);
+// Affiche les administrateur dans la page des records ...
+// 0 -> les affiche
+// 1 -> les affiche pas
+define('SHOW_ADMIN_IN_RECORDS'    , 0);
+
+// Valeurs de bases pour les colonies ou planetes fraichement crées
+define('BASE_STORAGE_SIZE'        , 10000000);
+define('BUILD_METAL'              , 500);
+define('BUILD_CRISTAL'            , 500);
+define('BUILD_DEUTERIUM'          , 0);
+
+// Mot qui sont interdit a la saisie !
+$ListCensure = array ( "<", ">", "script", "doquery", "http", "javascript", "'" );
diff --git a/xnova-legacies_2009.4/includes/data/combat.php b/xnova-legacies_2009.4/includes/data/combat.php
new file mode 100644
index 0000000..2510630
--- /dev/null
+++ b/xnova-legacies_2009.4/includes/data/combat.php
@@ -0,0 +1,623 @@
+<?php return array(
+//
+// Ships combat capacities
+// {{{
+    Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT => array(
+        Legacies_Empire::ID_COMBAT_SHIELDS    => 10,
+        Legacies_Empire::ID_COMBAT_FIREPOWER  => 5,
+        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
+            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 1,
+            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 1,
+            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 1,
+            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 1,
+            Legacies_Empire::ID_SHIP_CRUISER              => 1,
+            Legacies_Empire::ID_SHIP_BATTLESHIP           => 1,
+            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1,
+            Legacies_Empire::ID_SHIP_RECYCLER             => 1,
+            Legacies_Empire::ID_SHIP_SPY_DRONE            => 5,
+            Legacies_Empire::ID_SHIP_BOMBER               => 1,
+            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 5,
+            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 1,
+            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
+            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 1,
+            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 1,
+            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 1,
+            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 1,
+            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 1,
+            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 1,
+            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
+            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
+            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
+            )
+        ),
+
+    Legacies_Empire::ID_SHIP_LARGE_TRANSPORT => array(
+        Legacies_Empire::ID_COMBAT_SHIELDS    => 25,
+        Legacies_Empire::ID_COMBAT_FIREPOWER  => 5,
+        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
+            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 1,
+            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 1,
+            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 1,
+            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 1,
+            Legacies_Empire::ID_SHIP_CRUISER              => 1,
+            Legacies_Empire::ID_SHIP_BATTLESHIP           => 1,
+            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1,
+            Legacies_Empire::ID_SHIP_RECYCLER             => 1,
+            Legacies_Empire::ID_SHIP_SPY_DRONE            => 5,
+            Legacies_Empire::ID_SHIP_BOMBER               => 1,
+            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 5,
+            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 1,
+            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
+            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 1,
+            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 1,
+            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 1,
+            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 1,
+            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 1,
+            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 1,
+            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
+            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
+            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
+            )
+        ),
+
+    Legacies_Empire::ID_SHIP_LIGHT_FIGHTER => array(
+        Legacies_Empire::ID_COMBAT_SHIELDS    => 10,
+        Legacies_Empire::ID_COMBAT_FIREPOWER  => 50,
+        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
+            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 2,
+            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 1,
+            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 1,
+            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 1,
+            Legacies_Empire::ID_SHIP_CRUISER              => 1,
+            Legacies_Empire::ID_SHIP_BATTLESHIP           => 1,
+            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1,
+            Legacies_Empire::ID_SHIP_RECYCLER             => 1,
+            Legacies_Empire::ID_SHIP_SPY_DRONE            => 5,
+            Legacies_Empire::ID_SHIP_BOMBER               => 1,
+            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 5,
+            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 1,
+            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
+            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 1,
+            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 1,
+            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 1,
+            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 1,
+            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 1,
+            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 1,
+            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
+            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
+            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
+            )
+        ),
+
+    Legacies_Empire::ID_SHIP_HEAVY_FIGHTER => array(
+        Legacies_Empire::ID_COMBAT_SHIELDS    => 25,
+        Legacies_Empire::ID_COMBAT_FIREPOWER  => 150,
+        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
+            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 3,
+            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 1,
+            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 1,
+            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 1,
+            Legacies_Empire::ID_SHIP_CRUISER              => 1,
+            Legacies_Empire::ID_SHIP_BATTLESHIP           => 1,
+            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1,
+            Legacies_Empire::ID_SHIP_RECYCLER             => 1,
+            Legacies_Empire::ID_SHIP_SPY_DRONE            => 5,
+            Legacies_Empire::ID_SHIP_BOMBER               => 1,
+            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 5,
+            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 1,
+            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
+            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 1,
+            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 1,
+            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 1,
+            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 1,
+            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 1,
+            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 1,
+            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
+            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
+            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
+            )
+        ),
+
+    Legacies_Empire::ID_SHIP_CRUISER => array(
+        Legacies_Empire::ID_COMBAT_SHIELDS    => 50,
+        Legacies_Empire::ID_COMBAT_FIREPOWER  => 400,
+        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
+            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 1,
+            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 1,
+            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 6,
+            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 1,
+            Legacies_Empire::ID_SHIP_CRUISER              => 1,
+            Legacies_Empire::ID_SHIP_BATTLESHIP           => 1,
+            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1,
+            Legacies_Empire::ID_SHIP_RECYCLER             => 1,
+            Legacies_Empire::ID_SHIP_SPY_DRONE            => 5,
+            Legacies_Empire::ID_SHIP_BOMBER               => 1,
+            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 5,
+            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 1,
+            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
+            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 1,
+            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 10,
+            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 1,
+            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 1,
+            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 1,
+            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 1,
+            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
+            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
+            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
+            )
+        ),
+
+    Legacies_Empire::ID_SHIP_BATTLESHIP => array(
+        Legacies_Empire::ID_COMBAT_SHIELDS    => 200,
+        Legacies_Empire::ID_COMBAT_FIREPOWER  => 1000,
+        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
+            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 1,
+            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 1,
+            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 1,
+            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 1,
+            Legacies_Empire::ID_SHIP_CRUISER              => 1,
+            Legacies_Empire::ID_SHIP_BATTLESHIP           => 1,
+            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1,
+            Legacies_Empire::ID_SHIP_RECYCLER             => 1,
+            Legacies_Empire::ID_SHIP_SPY_DRONE            => 5,
+            Legacies_Empire::ID_SHIP_BOMBER               => 1,
+            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 5,
+            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 1,
+            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
+            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 1,
+            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 8,
+            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 1,
+            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 1,
+            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 1,
+            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 1,
+            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
+            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
+            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
+            )
+        ),
+
+    Legacies_Empire::ID_SHIP_COLONY_SHIP => array(
+        Legacies_Empire::ID_COMBAT_SHIELDS    => 100,
+        Legacies_Empire::ID_COMBAT_FIREPOWER  => 50,
+        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
+            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 1,
+            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 1,
+            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 1,
+            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 1,
+            Legacies_Empire::ID_SHIP_CRUISER              => 1,
+            Legacies_Empire::ID_SHIP_BATTLESHIP           => 1,
+            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1,
+            Legacies_Empire::ID_SHIP_RECYCLER             => 1,
+            Legacies_Empire::ID_SHIP_SPY_DRONE            => 5,
+            Legacies_Empire::ID_SHIP_BOMBER               => 1,
+            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 5,
+            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 1,
+            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
+            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 1,
+            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 1,
+            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 1,
+            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 1,
+            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 1,
+            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 1,
+            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
+            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
+            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
+            )
+        ),
+
+    Legacies_Empire::ID_SHIP_RECYCLER => array(
+        Legacies_Empire::ID_COMBAT_SHIELDS    => 10,
+        Legacies_Empire::ID_COMBAT_FIREPOWER  => 1,
+        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
+            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 1,
+            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 1,
+            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 1,
+            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 1,
+            Legacies_Empire::ID_SHIP_CRUISER              => 1,
+            Legacies_Empire::ID_SHIP_BATTLESHIP           => 1,
+            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1,
+            Legacies_Empire::ID_SHIP_RECYCLER             => 1,
+            Legacies_Empire::ID_SHIP_SPY_DRONE            => 5,
+            Legacies_Empire::ID_SHIP_BOMBER               => 1,
+            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 5,
+            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 1,
+            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
+            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 1,
+            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 1,
+            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 1,
+            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 1,
+            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 1,
+            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 1,
+            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
+            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
+            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
+            )
+        ),
+
+    Legacies_Empire::ID_SHIP_SPY_DRONE => array(
+        Legacies_Empire::ID_COMBAT_SHIELDS    => 0,
+        Legacies_Empire::ID_COMBAT_FIREPOWER  => 0,
+        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
+            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 0,
+            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 0,
+            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 0,
+            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 0,
+            Legacies_Empire::ID_SHIP_CRUISER              => 0,
+            Legacies_Empire::ID_SHIP_BATTLESHIP           => 0,
+            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 0,
+            Legacies_Empire::ID_SHIP_RECYCLER             => 0,
+            Legacies_Empire::ID_SHIP_SPY_DRONE            => 0,
+            Legacies_Empire::ID_SHIP_BOMBER               => 0,
+            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 0,
+            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 0,
+            Legacies_Empire::ID_SHIP_DEATH_STAR           => 0,
+            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 0,
+            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 0,
+            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 0,
+            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 0,
+            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 0,
+            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 0,
+            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 0,
+            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 0,
+            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 0
+            )
+        ),
+
+    Legacies_Empire::ID_SHIP_BOMBER => array(
+        Legacies_Empire::ID_COMBAT_SHIELDS => 500,
+        Legacies_Empire::ID_COMBAT_FIREPOWER => 1000,
+        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
+            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 1,
+            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 1,
+            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 1,
+            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 1,
+            Legacies_Empire::ID_SHIP_CRUISER              => 1,
+            Legacies_Empire::ID_SHIP_BATTLESHIP           => 1,
+            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1,
+            Legacies_Empire::ID_SHIP_RECYCLER             => 1,
+            Legacies_Empire::ID_SHIP_SPY_DRONE            => 5,
+            Legacies_Empire::ID_SHIP_BOMBER               => 1,
+            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 5,
+            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 1,
+            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
+            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 1,
+            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 20,
+            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 20,
+            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 10,
+            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 1,
+            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 10,
+            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
+            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
+            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
+            )
+        ),
+
+    Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => array(
+        Legacies_Empire::ID_COMBAT_SHIELDS    => 10,
+        Legacies_Empire::ID_COMBAT_FIREPOWER  => 1,
+        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
+            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 1,
+            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 1,
+            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 1,
+            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 1,
+            Legacies_Empire::ID_SHIP_CRUISER              => 1,
+            Legacies_Empire::ID_SHIP_BATTLESHIP           => 1,
+            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1,
+            Legacies_Empire::ID_SHIP_RECYCLER             => 1,
+            Legacies_Empire::ID_SHIP_SPY_DRONE            => 1,
+            Legacies_Empire::ID_SHIP_BOMBER               => 1,
+            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 0,
+            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 1,
+            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
+            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 1,
+            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 1,
+            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 1,
+            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 1,
+            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 1,
+            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 1,
+            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
+            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
+            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
+            )
+        ),
+
+    Legacies_Empire::ID_SHIP_DESTRUCTOR => array(
+        Legacies_Empire::ID_COMBAT_SHIELDS    => 500,
+        Legacies_Empire::ID_COMBAT_FIREPOWER  => 2000,
+        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
+            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 1,
+            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 1,
+            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 1,
+            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 1,
+            Legacies_Empire::ID_SHIP_CRUISER              => 1,
+            Legacies_Empire::ID_SHIP_BATTLESHIP           => 1,
+            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1,
+            Legacies_Empire::ID_SHIP_RECYCLER             => 1,
+            Legacies_Empire::ID_SHIP_SPY_DRONE            => 5,
+            Legacies_Empire::ID_SHIP_BOMBER               => 1,
+            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 5,
+            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 1,
+            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
+            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 2,
+            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 1,
+            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 10,
+            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 1,
+            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 1,
+            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 1,
+            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
+            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
+            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
+            )
+        ),
+
+    Legacies_Empire::ID_SHIP_DEATH_STAR => array(
+        Legacies_Empire::ID_COMBAT_SHIELDS    => 50000,
+        Legacies_Empire::ID_COMBAT_FIREPOWER  => 200000,
+        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
+            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 250,
+            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 250,
+            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 200,
+            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 100,
+            Legacies_Empire::ID_SHIP_CRUISER              => 33,
+            Legacies_Empire::ID_SHIP_BATTLESHIP           => 30,
+            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 250,
+            Legacies_Empire::ID_SHIP_RECYCLER             => 250,
+            Legacies_Empire::ID_SHIP_SPY_DRONE            => 1250,
+            Legacies_Empire::ID_SHIP_BOMBER               => 25,
+            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 1250,
+            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 5,
+            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
+            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 15,
+            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 200,
+            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 200,
+            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 100,
+            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 50,
+            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 100,
+            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
+            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
+            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
+            )
+        ),
+
+    Legacies_Empire::ID_SHIP_BATTLECRUISER => array(
+        Legacies_Empire::ID_COMBAT_SHIELDS    => 400,
+        Legacies_Empire::ID_COMBAT_FIREPOWER  => 700,
+        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
+            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 3,
+            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 3,
+            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 1,
+            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 4,
+            Legacies_Empire::ID_SHIP_CRUISER              => 4,
+            Legacies_Empire::ID_SHIP_BATTLESHIP           => 7,
+            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1,
+            Legacies_Empire::ID_SHIP_RECYCLER             => 1,
+            Legacies_Empire::ID_SHIP_SPY_DRONE            => 5,
+            Legacies_Empire::ID_SHIP_BOMBER               => 1,
+            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 5,
+            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 1,
+            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
+            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 1,
+            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 1,
+            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 1,
+            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 1,
+            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 1,
+            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 1,
+            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
+            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
+            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
+            )
+        ),
+
+    Legacies_Empire::ID_SHIP_SUPERNOVA => array(
+        Legacies_Empire::ID_COMBAT_SHIELDS    => 400,
+        Legacies_Empire::ID_COMBAT_FIREPOWER  => 700,
+        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
+            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 1250,
+            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 1250,
+            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 1000,
+            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 500,
+            Legacies_Empire::ID_SHIP_CRUISER              => 165,
+            Legacies_Empire::ID_SHIP_BATTLESHIP           => 150,
+            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1250,
+            Legacies_Empire::ID_SHIP_RECYCLER             => 1250,
+            Legacies_Empire::ID_SHIP_SPY_DRONE            => 6250,
+            Legacies_Empire::ID_SHIP_BOMBER               => 125,
+            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 6250,
+            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 25,
+            Legacies_Empire::ID_SHIP_DEATH_STAR           => 5,
+            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 75,
+            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 1000,
+            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 1000,
+            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 500,
+            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 250,
+            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 500,
+            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 5,
+            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
+            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
+            )
+        ),
+// }}}
+
+//
+// Defense combat capacities
+// {{{
+    Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER => array (
+        Legacies_Empire::ID_COMBAT_SHIELDS    => 20,
+        Legacies_Empire::ID_COMBAT_FIREPOWER  => 80,
+        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
+            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT => 1,
+            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT => 1,
+            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER   => 1,
+            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER   => 1,
+            Legacies_Empire::ID_SHIP_CRUISER         => 1,
+            Legacies_Empire::ID_SHIP_BATTLESHIP      => 1,
+            Legacies_Empire::ID_SHIP_COLONY_SHIP     => 1,
+            Legacies_Empire::ID_SHIP_RECYCLER        => 1,
+            Legacies_Empire::ID_SHIP_SPY_DRONE       => 5,
+            Legacies_Empire::ID_SHIP_BOMBER          => 1,
+            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => 0,
+            Legacies_Empire::ID_SHIP_DESTRUCTOR      => 1,
+            Legacies_Empire::ID_SHIP_DEATH_STAR      => 1,
+            Legacies_Empire::ID_SHIP_BATTLECRUISER   => 1
+            )
+        ),
+
+    Legacies_Empire::ID_DEFENSE_LIGHT_LASER => array (
+        Legacies_Empire::ID_COMBAT_SHIELDS    => 25,
+        Legacies_Empire::ID_COMBAT_FIREPOWER  => 100,
+        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
+            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT => 1,
+            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT => 1,
+            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER   => 1,
+            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER   => 1,
+            Legacies_Empire::ID_SHIP_CRUISER         => 1,
+            Legacies_Empire::ID_SHIP_BATTLESHIP      => 1,
+            Legacies_Empire::ID_SHIP_COLONY_SHIP     => 1,
+            Legacies_Empire::ID_SHIP_RECYCLER        => 1,
+            Legacies_Empire::ID_SHIP_SPY_DRONE       => 5,
+            Legacies_Empire::ID_SHIP_BOMBER          => 1,
+            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => 0,
+            Legacies_Empire::ID_SHIP_DESTRUCTOR      => 1,
+            Legacies_Empire::ID_SHIP_DEATH_STAR      => 1,
+            Legacies_Empire::ID_SHIP_BATTLECRUISER   => 1
+            )
+        ),
+
+    Legacies_Empire::ID_DEFENSE_HEAVY_LASER => array (
+        Legacies_Empire::ID_COMBAT_SHIELDS    => 100,
+        Legacies_Empire::ID_COMBAT_FIREPOWER  => 250,
+        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
+            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT => 1,
+            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT => 1,
+            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER   => 1,
+            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER   => 1,
+            Legacies_Empire::ID_SHIP_CRUISER         => 1,
+            Legacies_Empire::ID_SHIP_BATTLESHIP      => 1,
+            Legacies_Empire::ID_SHIP_COLONY_SHIP     => 1,
+            Legacies_Empire::ID_SHIP_RECYCLER        => 1,
+            Legacies_Empire::ID_SHIP_SPY_DRONE       => 5,
+            Legacies_Empire::ID_SHIP_BOMBER          => 1,
+            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => 0,
+            Legacies_Empire::ID_SHIP_DESTRUCTOR      => 1,
+            Legacies_Empire::ID_SHIP_DEATH_STAR      => 1,
+            Legacies_Empire::ID_SHIP_BATTLECRUISER   => 1
+            )
+        ),
+
+    Legacies_Empire::ID_DEFENSE_ION_CANNON => array(
+        Legacies_Empire::ID_COMBAT_SHIELDS    => 200,
+        Legacies_Empire::ID_COMBAT_FIREPOWER  => 1100,
+        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
+            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT => 1,
+            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT => 1,
+            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER   => 1,
+            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER   => 1,
+            Legacies_Empire::ID_SHIP_CRUISER         => 1,
+            Legacies_Empire::ID_SHIP_BATTLESHIP      => 1,
+            Legacies_Empire::ID_SHIP_COLONY_SHIP     => 1,
+            Legacies_Empire::ID_SHIP_RECYCLER        => 1,
+            Legacies_Empire::ID_SHIP_SPY_DRONE       => 5,
+            Legacies_Empire::ID_SHIP_BOMBER          => 1,
+            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => 0,
+            Legacies_Empire::ID_SHIP_DESTRUCTOR      => 1,
+            Legacies_Empire::ID_SHIP_DEATH_STAR      => 1,
+            Legacies_Empire::ID_SHIP_BATTLECRUISER   => 1
+            )
+        ),
+
+    Legacies_Empire::ID_DEFENSE_GAUSS_CANNON => array (
+        Legacies_Empire::ID_COMBAT_SHIELDS    => 500,
+        Legacies_Empire::ID_COMBAT_FIREPOWER  => 150,
+        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
+            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT => 1,
+            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT => 1,
+            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER   => 1,
+            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER   => 1,
+            Legacies_Empire::ID_SHIP_CRUISER         => 1,
+            Legacies_Empire::ID_SHIP_BATTLESHIP      => 1,
+            Legacies_Empire::ID_SHIP_COLONY_SHIP     => 1,
+            Legacies_Empire::ID_SHIP_RECYCLER        => 1,
+            Legacies_Empire::ID_SHIP_SPY_DRONE       => 5,
+            Legacies_Empire::ID_SHIP_BOMBER          => 1,
+            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => 0,
+            Legacies_Empire::ID_SHIP_DESTRUCTOR      => 1,
+            Legacies_Empire::ID_SHIP_DEATH_STAR      => 1,
+            Legacies_Empire::ID_SHIP_BATTLECRUISER   => 1
+            )
+        ),
+
+    Legacies_Empire::ID_DEFENSE_PLASMA_TURRET => array(
+        Legacies_Empire::ID_COMBAT_SHIELDS     => 300,
+         Legacies_Empire::ID_COMBAT_FIREPOWER  => 3000,
+         Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
+            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT => 1,
+            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT => 1,
+            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER   => 1,
+            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER   => 1,
+            Legacies_Empire::ID_SHIP_CRUISER         => 1,
+            Legacies_Empire::ID_SHIP_BATTLESHIP      => 1,
+            Legacies_Empire::ID_SHIP_COLONY_SHIP     => 1,
+            Legacies_Empire::ID_SHIP_RECYCLER        => 1,
+            Legacies_Empire::ID_SHIP_SPY_DRONE       => 5,
+            Legacies_Empire::ID_SHIP_BOMBER          => 1,
+            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => 0,
+            Legacies_Empire::ID_SHIP_DESTRUCTOR      => 1,
+            Legacies_Empire::ID_SHIP_DEATH_STAR      => 1,
+            Legacies_Empire::ID_SHIP_BATTLECRUISER   => 1
+            )
+        ),
+
+    Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => array(
+        Legacies_Empire::ID_COMBAT_SHIELDS    => 2000,
+        Legacies_Empire::ID_COMBAT_FIREPOWER  => 1,
+        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
+            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT => 1,
+            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT => 1,
+            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER   => 1,
+            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER   => 1,
+            Legacies_Empire::ID_SHIP_CRUISER         => 1,
+            Legacies_Empire::ID_SHIP_BATTLESHIP      => 1,
+            Legacies_Empire::ID_SHIP_COLONY_SHIP     => 1,
+            Legacies_Empire::ID_SHIP_RECYCLER        => 1,
+            Legacies_Empire::ID_SHIP_SPY_DRONE       => 5,
+            Legacies_Empire::ID_SHIP_BOMBER          => 1,
+            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => 0,
+            Legacies_Empire::ID_SHIP_DESTRUCTOR      => 1,
+            Legacies_Empire::ID_SHIP_DEATH_STAR      => 1,
+            Legacies_Empire::ID_SHIP_BATTLECRUISER   => 1
+            )
+        ),
+
+    Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => array(
+        Legacies_Empire::ID_COMBAT_SHIELDS    => 2000,
+        Legacies_Empire::ID_COMBAT_FIREPOWER  => 1,
+        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
+            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT => 1,
+            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT => 1,
+            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER   => 1,
+            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER   => 1,
+            Legacies_Empire::ID_SHIP_CRUISER         => 1,
+            Legacies_Empire::ID_SHIP_BATTLESHIP      => 1,
+            Legacies_Empire::ID_SHIP_COLONY_SHIP     => 1,
+            Legacies_Empire::ID_SHIP_RECYCLER        => 1,
+            Legacies_Empire::ID_SHIP_SPY_DRONE       => 5,
+            Legacies_Empire::ID_SHIP_BOMBER          => 1,
+            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => 0,
+            Legacies_Empire::ID_SHIP_DESTRUCTOR      => 1,
+            Legacies_Empire::ID_SHIP_DEATH_STAR      => 1,
+            Legacies_Empire::ID_SHIP_BATTLECRUISER   => 1
+            )
+        ),
+
+
+    Legacies_Empire::ID_SPECIAL_ANTIBALLISTIC_MISSILE => array(
+        Legacies_Empire::ID_COMBAT_SHIELDS   => 1,
+        Legacies_Empire::ID_COMBAT_FIREPOWER => 1
+        ),
+
+    Legacies_Empire::ID_SPECIAL_INTERPLANETARY_MISSILE => array(
+        Legacies_Empire::ID_COMBAT_SHIELDS   => 1,
+        Legacies_Empire::ID_COMBAT_FIREPOWER => 12000
+        )
+// }}}
+    );
\ No newline at end of file
diff --git a/xnova-legacies_2009.4/includes/data/fields-alias.php b/xnova-legacies_2009.4/includes/data/fields-alias.php
new file mode 100644
index 0000000..78e310c
--- /dev/null
+++ b/xnova-legacies_2009.4/includes/data/fields-alias.php
@@ -0,0 +1,101 @@
+<?php return array(
+//
+// Buildings
+// {{{
+    Legacies_Empire::ID_BUILDING_METAL_MINE            => "metal_mine",
+    Legacies_Empire::ID_BUILDING_CRISTAL_MINE          => "crystal_mine",
+    Legacies_Empire::ID_BUILDING_DEUTERIUM_SYNTHETISER => "deuterium_sintetizer",
+    Legacies_Empire::ID_BUILDING_SOLAR_PLANT           => "solar_plant",
+    Legacies_Empire::ID_BUILDING_FUSION_REACTOR        => "fusion_plant",
+    Legacies_Empire::ID_BUILDING_ROBOTIC_FACTORY       => "robot_factory",
+    Legacies_Empire::ID_BUILDING_NANITE_FACTORY        => "nano_factory",
+    Legacies_Empire::ID_BUILDING_SHIPYARD              => "hangar",
+    Legacies_Empire::ID_BUILDING_METAL_STORAGE         => "metal_store",
+    Legacies_Empire::ID_BUILDING_CRISTAL_STORAGE       => "crystal_store",
+    Legacies_Empire::ID_BUILDING_DEUTERIUM_TANK        => "deuterium_store",
+    Legacies_Empire::ID_BUILDING_RESEARCH_LAB          => "laboratory",
+    Legacies_Empire::ID_BUILDING_TERRAFORMER           => "terraformer",
+    Legacies_Empire::ID_BUILDING_ALLIANCE_DEPOT        => "ally_deposit",
+    Legacies_Empire::ID_BUILDING_LUNAR_BASE            => "mondbasis",
+    Legacies_Empire::ID_BUILDING_SENSOR_PHALANX        => "phalanx",
+    Legacies_Empire::ID_BUILDING_JUMP_GATE             => "sprungtor",
+    Legacies_Empire::ID_BUILDING_MISSILE_SILO          => "silo",
+// }}}
+
+//
+// Researches
+// {{{
+    Legacies_Empire::ID_RESEARCH_ESPIONAGE_TECHNOLOGY           => "spy_tech",
+    Legacies_Empire::ID_RESEARCH_COMPUTER_TECHNOLOGY            => "computer_tech",
+    Legacies_Empire::ID_RESEARCH_WEAPON_TECHNOLOGY              => "military_tech",
+    Legacies_Empire::ID_RESEARCH_SHIELDING_TECHNOLOGY           => "defence_tech",
+    Legacies_Empire::ID_RESEARCH_ARMOUR_TECHNOLOGY              => "shield_tech",
+    Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY              => "energy_tech",
+    Legacies_Empire::ID_RESEARCH_HYPERSPACE_TECHNOLOGY          => "hyperspace_tech",
+    Legacies_Empire::ID_RESEARCH_COMBUSTION_DRIVE               => "combustion_tech",
+    Legacies_Empire::ID_RESEARCH_IMPULSE_DRIVE                  => "impulse_motor_tech",
+    Legacies_Empire::ID_RESEARCH_HYPERSPACE_DRIVE               => "hyperspace_motor_tech",
+    Legacies_Empire::ID_RESEARCH_LASER_TECHNOLOGY               => "laser_tech",
+    Legacies_Empire::ID_RESEARCH_ION_TECHNOLOGY                 => "ionic_tech",
+    Legacies_Empire::ID_RESEARCH_PLASMA_TECHNOLOGY              => "buster_tech",
+    Legacies_Empire::ID_RESEARCH_INTERGALACTIC_RESEARCH_NETWORK => "intergalactic_tech",
+    Legacies_Empire::ID_RESEARCH_EXPEDITION_TECHNOLOGY          => "expedition_tech",
+    Legacies_Empire::ID_RESEARCH_GRAVITON_TECHNOLOGY            => "graviton_tech",
+// }}}
+
+//
+// Ships
+// {{{
+    Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT => "small_ship_cargo",
+    Legacies_Empire::ID_SHIP_LARGE_TRANSPORT => "big_ship_cargo",
+    Legacies_Empire::ID_SHIP_LIGHT_FIGHTER   => "light_hunter",
+    Legacies_Empire::ID_SHIP_HEAVY_FIGHTER   => "heavy_hunter",
+    Legacies_Empire::ID_SHIP_CRUISER         => "crusher",
+    Legacies_Empire::ID_SHIP_BATTLESHIP      => "battle_ship",
+    Legacies_Empire::ID_SHIP_COLONY_SHIP     => "colonizer",
+    Legacies_Empire::ID_SHIP_RECYCLER        => "recycler",
+    Legacies_Empire::ID_SHIP_SPY_DRONE       => "spy_sonde",
+    Legacies_Empire::ID_SHIP_BOMBER          => "bomber_ship",
+    Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => "solar_satelit",
+    Legacies_Empire::ID_SHIP_DESTRUCTOR      => "destructor",
+    Legacies_Empire::ID_SHIP_DEATH_STAR      => "dearth_star",
+    Legacies_Empire::ID_SHIP_BATTLECRUISER   => "battleship",
+    Legacies_Empire::ID_SHIP_SUPERNOVA       => "supernova",
+//
+
+//
+// Defenses
+// {{{
+    Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => "misil_launcher",
+    Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => "small_laser",
+    Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => "big_laser",
+    Legacies_Empire::ID_DEFENSE_ION_CANNON        => "gauss_canyon",
+    Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => "ionic_canyon",
+    Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => "buster_canyon",
+    Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => "small_protection_shield",
+    Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => "big_protection_shield",
+
+    Legacies_Empire::ID_SPECIAL_ANTIBALLISTIC_MISSILE  => "interceptor_misil",
+    Legacies_Empire::ID_SPECIAL_INTERPLANETARY_MISSILE => "interplanetary_misil",
+// }}}
+
+//
+// Officers
+// {{{
+    601 => "rpg_geologue",
+    602 => "rpg_amiral",
+    603 => "rpg_ingenieur",
+    604 => "rpg_technocrate",
+    605 => "rpg_constructeur",
+    606 => "rpg_scientifique",
+    607 => "rpg_stockeur",
+    608 => "rpg_defenseur",
+    609 => "rpg_bunker",
+    610 => "rpg_espion",
+    611 => "rpg_commandant",
+    612 => "rpg_destructeur",
+    613 => "rpg_general",
+    614 => "rpg_raideur",
+    615 => "rpg_empereur"
+// }}}
+    );
diff --git a/xnova-legacies_2009.4/includes/data/prices.php b/xnova-legacies_2009.4/includes/data/prices.php
new file mode 100644
index 0000000..45d07a8
--- /dev/null
+++ b/xnova-legacies_2009.4/includes/data/prices.php
@@ -0,0 +1,580 @@
+<?php return array(
+//
+// Buildings costs
+// {{{
+    Legacies_Empire::ID_BUILDING_METAL_MINE => array(
+        Legacies_Empire::RESOURCE_METAL      => 60,
+        Legacies_Empire::RESOURCE_CRISTAL    => 15,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 1.5
+        ),
+
+    Legacies_Empire::ID_BUILDING_CRISTAL_MINE => array(
+        Legacies_Empire::RESOURCE_METAL      => 48,
+        Legacies_Empire::RESOURCE_CRISTAL    => 24,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 1.6
+        ),
+
+    Legacies_Empire::ID_BUILDING_DEUTERIUM_SYNTHETISER => array(
+        Legacies_Empire::RESOURCE_METAL      => 225,
+        Legacies_Empire::RESOURCE_CRISTAL    => 75,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 1.5
+        ),
+
+    Legacies_Empire::ID_BUILDING_SOLAR_PLANT => array(
+        Legacies_Empire::RESOURCE_METAL      => 75,
+        Legacies_Empire::RESOURCE_CRISTAL    => 30,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 1.5
+        ),
+
+    Legacies_Empire::ID_BUILDING_FUSION_REACTOR => array(
+        Legacies_Empire::RESOURCE_METAL      => 900,
+        Legacies_Empire::RESOURCE_CRISTAL    => 360,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 180,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 1.8
+        ),
+
+    Legacies_Empire::ID_BUILDING_ROBOTIC_FACTORY => array(
+        Legacies_Empire::RESOURCE_METAL      => 400,
+        Legacies_Empire::RESOURCE_CRISTAL    => 120,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 200,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+
+    Legacies_Empire::ID_BUILDING_NANITE_FACTORY => array(
+        Legacies_Empire::RESOURCE_METAL      => 1000000,
+        Legacies_Empire::RESOURCE_CRISTAL    => 500000,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 100000,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+
+    Legacies_Empire::ID_BUILDING_SHIPYARD => array(
+        Legacies_Empire::RESOURCE_METAL      => 400,
+        Legacies_Empire::RESOURCE_CRISTAL    => 200,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 100,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+
+    Legacies_Empire::ID_BUILDING_METAL_STORAGE => array(
+        Legacies_Empire::RESOURCE_METAL      => 2000,
+        Legacies_Empire::RESOURCE_CRISTAL    => 0,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+
+    Legacies_Empire::ID_BUILDING_CRISTAL_STORAGE => array(
+        Legacies_Empire::RESOURCE_METAL      => 2000,
+        Legacies_Empire::RESOURCE_CRISTAL    => 1000,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+
+    Legacies_Empire::ID_BUILDING_DEUTERIUM_TANK => array(
+        Legacies_Empire::RESOURCE_METAL      => 2000,
+        Legacies_Empire::RESOURCE_CRISTAL    => 2000,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+
+    Legacies_Empire::ID_BUILDING_RESEARCH_LAB => array(
+        Legacies_Empire::RESOURCE_METAL      => 200,
+        Legacies_Empire::RESOURCE_CRISTAL    => 400,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 200,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+
+    Legacies_Empire::ID_BUILDING_TERRAFORMER => array(
+        Legacies_Empire::RESOURCE_METAL      => 0,
+        Legacies_Empire::RESOURCE_CRISTAL    => 50000,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 100000,
+        Legacies_Empire::RESOURCE_ENERGY     => 1000,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+
+    Legacies_Empire::ID_BUILDING_ALLIANCE_DEPOT => array(
+        Legacies_Empire::RESOURCE_METAL      => 20000,
+        Legacies_Empire::RESOURCE_CRISTAL    => 40000,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+    Legacies_Empire::ID_BUILDING_LUNAR_BASE => array(
+        Legacies_Empire::RESOURCE_METAL      => 20000,
+        Legacies_Empire::RESOURCE_CRISTAL    => 40000,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 20000,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+    Legacies_Empire::ID_BUILDING_SENSOR_PHALANX => array(
+        Legacies_Empire::RESOURCE_METAL      => 20000,
+        Legacies_Empire::RESOURCE_CRISTAL    => 40000,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 20000,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+    Legacies_Empire::ID_BUILDING_JUMP_GATE => array(
+        Legacies_Empire::RESOURCE_METAL      => 2000000,
+        Legacies_Empire::RESOURCE_CRISTAL    => 4000000,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 2000000,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+    Legacies_Empire::ID_BUILDING_MISSILE_SILO => array(
+        Legacies_Empire::RESOURCE_METAL      => 20000,
+        Legacies_Empire::RESOURCE_CRISTAL    => 20000,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 1000,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+// }}}
+
+//
+// Researches costs
+// {{{
+    Legacies_Empire::ID_RESEARCH_ESPIONAGE_TECHNOLOGY => array(
+        Legacies_Empire::RESOURCE_METAL      => 200,
+        Legacies_Empire::RESOURCE_CRISTAL    => 1000,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 200,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+
+    Legacies_Empire::ID_RESEARCH_COMPUTER_TECHNOLOGY => array(
+        Legacies_Empire::RESOURCE_METAL      => 0,
+        Legacies_Empire::RESOURCE_CRISTAL    => 400,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 600,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+
+    Legacies_Empire::ID_RESEARCH_WEAPON_TECHNOLOGY => array(
+        Legacies_Empire::RESOURCE_METAL      => 800,
+        Legacies_Empire::RESOURCE_CRISTAL    => 200,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+
+    Legacies_Empire::ID_RESEARCH_SHIELDING_TECHNOLOGY => array(
+        Legacies_Empire::RESOURCE_METAL      => 200,
+        Legacies_Empire::RESOURCE_CRISTAL    => 600,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+
+    Legacies_Empire::ID_RESEARCH_ARMOUR_TECHNOLOGY => array(
+        Legacies_Empire::RESOURCE_METAL      => 1000,
+        Legacies_Empire::RESOURCE_CRISTAL    => 0,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+
+    Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY => array(
+        Legacies_Empire::RESOURCE_METAL      => 0,
+        Legacies_Empire::RESOURCE_CRISTAL    => 800,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 400,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+
+    Legacies_Empire::ID_RESEARCH_HYPERSPACE_TECHNOLOGY => array(
+        Legacies_Empire::RESOURCE_METAL      => 0,
+        Legacies_Empire::RESOURCE_CRISTAL    => 4000,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 2000,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+
+    Legacies_Empire::ID_RESEARCH_COMBUSTION_DRIVE => array(
+        Legacies_Empire::RESOURCE_METAL      => 400,
+        Legacies_Empire::RESOURCE_CRISTAL    => 0,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 600,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+
+    Legacies_Empire::ID_RESEARCH_IMPULSE_DRIVE => array(
+        Legacies_Empire::RESOURCE_METAL      => 2000,
+        Legacies_Empire::RESOURCE_CRISTAL    => 4000,
+        Legacies_Empire::RESOURCE_DEUTERIUM => 600,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+
+    Legacies_Empire::ID_RESEARCH_HYPERSPACE_DRIVE => array(
+        Legacies_Empire::RESOURCE_METAL      => 10000,
+        Legacies_Empire::RESOURCE_CRISTAL    => 20000,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 6000,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+
+    Legacies_Empire::ID_RESEARCH_LASER_TECHNOLOGY => array(
+        Legacies_Empire::RESOURCE_METAL      => 200,
+        Legacies_Empire::RESOURCE_CRISTAL    => 100,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+
+    Legacies_Empire::ID_RESEARCH_ION_TECHNOLOGY => array(
+        Legacies_Empire::RESOURCE_METAL      => 1000,
+        Legacies_Empire::RESOURCE_CRISTAL    => 300,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 100,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+
+    Legacies_Empire::ID_RESEARCH_PLASMA_TECHNOLOGY => array(
+        Legacies_Empire::RESOURCE_METAL      => 2000,
+        Legacies_Empire::RESOURCE_CRISTAL    => 4000,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 1000,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+
+    Legacies_Empire::ID_RESEARCH_INTERGALACTIC_RESEARCH_NETWORK => array(
+        Legacies_Empire::RESOURCE_METAL      => 240000,
+        Legacies_Empire::RESOURCE_CRISTAL    => 400000,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 160000,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+
+    Legacies_Empire::ID_RESEARCH_EXPEDITION_TECHNOLOGY => array(
+        Legacies_Empire::RESOURCE_METAL      => 4000,
+        Legacies_Empire::RESOURCE_CRISTAL    => 8000,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 4000,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 2
+        ),
+
+    Legacies_Empire::ID_RESEARCH_GRAVITON_TECHNOLOGY => array(
+        Legacies_Empire::RESOURCE_METAL      => 0,
+        Legacies_Empire::RESOURCE_CRISTAL    => 0,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
+        'energy_max'                => 300000, // FIXME:
+        Legacies_Empire::RESOURCE_MULTIPLIER => 3
+        ),
+// }}}
+
+//
+// Ship costs & technical properties
+// {{{
+    Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT => array(
+        Legacies_Empire::RESOURCE_METAL              => 2000,
+        Legacies_Empire::RESOURCE_CRISTAL            => 2000,
+        Legacies_Empire::RESOURCE_DEUTERIUM          => 0,
+        Legacies_Empire::RESOURCE_ENERGY             => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
+        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 20,
+        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 40,
+        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 5000,
+        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 10000,
+        Legacies_Empire::SHIPS_CAPACITY              => 5000
+        ),
+
+    Legacies_Empire::ID_SHIP_LARGE_TRANSPORT => array(
+        Legacies_Empire::RESOURCE_METAL              => 6000,
+        Legacies_Empire::RESOURCE_CRISTAL            => 6000,
+        Legacies_Empire::RESOURCE_DEUTERIUM          => 0,
+        Legacies_Empire::RESOURCE_ENERGY             => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
+        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 50,
+        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 50,
+        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 7500,
+        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 7500,
+        Legacies_Empire::SHIPS_CAPACITY              => 25000
+        ),
+
+    Legacies_Empire::ID_SHIP_LIGHT_FIGHTER => array(
+        Legacies_Empire::RESOURCE_METAL              => 3000,
+        Legacies_Empire::RESOURCE_CRISTAL            => 1000,
+        Legacies_Empire::RESOURCE_DEUTERIUM          => 0,
+        Legacies_Empire::RESOURCE_ENERGY             => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
+        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 20,
+        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 20,
+        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 12500,
+        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 12500,
+        Legacies_Empire::SHIPS_CAPACITY              => 50
+        ),
+
+    Legacies_Empire::ID_SHIP_HEAVY_FIGHTER => array(
+        Legacies_Empire::RESOURCE_METAL              => 6000,
+        Legacies_Empire::RESOURCE_CRISTAL            => 4000,
+        Legacies_Empire::RESOURCE_DEUTERIUM          => 0,
+        Legacies_Empire::RESOURCE_ENERGY             => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
+        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 75,
+        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 75,
+        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 10000,
+        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 15000,
+        Legacies_Empire::SHIPS_CAPACITY              => 100
+        ),
+
+    Legacies_Empire::ID_SHIP_CRUISER => array(
+        Legacies_Empire::RESOURCE_METAL              => 20000,
+        Legacies_Empire::RESOURCE_CRISTAL            => 7000,
+        Legacies_Empire::RESOURCE_DEUTERIUM          => 2000,
+        Legacies_Empire::RESOURCE_ENERGY             => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
+        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 300 ,
+        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 300,
+        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 15000,
+        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 15000,
+        Legacies_Empire::SHIPS_CAPACITY              => 800
+        ),
+
+    Legacies_Empire::ID_SHIP_BATTLESHIP => array(
+        Legacies_Empire::RESOURCE_METAL              => 45000,
+        Legacies_Empire::RESOURCE_CRISTAL            => 15000,
+        Legacies_Empire::RESOURCE_DEUTERIUM          => 0,
+        Legacies_Empire::RESOURCE_ENERGY             => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
+        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 500,
+        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 500,
+        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 10000,
+        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 10000,
+        Legacies_Empire::SHIPS_CAPACITY              => 1500
+        ),
+
+    Legacies_Empire::ID_SHIP_COLONY_SHIP => array(
+        Legacies_Empire::RESOURCE_METAL              => 10000,
+        Legacies_Empire::RESOURCE_CRISTAL            => 20000,
+        Legacies_Empire::RESOURCE_DEUTERIUM          => 10000,
+        Legacies_Empire::RESOURCE_ENERGY             => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
+        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 1000,
+        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 1000,
+        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 2500,
+        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 2500,
+        Legacies_Empire::SHIPS_CAPACITY              => 7500
+        ),
+
+    Legacies_Empire::ID_SHIP_RECYCLER => array(
+        Legacies_Empire::RESOURCE_METAL              => 10000,
+        Legacies_Empire::RESOURCE_CRISTAL            => 6000,
+        Legacies_Empire::RESOURCE_DEUTERIUM          => 2000,
+        Legacies_Empire::RESOURCE_ENERGY             => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
+        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 300,
+        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 300,
+        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 2000,
+        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 2000,
+        Legacies_Empire::SHIPS_CAPACITY              => 20000
+        ),
+
+    Legacies_Empire::ID_SHIP_SPY_DRONE => array(
+        Legacies_Empire::RESOURCE_METAL              => 0,
+        Legacies_Empire::RESOURCE_CRISTAL            => 1000,
+        Legacies_Empire::RESOURCE_DEUTERIUM          => 0,
+        Legacies_Empire::RESOURCE_ENERGY             => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
+        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 1,
+        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 1,
+        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 100000000,
+        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 100000000,
+        Legacies_Empire::SHIPS_CAPACITY              => 5
+        ),
+
+    Legacies_Empire::ID_SHIP_BOMBER => array(
+        Legacies_Empire::RESOURCE_METAL              => 50000,
+        Legacies_Empire::RESOURCE_CRISTAL            => 25000,
+        Legacies_Empire::RESOURCE_DEUTERIUM          => 15000,
+        Legacies_Empire::RESOURCE_ENERGY             => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
+        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 1000,
+        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 1000,
+        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 4000,
+        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 5000,
+        Legacies_Empire::SHIPS_CAPACITY              => 500
+        ),
+
+    Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => array(
+        Legacies_Empire::RESOURCE_METAL              => 0,
+        Legacies_Empire::RESOURCE_CRISTAL            => 2000,
+        Legacies_Empire::RESOURCE_DEUTERIUM          => 500,
+        Legacies_Empire::RESOURCE_ENERGY             => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
+        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 0,
+        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 0,
+        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 0,
+        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 0,
+        Legacies_Empire::SHIPS_CAPACITY              => 0
+        ),
+
+    Legacies_Empire::ID_SHIP_DESTRUCTOR => array(
+        Legacies_Empire::RESOURCE_METAL              => 60000,
+        Legacies_Empire::RESOURCE_CRISTAL            => 50000,
+        Legacies_Empire::RESOURCE_DEUTERIUM          => 15000,
+        Legacies_Empire::RESOURCE_ENERGY             => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
+        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 1000,
+        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 1000,
+        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 5000,
+        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 5000,
+        Legacies_Empire::SHIPS_CAPACITY              => 2000
+        ),
+
+    Legacies_Empire::ID_SHIP_DEATH_STAR => array(
+        Legacies_Empire::RESOURCE_METAL              => 5000000,
+        Legacies_Empire::RESOURCE_CRISTAL            => 4000000,
+        Legacies_Empire::RESOURCE_DEUTERIUM          => 1000000,
+        Legacies_Empire::RESOURCE_ENERGY             => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
+        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 1,
+        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 1,
+        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 100,
+        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 100,
+        Legacies_Empire::SHIPS_CAPACITY              => 1000000
+        ),
+
+    Legacies_Empire::ID_SHIP_BATTLECRUISER => array(
+        Legacies_Empire::RESOURCE_METAL              => 30000,
+        Legacies_Empire::RESOURCE_CRISTAL            => 40000,
+        Legacies_Empire::RESOURCE_DEUTERIUM          => 15000,
+        Legacies_Empire::RESOURCE_ENERGY             => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
+        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 250,
+        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 250,
+        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 10000,
+        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 10000,
+        Legacies_Empire::SHIPS_CAPACITY              => 750
+        ),
+
+    Legacies_Empire::ID_SHIP_SUPERNOVA => array(
+        Legacies_Empire::RESOURCE_METAL              => 150000000,
+        Legacies_Empire::RESOURCE_CRISTAL            => 300000000,
+        Legacies_Empire::RESOURCE_DEUTERIUM          => 450000000,
+        Legacies_Empire::RESOURCE_ENERGY             => 1000000000,
+        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
+        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 100000,
+        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 100000,
+        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 1000,
+        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 1000,
+        Legacies_Empire::SHIPS_CAPACITY              => 1000000
+        ),
+// }}}
+
+//
+// Defenses
+// {{{
+    Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER => array(
+        Legacies_Empire::RESOURCE_METAL      => 2000,
+        Legacies_Empire::RESOURCE_CRISTAL    => 0,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 1
+        ),
+
+    Legacies_Empire::ID_DEFENSE_LIGHT_LASER => array(
+        Legacies_Empire::RESOURCE_METAL      => 1500,
+        Legacies_Empire::RESOURCE_CRISTAL    => 500,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 1
+        ),
+
+    Legacies_Empire::ID_DEFENSE_HEAVY_LASER => array(
+        Legacies_Empire::RESOURCE_METAL      => 6000,
+        Legacies_Empire::RESOURCE_CRISTAL    => 2000,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 1
+        ),
+
+    Legacies_Empire::ID_DEFENSE_ION_CANNON => array(
+        Legacies_Empire::RESOURCE_METAL      => 20000,
+        Legacies_Empire::RESOURCE_CRISTAL    => 15000,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 2000,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 1
+        ),
+
+    Legacies_Empire::ID_DEFENSE_GAUSS_CANNON => array(
+        Legacies_Empire::RESOURCE_METAL      => 2000,
+        Legacies_Empire::RESOURCE_CRISTAL    => 6000,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 1
+        ),
+
+    Legacies_Empire::ID_DEFENSE_PLASMA_TURRET => array(
+        Legacies_Empire::RESOURCE_METAL      => 50000,
+        Legacies_Empire::RESOURCE_CRISTAL    => 50000,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 30000,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 1
+        ),
+
+    Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => array(
+        Legacies_Empire::RESOURCE_METAL      => 10000,
+        Legacies_Empire::RESOURCE_CRISTAL    => 10000,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 1
+        ),
+
+    Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => array(
+        Legacies_Empire::RESOURCE_METAL      => 50000,
+        Legacies_Empire::RESOURCE_CRISTAL    => 50000,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 1
+        ),
+
+    Legacies_Empire::ID_SPECIAL_ANTIBALLISTIC_MISSILE => array(
+        Legacies_Empire::RESOURCE_METAL      => 8000,
+        Legacies_Empire::RESOURCE_CRISTAL    => 2000,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 1
+        ),
+
+    Legacies_Empire::ID_SPECIAL_INTERPLANETARY_MISSILE => array(
+        Legacies_Empire::RESOURCE_METAL      => 12500,
+        Legacies_Empire::RESOURCE_CRISTAL    => 2500,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 10000,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 1
+        ),
+// }}}
+
+//
+// Officers
+// {{
+    601 => array('max' => 20),
+    602 => array('max' => 20),
+    603 => array('max' => 10),
+    604 => array('max' => 10),
+    605 => array('max' => 3),
+    606 => array('max' => 3),
+    607 => array('max' => 2),
+    608 => array('max' => 2),
+    609 => array('max' => 1),
+    610 => array('max' => 2),
+    611 => array('max' => 2),
+    612 => array('max' => 1),
+    613 => array('max' => 3),
+    614 => array('max' => 1),
+    615 => array('max' => 1)
+// }}}
+    );
diff --git a/xnova-legacies_2009.4/includes/data/production.php b/xnova-legacies_2009.4/includes/data/production.php
new file mode 100644
index 0000000..b09634d
--- /dev/null
+++ b/xnova-legacies_2009.4/includes/data/production.php
@@ -0,0 +1,106 @@
+<?php return array(
+//
+// Buildings production
+// {{{
+    Legacies_Empire::ID_BUILDING_METAL_MINE => array(
+        Legacies_Empire::RESOURCE_METAL      => 40,
+        Legacies_Empire::RESOURCE_CRISTAL    => 10,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 1.5,
+        Legacies_Empire::RESOURCE_FORMULA    => array(
+            Legacies_Empire::RESOURCE_METAL     => 'return (30 * $BuildLevel * pow((1.1), $BuildLevel)) * (0.1 * $BuildLevelFactor);',
+            Legacies_Empire::RESOURCE_CRISTAL   => 'return "0";',
+            Legacies_Empire::RESOURCE_DEUTERIUM => 'return "0";',
+            Legacies_Empire::RESOURCE_ENERGY    => 'return -(10 * $BuildLevel * pow((1.1), $BuildLevel)) * (0.1 * $BuildLevelFactor);'
+            )
+        ),
+
+    Legacies_Empire::ID_BUILDING_CRISTAL_MINE => array(
+        Legacies_Empire::RESOURCE_METAL      => 30,
+        Legacies_Empire::RESOURCE_CRISTAL    => 15,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 1.6,
+        Legacies_Empire::RESOURCE_FORMULA    => array(
+            Legacies_Empire::RESOURCE_METAL     => 'return "0";',
+            Legacies_Empire::RESOURCE_CRISTAL   => 'return (20 * $BuildLevel * pow((1.1), $BuildLevel)) * (0.1 * $BuildLevelFactor);',
+            Legacies_Empire::RESOURCE_DEUTERIUM => 'return "0";',
+            Legacies_Empire::RESOURCE_ENERGY    => 'return -(10 * $BuildLevel * pow((1.1), $BuildLevel)) * (0.1 * $BuildLevelFactor);'
+            )
+        ),
+
+    Legacies_Empire::ID_BUILDING_DEUTERIUM_SYNTHETISER => array(
+        Legacies_Empire::RESOURCE_METAL      => 150,
+        Legacies_Empire::RESOURCE_CRISTAL    => 50,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 1.5,
+        Legacies_Empire::RESOURCE_FORMULA    => array(
+            Legacies_Empire::RESOURCE_METAL     => 'return "0";',
+            Legacies_Empire::RESOURCE_CRISTAL   => 'return "0";',
+            Legacies_Empire::RESOURCE_DEUTERIUM => 'return ((10 * $BuildLevel * pow((1.1), $BuildLevel)) * (-0.002 * $BuildTemp + 1.28)) * (0.1 * $BuildLevelFactor);',
+            Legacies_Empire::RESOURCE_ENERGY    => 'return -(30 * $BuildLevel * pow((1.1), $BuildLevel)) * (0.1 * $BuildLevelFactor);'
+            )
+        ),
+
+    Legacies_Empire::ID_BUILDING_SOLAR_PLANT => array(
+        Legacies_Empire::RESOURCE_METAL      => 50,
+        Legacies_Empire::RESOURCE_CRISTAL    => 20,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 1.5,
+        Legacies_Empire::RESOURCE_FORMULA    => array(
+            Legacies_Empire::RESOURCE_METAL     => 'return "0";',
+            Legacies_Empire::RESOURCE_CRISTAL   => 'return "0";',
+            Legacies_Empire::RESOURCE_DEUTERIUM => 'return "0";',
+            Legacies_Empire::RESOURCE_ENERGY    => 'return (20 * $BuildLevel * pow((1.1), $BuildLevel)) * (0.1 * $BuildLevelFactor);'
+            )
+        ),
+
+    Legacies_Empire::ID_BUILDING_FUSION_REACTOR => array(
+        Legacies_Empire::RESOURCE_METAL      => 500,
+        Legacies_Empire::RESOURCE_CRISTAL    => 200,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 100,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 1.8,
+        Legacies_Empire::RESOURCE_FORMULA    => array(
+            Legacies_Empire::RESOURCE_METAL     => 'return "0";',
+            Legacies_Empire::RESOURCE_CRISTAL   => 'return "0";',
+            Legacies_Empire::RESOURCE_DEUTERIUM => 'return -(10 * $BuildLevel * pow((1.1), $BuildLevel)) * (0.1 * $BuildLevelFactor);',
+            Legacies_Empire::RESOURCE_ENERGY    => 'return (50 * $BuildLevel * pow((1.1), $BuildLevel)) * (0.1 * $BuildLevelFactor);'
+            )
+        ),
+// }}}
+
+//
+// Ships production
+// {{{
+    Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => array(
+        Legacies_Empire::RESOURCE_METAL      => 0,
+        Legacies_Empire::RESOURCE_CRISTAL    => 2000,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 500,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 0.5,
+        Legacies_Empire::RESOURCE_FORMULA    => array(
+            Legacies_Empire::RESOURCE_METAL     => 'return "0";',
+            Legacies_Empire::RESOURCE_CRISTAL   => 'return "0";',
+            Legacies_Empire::RESOURCE_DEUTERIUM => 'return "0";',
+            Legacies_Empire::RESOURCE_ENERGY    => 'return (($BuildTemp / 4) + 20) * $BuildLevel * (0.1 * $BuildLevelFactor);'
+            )
+        ),
+    Legacies_Empire::ID_SHIP_SUPERNOVA => array(
+        Legacies_Empire::RESOURCE_METAL      => 0,
+        Legacies_Empire::RESOURCE_CRISTAL    => 2000,
+        Legacies_Empire::RESOURCE_DEUTERIUM  => 500,
+        Legacies_Empire::RESOURCE_ENERGY     => 0,
+        Legacies_Empire::RESOURCE_MULTIPLIER => 0.5,
+        Legacies_Empire::RESOURCE_FORMULA    => array(
+            Legacies_Empire::RESOURCE_METAL     => 'return "0";',
+            Legacies_Empire::RESOURCE_CRISTAL   => 'return "0";',
+            Legacies_Empire::RESOURCE_DEUTERIUM => 'return "0";',
+            Legacies_Empire::RESOURCE_ENERGY    => 'return -(12500 * ($BuildTemp / 4) + 20) * $BuildLevel * (0.1 * $BuildLevelFactor);'
+            )
+        )
+// }}}
+    );
diff --git a/xnova-legacies_2009.4/includes/data/requirements.php b/xnova-legacies_2009.4/includes/data/requirements.php
new file mode 100644
index 0000000..838a930
--- /dev/null
+++ b/xnova-legacies_2009.4/includes/data/requirements.php
@@ -0,0 +1,283 @@
+<?php return array(
+//
+// Planet buildings requirements
+// {{{
+    Legacies_Empire::ID_BUILDING_FUSION_REACTOR => array(
+        Legacies_Empire::ID_BUILDING_DEUTERIUM_SYNTHETISER => 5,
+        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY     => 3
+        ),
+
+    Legacies_Empire::ID_BUILDING_NANITE_FACTORY => array(
+        Legacies_Empire::ID_BUILDING_ROBOTIC_FACTORY     => 10,
+        Legacies_Empire::ID_RESEARCH_COMPUTER_TECHNOLOGY => 10
+        ),
+
+    Legacies_Empire::ID_BUILDING_SHIPYARD => array(
+        Legacies_Empire::ID_BUILDING_ROBOTIC_FACTORY => 2
+        ),
+
+    Legacies_Empire::ID_BUILDING_TERRAFORMER => array(
+        Legacies_Empire::ID_BUILDING_NANITE_FACTORY    => 1,
+        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY => 12
+        ),
+// }}}
+
+//
+// Moon buildings requirements
+// {{{
+     Legacies_Empire::ID_BUILDING_SENSOR_PHALANX => array(
+        Legacies_Empire::ID_BUILDING_LUNAR_BASE => 1
+        ),
+
+     Legacies_Empire::ID_BUILDING_JUMP_GATE => array(
+        Legacies_Empire::ID_BUILDING_LUNAR_BASE            => 1,
+        Legacies_Empire::ID_RESEARCH_HYPERSPACE_TECHNOLOGY => 7
+        ),
+// }}}
+
+//
+// Technologies requirements
+// {{{
+    Legacies_Empire::ID_RESEARCH_ESPIONAGE_TECHNOLOGY => array(
+        Legacies_Empire::ID_BUILDING_RESEARCH_LAB => 3
+        ),
+
+    Legacies_Empire::ID_RESEARCH_COMPUTER_TECHNOLOGY => array(
+        Legacies_Empire::ID_BUILDING_RESEARCH_LAB => 1
+        ),
+
+    Legacies_Empire::ID_RESEARCH_WEAPON_TECHNOLOGY => array(
+        Legacies_Empire::ID_BUILDING_RESEARCH_LAB => 4
+        ),
+
+    Legacies_Empire::ID_RESEARCH_SHIELDING_TECHNOLOGY => array(
+        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY => 3,
+        Legacies_Empire::ID_BUILDING_RESEARCH_LAB      => 6
+        ),
+
+    Legacies_Empire::ID_RESEARCH_ARMOUR_TECHNOLOGY => array(
+        Legacies_Empire::ID_BUILDING_RESEARCH_LAB => 2
+        ),
+
+    Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY => array(
+        Legacies_Empire::ID_BUILDING_RESEARCH_LAB => 1
+        ),
+
+    Legacies_Empire::ID_RESEARCH_HYPERSPACE_TECHNOLOGY => array(
+        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY => 5,
+        Legacies_Empire::ID_RESEARCH_SHIELDING_TECHNOLOGY  => 5,
+        Legacies_Empire::ID_BUILDING_RESEARCH_LAB      => 7
+        ),
+
+    Legacies_Empire::ID_RESEARCH_COMBUSTION_DRIVE => array(
+        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY => 1,
+        Legacies_Empire::ID_BUILDING_RESEARCH_LAB      => 1
+        ),
+
+    Legacies_Empire::ID_RESEARCH_IMPULSE_DRIVE => array(
+        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY => 1,
+        Legacies_Empire::ID_BUILDING_RESEARCH_LAB      => 2
+        ),
+
+    Legacies_Empire::ID_RESEARCH_HYPERSPACE_DRIVE => array(
+        Legacies_Empire::ID_RESEARCH_HYPERSPACE_TECHNOLOGY => 3,
+        Legacies_Empire::ID_BUILDING_RESEARCH_LAB          => 7
+        ),
+
+    Legacies_Empire::ID_RESEARCH_LASER_TECHNOLOGY => array(
+        Legacies_Empire::ID_BUILDING_RESEARCH_LAB      => 1,
+        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY => 2
+        ),
+
+    Legacies_Empire::ID_RESEARCH_ION_TECHNOLOGY => array(
+        Legacies_Empire::ID_BUILDING_RESEARCH_LAB      => 4,
+        Legacies_Empire::ID_RESEARCH_LASER_TECHNOLOGY  => 5,
+        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY => 4
+        ),
+
+    Legacies_Empire::ID_RESEARCH_PLASMA_TECHNOLOGY => array(
+        Legacies_Empire::ID_BUILDING_RESEARCH_LAB      => 5,
+        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY => 8,
+        Legacies_Empire::ID_RESEARCH_LASER_TECHNOLOGY  => 10,
+        Legacies_Empire::ID_RESEARCH_ION_TECHNOLOGY    => 5
+        ),
+
+    Legacies_Empire::ID_RESEARCH_INTERGALACTIC_RESEARCH_NETWORK => array(
+        Legacies_Empire::ID_BUILDING_RESEARCH_LAB          => 10,
+        Legacies_Empire::ID_RESEARCH_COMPUTER_TECHNOLOGY   => 8,
+        Legacies_Empire::ID_RESEARCH_HYPERSPACE_TECHNOLOGY => 8
+        ),
+
+    Legacies_Empire::ID_RESEARCH_EXPEDITION_TECHNOLOGY => array(
+        Legacies_Empire::ID_BUILDING_RESEARCH_LAB        => 3,
+        Legacies_Empire::ID_RESEARCH_COMPUTER_TECHNOLOGY => 4,
+        Legacies_Empire::ID_RESEARCH_IMPULSE_DRIVE       => 3
+        ),
+
+    Legacies_Empire::ID_RESEARCH_GRAVITON_TECHNOLOGY => array(
+        Legacies_Empire::ID_BUILDING_RESEARCH_LAB => 12
+        ),
+// }}}
+
+//
+// Fleets requirements
+// {{{
+    Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT => array(
+        Legacies_Empire::ID_BUILDING_SHIPYARD         => 2,
+        Legacies_Empire::ID_RESEARCH_COMBUSTION_DRIVE => 2
+        ),
+
+    Legacies_Empire::ID_SHIP_LARGE_TRANSPORT => array(
+        Legacies_Empire::ID_BUILDING_SHIPYARD         => 4,
+        Legacies_Empire::ID_RESEARCH_COMBUSTION_DRIVE => 6
+        ),
+
+    Legacies_Empire::ID_SHIP_LIGHT_FIGHTER => array(
+        Legacies_Empire::ID_BUILDING_SHIPYARD         => 1,
+        Legacies_Empire::ID_RESEARCH_COMBUSTION_DRIVE => 1
+        ),
+
+    Legacies_Empire::ID_SHIP_HEAVY_FIGHTER => array(
+        Legacies_Empire::ID_BUILDING_SHIPYARD          => 3,
+        Legacies_Empire::ID_RESEARCH_ARMOUR_TECHNOLOGY => 2,
+        Legacies_Empire::ID_RESEARCH_IMPULSE_DRIVE     => 2
+        ),
+
+    Legacies_Empire::ID_SHIP_CRUISER => array(
+        Legacies_Empire::ID_BUILDING_SHIPYARD       => 5,
+        Legacies_Empire::ID_RESEARCH_IMPULSE_DRIVE  => 4,
+        Legacies_Empire::ID_RESEARCH_ION_TECHNOLOGY => 2
+        ),
+
+    Legacies_Empire::ID_SHIP_BATTLESHIP => array(
+        Legacies_Empire::ID_BUILDING_SHIPYARD         => 7,
+        Legacies_Empire::ID_RESEARCH_HYPERSPACE_DRIVE => 4
+        ),
+
+    Legacies_Empire::ID_SHIP_COLONY_SHIP => array(
+        Legacies_Empire::ID_BUILDING_SHIPYARD      => 4,
+        Legacies_Empire::ID_RESEARCH_IMPULSE_DRIVE => 3
+        ),
+
+    Legacies_Empire::ID_SHIP_RECYCLER => array(
+        Legacies_Empire::ID_BUILDING_SHIPYARD             => 4,
+        Legacies_Empire::ID_RESEARCH_COMBUSTION_DRIVE     => 6,
+        Legacies_Empire::ID_RESEARCH_SHIELDING_TECHNOLOGY => 2
+        ),
+
+    Legacies_Empire::ID_SHIP_SPY_DRONE => array(
+        Legacies_Empire::ID_BUILDING_SHIPYARD             => 3,
+        Legacies_Empire::ID_RESEARCH_COMBUSTION_DRIVE     => 3,
+        Legacies_Empire::ID_RESEARCH_ESPIONAGE_TECHNOLOGY => 2
+        ),
+
+    Legacies_Empire::ID_SHIP_BOMBER => array(
+        Legacies_Empire::ID_RESEARCH_IMPULSE_DRIVE     => 6,
+        Legacies_Empire::ID_BUILDING_SHIPYARD          => 8,
+        Legacies_Empire::ID_RESEARCH_PLASMA_TECHNOLOGY => 5
+        ),
+
+    Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => array(
+        Legacies_Empire::ID_BUILDING_SHIPYARD => 1
+        ),
+
+    Legacies_Empire::ID_SHIP_DESTRUCTOR => array(
+        Legacies_Empire::ID_BUILDING_SHIPYARD              => 9,
+        Legacies_Empire::ID_RESEARCH_HYPERSPACE_DRIVE      => 6,
+        Legacies_Empire::ID_RESEARCH_HYPERSPACE_TECHNOLOGY => 5
+        ),
+
+    Legacies_Empire::ID_SHIP_DEATH_STAR => array(
+        Legacies_Empire::ID_BUILDING_SHIPYARD              => 12,
+        Legacies_Empire::ID_RESEARCH_HYPERSPACE_DRIVE      => 7,
+        Legacies_Empire::ID_RESEARCH_HYPERSPACE_TECHNOLOGY => 6,
+        Legacies_Empire::ID_RESEARCH_GRAVITON_TECHNOLOGY   => 1
+        ),
+
+    Legacies_Empire::ID_SHIP_BATTLECRUISER => array(
+        Legacies_Empire::ID_RESEARCH_HYPERSPACE_TECHNOLOGY => 5,
+        Legacies_Empire::ID_RESEARCH_LASER_TECHNOLOGY      => 12,
+        Legacies_Empire::ID_RESEARCH_HYPERSPACE_DRIVE      => 5,
+        Legacies_Empire::ID_BUILDING_SHIPYARD              => 8
+        ),
+
+    Legacies_Empire::ID_SHIP_SUPERNOVA => array(
+        Legacies_Empire::ID_BUILDING_SHIPYARD              => 25,
+        Legacies_Empire::ID_RESEARCH_HYPERSPACE_DRIVE      => 18,
+        Legacies_Empire::ID_RESEARCH_HYPERSPACE_TECHNOLOGY => 14,
+        Legacies_Empire::ID_RESEARCH_GRAVITON_TECHNOLOGY   => 3
+        ),
+// }}}
+
+//
+// Defenses requirements
+// {{{
+    Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER => array(
+        Legacies_Empire::ID_BUILDING_SHIPYARD => 1
+        ),
+
+    Legacies_Empire::ID_DEFENSE_LIGHT_LASER => array(
+        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY => 1,
+        Legacies_Empire::ID_BUILDING_SHIPYARD          => 2,
+        Legacies_Empire::ID_RESEARCH_LASER_TECHNOLOGY  => 3
+        ),
+
+    Legacies_Empire::ID_DEFENSE_HEAVY_LASER => array(
+        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY => 3,
+        Legacies_Empire::ID_BUILDING_SHIPYARD          => 4,
+        Legacies_Empire::ID_RESEARCH_LASER_TECHNOLOGY  => 6
+        ),
+
+    Legacies_Empire::ID_DEFENSE_ION_CANNON => array(
+        Legacies_Empire::ID_BUILDING_SHIPYARD             => 6,
+        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY    => 6,
+        Legacies_Empire::ID_RESEARCH_WEAPON_TECHNOLOGY    => 3,
+        Legacies_Empire::ID_RESEARCH_SHIELDING_TECHNOLOGY => 1
+        ),
+
+    Legacies_Empire::ID_DEFENSE_GAUSS_CANNON => array(
+        Legacies_Empire::ID_BUILDING_SHIPYARD       => 4,
+        Legacies_Empire::ID_RESEARCH_ION_TECHNOLOGY => 4
+        ),
+
+    Legacies_Empire::ID_DEFENSE_PLASMA_TURRET => array(
+        Legacies_Empire::ID_BUILDING_SHIPYARD          => 8,
+        Legacies_Empire::ID_RESEARCH_PLASMA_TECHNOLOGY => 7
+        ),
+
+    Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => array(
+        Legacies_Empire::ID_RESEARCH_SHIELDING_TECHNOLOGY => 2,
+        Legacies_Empire::ID_BUILDING_SHIPYARD             => 1
+        ),
+
+    Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => array(
+        Legacies_Empire::ID_RESEARCH_SHIELDING_TECHNOLOGY => 6,
+        Legacies_Empire::ID_BUILDING_SHIPYARD             => 6
+        ),
+
+    Legacies_Empire::ID_SPECIAL_ANTIBALLISTIC_MISSILE => array(
+        Legacies_Empire::ID_BUILDING_MISSILE_SILO => 2
+        ),
+
+    Legacies_Empire::ID_SPECIAL_INTERPLANETARY_MISSILE => array(
+        Legacies_Empire::ID_BUILDING_MISSILE_SILO => 4
+    ),
+// }}}
+
+//
+// Officers requirements
+// {{{
+    603 => array(601 => 5),
+    604 => array(602 => 5),
+    605 => array(601 => 10, 603 => 2),
+    606 => array(601 => 10, 603 => 2),
+    607 => array(605 => 1),
+    608 => array(606 => 1),
+    609 => array(601 => 20, 603 => 10, 605 => 3, 606 => 3, 607 => 2, 608 => 2),
+    610 => array(602 => 10, 604 => 5),
+    611 => array(602 => 10, 604 => 5),
+    612 => array(610 => 1),
+    613 => array(611 => 1),
+    614 => array(602 => 20, 604 => 10, 610 => 2, 611 => 2, 612 => 1, 613 => 3),
+    615 => array(614 => 1, 609 => 1)
+    );
diff --git a/xnova-legacies_2009.4/includes/data/types.php b/xnova-legacies_2009.4/includes/data/types.php
new file mode 100644
index 0000000..7ac357c
--- /dev/null
+++ b/xnova-legacies_2009.4/includes/data/types.php
@@ -0,0 +1,122 @@
+<?php return array(
+//
+// Buildings type
+// {{{
+    Legacies_Empire::TYPE_BUILDING => array(
+        Legacies_Empire::ID_BUILDING_METAL_MINE,
+        Legacies_Empire::ID_BUILDING_CRISTAL_MINE,
+        Legacies_Empire::ID_BUILDING_DEUTERIUM_SYNTHETISER,
+        Legacies_Empire::ID_BUILDING_SOLAR_PLANT,
+        Legacies_Empire::ID_BUILDING_FUSION_REACTOR,
+        Legacies_Empire::ID_BUILDING_ROBOTIC_FACTORY,
+        Legacies_Empire::ID_BUILDING_NANITE_FACTORY,
+        Legacies_Empire::ID_BUILDING_SHIPYARD,
+        Legacies_Empire::ID_BUILDING_METAL_STORAGE,
+        Legacies_Empire::ID_BUILDING_CRISTAL_STORAGE,
+        Legacies_Empire::ID_BUILDING_DEUTERIUM_TANK,
+        Legacies_Empire::ID_BUILDING_RESEARCH_LAB,
+        Legacies_Empire::ID_BUILDING_TERRAFORMER,
+        Legacies_Empire::ID_BUILDING_ALLIANCE_DEPOT,
+        Legacies_Empire::ID_BUILDING_LUNAR_BASE,
+        Legacies_Empire::ID_BUILDING_SENSOR_PHALANX,
+        Legacies_Empire::ID_BUILDING_JUMP_GATE,
+        Legacies_Empire::ID_BUILDING_MISSILE_SILO
+        ),
+// }}}
+
+//
+// Research types
+// {{{
+    Legacies_Empire::TYPE_RESEARCH => array(
+        Legacies_Empire::ID_RESEARCH_ESPIONAGE_TECHNOLOGY,
+        Legacies_Empire::ID_RESEARCH_COMPUTER_TECHNOLOGY,
+        Legacies_Empire::ID_RESEARCH_WEAPON_TECHNOLOGY,
+        Legacies_Empire::ID_RESEARCH_SHIELDING_TECHNOLOGY,
+        Legacies_Empire::ID_RESEARCH_ARMOUR_TECHNOLOGY,
+        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY,
+        Legacies_Empire::ID_RESEARCH_HYPERSPACE_TECHNOLOGY,
+        Legacies_Empire::ID_RESEARCH_COMBUSTION_DRIVE,
+        Legacies_Empire::ID_RESEARCH_IMPULSE_DRIVE,
+        Legacies_Empire::ID_RESEARCH_HYPERSPACE_DRIVE,
+        Legacies_Empire::ID_RESEARCH_LASER_TECHNOLOGY,
+        Legacies_Empire::ID_RESEARCH_ION_TECHNOLOGY,
+        Legacies_Empire::ID_RESEARCH_PLASMA_TECHNOLOGY,
+        Legacies_Empire::ID_RESEARCH_INTERGALACTIC_RESEARCH_NETWORK,
+        Legacies_Empire::ID_RESEARCH_EXPEDITION_TECHNOLOGY,
+        Legacies_Empire::ID_RESEARCH_GRAVITON_TECHNOLOGY
+        ),
+// }}}
+
+//
+// Ship types
+// {{{
+    Legacies_Empire::TYPE_SHIP => array(
+        Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT,
+        Legacies_Empire::ID_SHIP_LARGE_TRANSPORT,
+        Legacies_Empire::ID_SHIP_LIGHT_FIGHTER,
+        Legacies_Empire::ID_SHIP_HEAVY_FIGHTER,
+        Legacies_Empire::ID_SHIP_CRUISER,
+        Legacies_Empire::ID_SHIP_BATTLESHIP,
+        Legacies_Empire::ID_SHIP_COLONY_SHIP,
+        Legacies_Empire::ID_SHIP_RECYCLER,
+        Legacies_Empire::ID_SHIP_SPY_DRONE,
+        Legacies_Empire::ID_SHIP_BOMBER,
+        Legacies_Empire::ID_SHIP_SOLAR_SATELLITE,
+        Legacies_Empire::ID_SHIP_DESTRUCTOR,
+        Legacies_Empire::ID_SHIP_DEATH_STAR,
+        Legacies_Empire::ID_SHIP_BATTLECRUISER,
+        Legacies_Empire::ID_SHIP_SUPERNOVA
+        ),
+// }}}
+
+//
+// Defense types
+// {{{
+    Legacies_Empire::TYPE_DEFENSE => array(
+        Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER,
+        Legacies_Empire::ID_DEFENSE_LIGHT_LASER,
+        Legacies_Empire::ID_DEFENSE_HEAVY_LASER,
+        Legacies_Empire::ID_DEFENSE_ION_CANNON,
+        Legacies_Empire::ID_DEFENSE_GAUSS_CANNON,
+        Legacies_Empire::ID_DEFENSE_PLASMA_TURRET,
+        Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME,
+        Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME,
+        Legacies_Empire::ID_SPECIAL_ANTIBALLISTIC_MISSILE,
+        Legacies_Empire::ID_SPECIAL_INTERPLANETARY_MISSILE
+        ),
+// }}}
+
+//
+// Special defenses types
+// {{{
+    Legacies_Empire::TYPE_SPECIAL => array(
+        Legacies_Empire::ID_SPECIAL_ANTIBALLISTIC_MISSILE,
+        Legacies_Empire::ID_SPECIAL_INTERPLANETARY_MISSILE
+        ),
+// }}}
+
+//
+// Officers type
+// {{{
+    Legacies_Empire::TYPE_OFFICER => array(
+        601, 602, 603,
+        604, 605, 606,
+        607, 608, 609,
+        610, 611, 612,
+        613, 614, 615
+        ),
+// }}}
+
+//
+// Production-able elements
+// {{{
+    Legacies_Empire::TYPE_PRODUCTION => array(
+        Legacies_Empire::ID_BUILDING_METAL_MINE,
+        Legacies_Empire::ID_BUILDING_CRISTAL_MINE,
+        Legacies_Empire::ID_BUILDING_DEUTERIUM_SYNTHETISER,
+        Legacies_Empire::ID_BUILDING_SOLAR_PLANT,
+        Legacies_Empire::ID_BUILDING_FUSION_REACTOR,
+        Legacies_Empire::ID_SHIP_SOLAR_SATELLITE
+        )
+// }}}
+    );
diff --git a/xnova-legacies_2009.3/includes/databaseinfos.php b/xnova-legacies_2009.4/includes/databaseinfos.php
index 7c3f0b4..6a64d7c 100644
--- a/xnova-legacies_2009.3/includes/databaseinfos.php
+++ b/xnova-legacies_2009.4/includes/databaseinfos.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -358,6 +358,7 @@
 	$QryTablePlanets    .= "`destructor` bigint(11) NOT NULL default '0', ";
 	$QryTablePlanets    .= "`dearth_star` bigint(11) NOT NULL default '0', ";
 	$QryTablePlanets    .= "`battleship` bigint(11) NOT NULL default '0', ";
+	$QryTablePlanets    .= "`supernova` bigint(11) NOT NULL default '0', ";
 	$QryTablePlanets    .= "`misil_launcher` bigint(11) NOT NULL default '0', ";
 	$QryTablePlanets    .= "`small_laser` bigint(11) NOT NULL default '0', ";
 	$QryTablePlanets    .= "`big_laser` bigint(11) NOT NULL default '0', ";
diff --git a/xnova-legacies_2009.3/includes/db.php b/xnova-legacies_2009.4/includes/db.php
index f03e6d9..479a1d8 100644
--- a/xnova-legacies_2009.3/includes/db.php
+++ b/xnova-legacies_2009.4/includes/db.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/debug.class.php b/xnova-legacies_2009.4/includes/debug.class.php
index 81e2202..6d2d02c 100644
--- a/xnova-legacies_2009.3/includes/debug.class.php
+++ b/xnova-legacies_2009.4/includes/debug.class.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/AbandonColony.php b/xnova-legacies_2009.4/includes/functions/AbandonColony.php
index b1b01f0..34b97bb 100644
--- a/xnova-legacies_2009.3/includes/functions/AbandonColony.php
+++ b/xnova-legacies_2009.4/includes/functions/AbandonColony.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/AddBuildingToQueue.php b/xnova-legacies_2009.4/includes/functions/AddBuildingToQueue.php
index 1ba8e66..a503b7c 100644
--- a/xnova-legacies_2009.3/includes/functions/AddBuildingToQueue.php
+++ b/xnova-legacies_2009.4/includes/functions/AddBuildingToQueue.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/BBcodeFunction.php b/xnova-legacies_2009.4/includes/functions/BBcodeFunction.php
index 6e4218d..6c3b069 100644
--- a/xnova-legacies_2009.3/includes/functions/BBcodeFunction.php
+++ b/xnova-legacies_2009.4/includes/functions/BBcodeFunction.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/BatimentBuildingPage.php b/xnova-legacies_2009.4/includes/functions/BatimentBuildingPage.php
index be7738d..fbc5258 100644
--- a/xnova-legacies_2009.3/includes/functions/BatimentBuildingPage.php
+++ b/xnova-legacies_2009.4/includes/functions/BatimentBuildingPage.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/BuildFleetEventTable.php b/xnova-legacies_2009.4/includes/functions/BuildFleetEventTable.php
index 668418d..3e76638 100644
--- a/xnova-legacies_2009.3/includes/functions/BuildFleetEventTable.php
+++ b/xnova-legacies_2009.4/includes/functions/BuildFleetEventTable.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/BuildFlyingFleetTable.php b/xnova-legacies_2009.4/includes/functions/BuildFlyingFleetTable.php
index 0d069d0..4d444ba 100644
--- a/xnova-legacies_2009.3/includes/functions/BuildFlyingFleetTable.php
+++ b/xnova-legacies_2009.4/includes/functions/BuildFlyingFleetTable.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/BuildingSavePlanetRecord.php b/xnova-legacies_2009.4/includes/functions/BuildingSavePlanetRecord.php
index 6e70447..dc79809 100644
--- a/xnova-legacies_2009.3/includes/functions/BuildingSavePlanetRecord.php
+++ b/xnova-legacies_2009.4/includes/functions/BuildingSavePlanetRecord.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/BuildingSaveUserRecord.php b/xnova-legacies_2009.4/includes/functions/BuildingSaveUserRecord.php
index 8343682..d1fda3f 100644
--- a/xnova-legacies_2009.3/includes/functions/BuildingSaveUserRecord.php
+++ b/xnova-legacies_2009.4/includes/functions/BuildingSaveUserRecord.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/CancelBuildingFromQueue.php b/xnova-legacies_2009.4/includes/functions/CancelBuildingFromQueue.php
index bbb5704..6cd6b18 100644
--- a/xnova-legacies_2009.3/includes/functions/CancelBuildingFromQueue.php
+++ b/xnova-legacies_2009.4/includes/functions/CancelBuildingFromQueue.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/CheckCookies.php b/xnova-legacies_2009.4/includes/functions/CheckCookies.php
index 9923a82..e2ed4ab 100644
--- a/xnova-legacies_2009.3/includes/functions/CheckCookies.php
+++ b/xnova-legacies_2009.4/includes/functions/CheckCookies.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -43,16 +43,16 @@ SELECT * FROM {{table}}
 EOF;
         $userData = doquery($sql, 'users', true);
     } else if (isset($_COOKIE['nova-cookie'])) {
-        $cookieData = unserialize($_COOKIE['nova-cookie']);
+        $cookieData = unserialize(stripslashes($_COOKIE['nova-cookie']));
         $cookieData = array(
             'id' => (isset($cookieData['id']) ? (int) $cookieData['id'] : 0),
             'key' => (isset($cookieData['key']) ? (string) $cookieData['key'] : null)
             );
 
         $sql =<<<EOF
-SELECT * FROM {{table}}
+SELECT * FROM {{table}} AS user
     WHERE id={$cookieData['id']}
-      AND (@key:={$cookieData['key']})=CONCAT((@salt:=MID(@key, 0, 4)), SHA1(CONCAT(u.username, u.password, @salt))
+      AND (@key:="{$cookieData['key']}")=CONCAT((@salt:=MID(@key, 0, 4)), SHA1(CONCAT(user.username, user.password, @salt)))
     LIMIT 1
 EOF;
         $userData = doquery($sql, 'users', true);
@@ -72,9 +72,10 @@ EOF;
         'remote_addr' => mysql_real_escape_string($_SERVER['REMOTE_ADDR']/* . (isset($_SERVER['HTTP_X_FORWARDED_FOR']) ? '|' . $_SERVER['HTTP_X_FORWARDED_FOR'] : '')*/),
         'user_agent' => mysql_real_escape_string($_SERVER['HTTP_USER_AGENT'])
         );
+    $now = time();
     $sql =<<<EOF
 UPDATE {{table}}
-    SET `onlinetime` = UNIX_TIMESTAMP(NOW()),
+    SET `onlinetime` = "{$now}",
         `current_page` = "{$sessionData['request_uri']}",
         `user_lastip` = "{$sessionData['remote_addr']}",
         `user_agent` = "{$sessionData['user_agent']}"
diff --git a/xnova-legacies_2009.3/includes/functions/CheckInputStrings.php b/xnova-legacies_2009.4/includes/functions/CheckInputStrings.php
index 04dc0be..6551819 100644
--- a/xnova-legacies_2009.3/includes/functions/CheckInputStrings.php
+++ b/xnova-legacies_2009.4/includes/functions/CheckInputStrings.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/CheckLabSettingsInQueue.php b/xnova-legacies_2009.4/includes/functions/CheckLabSettingsInQueue.php
index 865c39a..240b718 100644
--- a/xnova-legacies_2009.3/includes/functions/CheckLabSettingsInQueue.php
+++ b/xnova-legacies_2009.4/includes/functions/CheckLabSettingsInQueue.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/CheckPlanetBuildingQueue.php b/xnova-legacies_2009.4/includes/functions/CheckPlanetBuildingQueue.php
index 6af0113..a3a4fc3 100644
--- a/xnova-legacies_2009.3/includes/functions/CheckPlanetBuildingQueue.php
+++ b/xnova-legacies_2009.4/includes/functions/CheckPlanetBuildingQueue.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/CheckPlanetUsedFields.php b/xnova-legacies_2009.4/includes/functions/CheckPlanetUsedFields.php
index 11cc19a..f9703a1 100644
--- a/xnova-legacies_2009.3/includes/functions/CheckPlanetUsedFields.php
+++ b/xnova-legacies_2009.4/includes/functions/CheckPlanetUsedFields.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/ChekUser.php b/xnova-legacies_2009.4/includes/functions/ChekUser.php
index 0a62b35..db333d6 100644
--- a/xnova-legacies_2009.3/includes/functions/ChekUser.php
+++ b/xnova-legacies_2009.4/includes/functions/ChekUser.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/CreateOneMoonRecord.php b/xnova-legacies_2009.4/includes/functions/CreateOneMoonRecord.php
index 25f89fd..9aa63e2 100644
--- a/xnova-legacies_2009.3/includes/functions/CreateOneMoonRecord.php
+++ b/xnova-legacies_2009.4/includes/functions/CreateOneMoonRecord.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/CreateOnePlanetRecord.php b/xnova-legacies_2009.4/includes/functions/CreateOnePlanetRecord.php
index 24e0980..45cba52 100644
--- a/xnova-legacies_2009.3/includes/functions/CreateOnePlanetRecord.php
+++ b/xnova-legacies_2009.4/includes/functions/CreateOnePlanetRecord.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/DefensesBuildingPage.php b/xnova-legacies_2009.4/includes/functions/DefensesBuildingPage.php
index 572ad8c..ec160f3 100644
--- a/xnova-legacies_2009.3/includes/functions/DefensesBuildingPage.php
+++ b/xnova-legacies_2009.4/includes/functions/DefensesBuildingPage.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -28,185 +28,114 @@
  *
  */
 
-function DefensesBuildingPage ( &$CurrentPlanet, $CurrentUser ) {
- 	global $lang, $resource, $dpath, $_POST;
-
-	if (isset($_POST['fmenge'])) {
-		// On vient de Cliquer ' Construire '
-
-		// Et y a une liste de doléances
-		// Ici, on sait precisement ce qu'on aimerait bien construire ...
-
-		// Gestion de la place disponible dans les silos !
-		$Missiles[502] = $CurrentPlanet[ $resource[502] ];
-		$Missiles[503] = $CurrentPlanet[ $resource[503] ];
-		$SiloSize      = $CurrentPlanet[ $resource[44] ];
-		$MaxMissiles   = $SiloSize * 10;
-		// On prend les missiles deja dans la queue de fabrication aussi (ca aide)
-		$BuildQueue    = $CurrentPlanet['b_hangar_id'];
-		$BuildArray    = explode (";", $BuildQueue);
-		for ($QElement = 0; $QElement < count($BuildArray); $QElement++) {
-			$ElmentArray = explode (",", $BuildArray[$QElement] );
-			if       ($ElmentArray[502] != 0) {
-				$Missiles[502] += $ElmentArray[502];
-			} elseif ($ElmentArray[503] != 0) {
-				$Missiles[503] += $ElmentArray[503];
-			}
-		}
-		foreach($_POST['fmenge'] as $Element => $Count) {
-			// Construction d'Element recuperés sur la page de Flotte ...
-			// ATTENTION ! La file d'attente Flotte est Commune a celle des Defenses
-			// Dans fmenge, on devrait trouver un tableau des elements constructibles etdu nombre d'elements souhaités
-
-			$Element = intval($Element);
-			$Count   = intval($Count);
-			if ($Count > MAX_FLEET_OR_DEFS_PER_ROW) {
-				$Count = MAX_FLEET_OR_DEFS_PER_ROW;
-			}
-
-
-			if ($Count != 0) {
-				// Cas particulier (Petit Bouclier et Grand Bouclier
-				// ne peuvent exister qu'une seule et unique fois
-				$InQueue = strpos ( $CurrentPlanet['b_hangar_id'], $Element.",");
-				$IsBuild = ($CurrentPlanet[$resource[407]] >= 1) ? true : false;
-				if ($Element == 407 || $Element == 408) {
-					if ($InQueue === false && !$IsBuild) {
-                        $Count = 1;
-					}
-				}
-
-				// On verifie si on a les technologies necessaires a la construction de l'element
-				if ( IsTechnologieAccessible ($CurrentUser, $CurrentPlanet, $Element) ) {
-					// On verifie combien on sait faire de cet element au max
-					$MaxElements   = GetMaxConstructibleElements ( $Element, $CurrentPlanet );
-
-					// Testons si on a de la place pour ces nouveaux missiles !
-					if ($Element == 502 || $Element == 503) {
-						// Cas particulier des missiles
-						$ActuMissiles  = $Missiles[502] + ( 2 * $Missiles[503] );
-						$MissilesSpace = $MaxMissiles - $ActuMissiles;
-						if ($Element == 502) {
-							if ( $Count > $MissilesSpace ) {
-								$Count = $MissilesSpace;
-							}
-						} else {
-							if ( $Count > floor( $MissilesSpace / 2 ) ) {
-								$Count = floor( $MissilesSpace / 2 );
-							}
-						}
-						if ($Count > $MaxElements) {
-							$Count = $MaxElements;
-						}
-						$Missiles[$Element] += $Count;
-					} else {
-						// Si pas assez de ressources, on ajuste le nombre d'elements
-						if ($Count > $MaxElements) {
-							$Count = $MaxElements;
-						}
-					}
-
-					$Ressource = GetElementRessources ( $Element, $Count );
-					$BuildTime = GetBuildingTime($CurrentUser, $CurrentPlanet, $Element);
-					if ($Count >= 1) {
-						$CurrentPlanet['metal']           -= $Ressource['metal'];
-						$CurrentPlanet['crystal']         -= $Ressource['crystal'];
-						$CurrentPlanet['deuterium']       -= $Ressource['deuterium'];
-						$CurrentPlanet['b_hangar_id']     .= "". $Element .",". $Count .";";
-					}
-				}
-			}
-		}
-	}
-
-	// -------------------------------------------------------------------------------------------------------
-	// S'il n'y a pas de Chantier ...
-	if ($CurrentPlanet[$resource[21]] == 0) {
-		// Veuillez avoir l'obligeance de construire le Chantier Spacial !!
-		message($lang['need_hangar'], $lang['tech'][21]);
-	}
-
-	// -------------------------------------------------------------------------------------------------------
-	// Construction de la page du Chantier (car si j'arrive ici ... c'est que j'ai tout ce qu'il faut pour ...
-	$TabIndex  = 0;
-	$PageTable = "";
-	foreach($lang['tech'] as $Element => $ElementName) {
-		if ($Element > 400 && $Element <= 599) {
-			if (IsTechnologieAccessible($CurrentUser, $CurrentPlanet, $Element)) {
-				// Disponible à la construction
-
-				// On regarde si on peut en acheter au moins 1
-				$CanBuildOne         = IsElementBuyable($CurrentUser, $CurrentPlanet, $Element, false);
-				// On regarde combien de temps il faut pour construire l'element
-				$BuildOneElementTime = GetBuildingTime($CurrentUser, $CurrentPlanet, $Element);
-				// Disponibilité actuelle
-				$ElementCount        = $CurrentPlanet[$resource[$Element]];
-				$ElementNbre         = ($ElementCount == 0) ? "" : " (".$lang['dispo'].": " . pretty_number($ElementCount) . ")";
-
-				// Construction des 3 cases de la ligne d'un element dans la page d'achat !
-				// Début de ligne
-				$PageTable .= "\n<tr>";
-
-				// Imagette + Link vers la page d'info
-				$PageTable .= "<th class=l>";
-				$PageTable .= "<a href=infos.".PHPEXT."?gid=".$Element.">";
-				$PageTable .= "<img border=0 src=\"".$dpath."gebaeude/".$Element.".gif\" align=top width=120 height=120></a>";
-				$PageTable .= "</th>";
-
-				// Description
-				$PageTable .= "<td class=l>";
-				$PageTable .= "<a href=infos.".PHPEXT."?gid=".$Element.">".$ElementName."</a> ".$ElementNbre."<br>";
-				$PageTable .= "".$lang['res']['descriptions'][$Element]."<br>";
-				// On affiche le 'prix' avec eventuellement ce qui manque en ressource
-				$PageTable .= GetElementPrice($CurrentUser, $CurrentPlanet, $Element, false);
-				// On affiche le temps de construction (c'est toujours tellement plus joli)
-				$PageTable .= ShowBuildTime($BuildOneElementTime);
-				$PageTable .= "</td>";
-
-				// Case nombre d'elements a construire
-				$PageTable .= "<th class=k>";
-				// Si ... Et Seulement si je peux construire je mets la p'tite zone de saisie
-				if ($CanBuildOne) {
-					$InQueue = strpos ( $CurrentPlanet['b_hangar_id'], $Element.",");
-					$IsBuild = ($CurrentPlanet[$resource[407]] >= 1) ? true : false;
-					$BuildIt = true;
-					if ($Element == 407 || $Element == 408) {
-                        $BuildIt = false;
-						if ( $InQueue === false && !$IsBuild) {
-							$BuildIt = true;
-						}
-					}
-
-					if ( !$BuildIt ) {
-						$PageTable .= "<font color=\"red\">".$lang['only_one']."</font>";
-					} else {
-						$TabIndex++;
-						$PageTable .= "<input type=text name=fmenge[".$Element."] alt='".$lang['tech'][$Element]."' size=5 maxlength=5 value=0 tabindex=".$TabIndex.">";
-						$PageTable .= "</th>";
-					}
-				} else {
-					$PageTable .= "</th>";
-				}
-
-				// Fin de ligne (les 3 cases sont construites !!
-				$PageTable .= "</tr>";
-			}
-		}
-	}
-
-	if ($CurrentPlanet['b_hangar_id'] != '') {
-		$BuildQueue .= ElementBuildListBox( $CurrentUser, $CurrentPlanet );
-	}
-
-	$parse = $lang;
-	// La page se trouve dans $PageTable;
-	$parse['buildlist']    = $PageTable;
-	// Et la liste de constructions en cours dans $BuildQueue;
-	$parse['buildinglist'] = $BuildQueue;
-	// fragmento de template
-	$page .= parsetemplate(gettemplate('buildings_defense'), $parse);
-
-	display($page, $lang['Defense']);
+require_once ROOT_PATH . 'includes/classes/Legacies/Empire/Shipyard.php';
+
+function DefensesBuildingPage ( &$currentPlanet, $currentUser ) {
+    global $lang, $resource, $dpath;
+
+    // S'il n'y a pas de Chantier
+    if (!isset($currentPlanet[$resource[Legacies_Empire::ID_BUILDING_SHIPYARD]]) || $currentPlanet[$resource[Legacies_Empire::ID_BUILDING_SHIPYARD]] == 0) {
+        message($lang['need_hangar'], $lang['tech'][Legacies_Empire::ID_BUILDING_SHIPYARD]);
+        return;
+    }
+
+    $shipyard = Legacies_Empire_Shipyard::factory($currentPlanet, $currentUser);
+    if (isset($_POST['fmenge']) && is_array($_POST['fmenge'])) {
+        foreach ($_POST['fmenge'] as $shipId => $count) {
+            $shipId = intval($shipId);
+            if (in_array($shipId, $resource)) {
+                continue;
+            }
+            $count = intval($count);
+
+            $shipyard->appendQueue($shipId, $count);
+        }
+        $currentPlanet = $shipyard->save();
+    }
+
+    // -------------------------------------------------------------------------------------------------------
+    // Construction de la page du Chantier (car si j'arrive ici ... c'est que j'ai tout ce qu'il faut pour ...
+    $TabIndex  = 0;
+    $PageTable = "";
+    $types = include ROOT_PATH . 'includes/data/types.php';
+    foreach ($types[Legacies_Empire::TYPE_DEFENSE] as $shipId) {
+        if ($shipyard->checkAvailability($shipId)) {
+            // Disponible à la construction
+
+            // On regarde combien de temps il faut pour construire l'element
+            $BuildOneElementTime = $shipyard->getBuildTime($shipId, 1);
+            // Disponibilité actuelle
+            $shipIdCount        = $currentPlanet[$resource[$shipId]];
+            $shipIdNbre         = ($shipIdCount == 0) ? "" : " (".$lang['dispo'].": " . pretty_number($shipIdCount) . ")";
+
+            // Construction des 3 cases de la ligne d'un element dans la page d'achat !
+            // Début de ligne
+            $PageTable .= "\n<tr>";
+
+            // Imagette + Link vers la page d'info
+            $PageTable .= "<th class=l>";
+            $PageTable .= "<a href=infos.".PHPEXT."?gid=".$shipId.">";
+            $PageTable .= "<img border=0 src=\"".$dpath."gebaeude/".$shipId.".gif\" align=top width=120 height=120></a>";
+            $PageTable .= "</th>";
+
+            // Description
+            $PageTable .= "<td class=l>";
+            $PageTable .= "<a href=infos.".PHPEXT."?gid=".$shipId.">".$shipIdName."</a> ".$shipIdNbre."<br>";
+            $PageTable .= "".$lang['res']['descriptions'][$shipId]."<br>";
+            // On affiche le 'prix' avec eventuellement ce qui manque en ressource
+            $PageTable .= GetElementPrice($currentUser, $currentPlanet, $shipId, false);
+            // On affiche le temps de construction (c'est toujours tellement plus joli)
+            $PageTable .= ShowBuildTime($BuildOneElementTime);
+            $PageTable .= "</td>";
+
+            // Case nombre d'elements a construire
+            $PageTable .= "<td class=k>";
+            // Si ... Et Seulement si je peux construire je mets la p'tite zone de saisie
+            $maxElements = $shipyard->getMaximumBuildableElementsCount($shipId);
+            if (bccomp($maxElements, 0) > 0) {
+                $TabIndex++;
+                $PageTable .= "<input type=\"text\" id=\"fmenge:{$shipId}\" name=\"fmenge[".$shipId."]\" alt='".$lang['tech'][$shipId]."' size=5 maxlength=5 value=0 tabindex=".$TabIndex.">";
+
+                if (MAX_FLEET_OR_DEFS_PER_ROW > 0 && $maxElements > MAX_FLEET_OR_DEFS_PER_ROW) {
+                    $maxElements = MAX_FLEET_OR_DEFS_PER_ROW;
+                }
+
+                $PageTable .= '<br /><a onclick="document.getElementById(\'fmenge:'.$shipId.'\').value=\''.strval($maxElements).'\';" style="cursor:pointer;">Nombre max ('.number_format($maxElements, 0, ',', '.').')</a>';
+            } else if (in_array($shipId, array(Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME, Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME))) {
+                $PageTable .= '<span style="color:red">Limite de construction atteinte.</span>';
+            } else if (in_array($shipId, array(Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME, Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME))) {
+                $PageTable .= '<span style="color:red">Silo plein.</span>';
+            }
+            $PageTable .= '</td>';
+
+            // Fin de ligne (les 3 cases sont construites !!
+            $PageTable .= "</tr>";
+        }
+    }
+
+    if (!empty($currentPlanet['b_hangar_id'])) {
+        $data = array();
+        foreach ($shipyard->getQueue() as $item) {
+            $data[] = array_merge($item, array(
+                'label' => $lang['tech'][$item['ship_id']],
+                'speed' => $shipyard->getBuildTime($item['ship_id'], 1)
+                ));
+        }
+        $parse = array(
+            'data' => json_encode($data)
+            );
+        $BuildQueue = parsetemplate(gettemplate('buildings_script'), $parse);
+    }
+
+    $parse = $lang;
+    // La page se trouve dans $PageTable;
+    $parse['buildlist']    = $PageTable;
+    // Et la liste de constructions en cours dans $BuildQueue;
+    $parse['buildinglist'] = $BuildQueue;
+    // fragmento de template
+    $page .= parsetemplate(gettemplate('buildings_defense'), $parse);
+
+    display($page, $lang['Defense']);
 
 }
 // Version History
diff --git a/xnova-legacies_2009.3/includes/functions/DeleteSelectedUser.php b/xnova-legacies_2009.4/includes/functions/DeleteSelectedUser.php
index 0e1e2c0..3eeae4d 100644
--- a/xnova-legacies_2009.3/includes/functions/DeleteSelectedUser.php
+++ b/xnova-legacies_2009.4/includes/functions/DeleteSelectedUser.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/ElementBuildListBox.php b/xnova-legacies_2009.4/includes/functions/ElementBuildListBox.php
index 638414e..f91ae4c 100644
--- a/xnova-legacies_2009.3/includes/functions/ElementBuildListBox.php
+++ b/xnova-legacies_2009.4/includes/functions/ElementBuildListBox.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -31,34 +31,34 @@
 function ElementBuildListBox ( $CurrentUser, $CurrentPlanet ) {
 	global $lang, $pricelist;
 
-	// Array del b_hangar_id
-	$ElementQueue = explode(';', $CurrentPlanet['b_hangar_id']);
-	$NbrePerType  = "";
-	$NamePerType  = "";
-	$TimePerType  = "";
-
-	foreach($ElementQueue as $ElementLine => $Element) {
-		if ($Element != '') {
-			$Element = explode(',', $Element);
-			$ElementTime  = GetBuildingTime( $CurrentUser, $CurrentPlanet, $Element[0] );
-			$QueueTime   += $ElementTime * $Element[1];
-			$TimePerType .= "".$ElementTime.",";
-			$NamePerType .= "'". html_entity_decode($lang['tech'][$Element[0]]) ."',";
-			$NbrePerType .= "".$Element[1].",";
-		}
-	}
-
-	$parse = $lang;
-	$parse['a'] = $NbrePerType;
-	$parse['b'] = $NamePerType;
-	$parse['c'] = $TimePerType;
-	$parse['b_hangar_id_plus'] = $CurrentPlanet['b_hangar'];
-
-	$parse['pretty_time_b_hangar'] = pretty_time($QueueTime - $CurrentPlanet['b_hangar']);
-
-	$text .= parsetemplate(gettemplate('buildings_script'), $parse);
-
-	return $text;
+//	// Array del b_hangar_id
+//	$ElementQueue = explode(';', $CurrentPlanet['b_hangar_id']);
+//	$NbrePerType  = "";
+//	$NamePerType  = "";
+//	$TimePerType  = "";
+//
+//	foreach($ElementQueue as $ElementLine => $Element) {
+//		if ($Element != '') {
+//			$Element = explode(',', $Element);
+//			$ElementTime  = GetBuildingTime( $CurrentUser, $CurrentPlanet, $Element[0] );
+//			$QueueTime   += $ElementTime * $Element[1];
+//			$TimePerType .= "".$ElementTime.",";
+//			$NamePerType .= "'". html_entity_decode($lang['tech'][$Element[0]]) ."',";
+//			$NbrePerType .= "".$Element[1].",";
+//		}
+//	}
+//
+//	$parse = $lang;
+//	$parse['a'] = $NbrePerType;
+//	$parse['b'] = $NamePerType;
+//	$parse['c'] = $TimePerType;
+//	$parse['b_hangar_id_plus'] = $CurrentPlanet['b_hangar'];
+//
+//	$parse['pretty_time_b_hangar'] = pretty_time($QueueTime - $CurrentPlanet['b_hangar']);
+//
+//	$text .= parsetemplate(gettemplate('buildings_script'), $parse);
+//
+//	return $text;
 }
 
 ?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/includes/functions/ElementBuildListQueue.php b/xnova-legacies_2009.4/includes/functions/ElementBuildListQueue.php
index 5a3ba6e..7ace2d6 100644
--- a/xnova-legacies_2009.3/includes/functions/ElementBuildListQueue.php
+++ b/xnova-legacies_2009.4/includes/functions/ElementBuildListQueue.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -42,35 +42,35 @@ change `b_building_queue` `b_building_queue` text NULL COLLATE latin1_general_ci
 change `unbau` `unbau` varchar (100) NULL COLLATE latin1_general_ci;
 
 */
-	global $lang, $pricelist;
-
-	// Array del b_hangar_id
-	$b_building_id = explode(';', $CurrentPlanet['b_building_queue']);
-
-	$a = $b = $c = "";
-	foreach($b_hangar_id as $n => $array) {
-		if ($array != '') {
-			$array = explode(',', $array);
-			// calculamos el tiempo
-			$time = GetBuildingTime($user, $CurrentPlanet, $array[0]);
-			$totaltime += $time * $array[1];
-			$c .= "$time,";
-			$b .= "'{$lang['tech'][$array[0]]}',";
-			$a .= "{$array[1]},";
-		}
-	}
-
-	$parse = $lang;
-	$parse['a'] = $a;
-	$parse['b'] = $b;
-	$parse['c'] = $c;
-	$parse['b_hangar_id_plus'] = $CurrentPlanet['b_hangar'];
-
-	$parse['pretty_time_b_hangar'] = pretty_time($totaltime - $CurrentPlanet['b_hangar']); // //$CurrentPlanet['last_update']
-
-	$text .= parsetemplate(gettemplate('buildings_script'), $parse);
-
-	return $text;
+//	global $lang, $pricelist;
+//
+//	// Array del b_hangar_id
+//	$b_building_id = explode(';', $CurrentPlanet['b_building_queue']);
+//
+//	$a = $b = $c = "";
+//	foreach($b_hangar_id as $n => $array) {
+//		if ($array != '') {
+//			$array = explode(',', $array);
+//			// calculamos el tiempo
+//			$time = GetBuildingTime($user, $CurrentPlanet, $array[0]);
+//			$totaltime += $time * $array[1];
+//			$c .= "$time,";
+//			$b .= "'{$lang['tech'][$array[0]]}',";
+//			$a .= "{$array[1]},";
+//		}
+//	}
+//
+//	$parse = $lang;
+//	$parse['a'] = $a;
+//	$parse['b'] = $b;
+//	$parse['c'] = $c;
+//	$parse['b_hangar_id_plus'] = $CurrentPlanet['b_hangar'];
+//
+//	$parse['pretty_time_b_hangar'] = pretty_time($totaltime - $CurrentPlanet['b_hangar']); // //$CurrentPlanet['last_update']
+//
+//	$text .= parsetemplate(gettemplate('buildings_script'), $parse);
+//
+//	return $text;
 }
 
 ?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/includes/functions/FleetBuildingPage.php b/xnova-legacies_2009.4/includes/functions/FleetBuildingPage.php
index 9c36323..1be5873 100644
--- a/xnova-legacies_2009.3/includes/functions/FleetBuildingPage.php
+++ b/xnova-legacies_2009.4/includes/functions/FleetBuildingPage.php
@@ -28,146 +28,118 @@
  *
  */
 
-function FleetBuildingPage ( &$CurrentPlanet, $CurrentUser ) {
- 	global $pricelist, $lang, $resource, $dpath, $_POST;
-
-	if (isset($_POST['fmenge'])) {
-		// On vient de Cliquer ' Construire '
-		// Et y a une liste de dol�ances
-		$AddedInQueue                     = false;
-		// Ici, on sait precisement ce qu'on aimerait bien construire ...
-		foreach($_POST['fmenge'] as $Element => $Count) {
-			// Construction d'Element recuper�s sur la page de Flotte ...
-			// ATTENTION ! La file d'attente Flotte est Commune a celle des Defenses
-			// Dans fmenge, on devrait trouver un tableau des elements constructibles et du nombre d'elements souhait�s
-
-			$Element = intval($Element);
-			$Count   = ereg_replace("[^0-9]",'',$Count);
-			if ($Count > MAX_FLEET_OR_DEFS_PER_ROW) {
-				$Count = MAX_FLEET_OR_DEFS_PER_ROW;
-			}
-
-			if ($Count != 0) {
-            // On verifie si on a les technologies necessaires a la construction de l'element
-            if ( IsTechnologieAccessible ($CurrentUser, $CurrentPlanet, $Element) ) {
-               // On verifie combien on sait faire de cet element au max
-               $MaxElements   = GetMaxConstructibleElements ( $Element, $CurrentPlanet );
-               // Si pas assez de ressources, on ajuste le nombre d'elements
-               if ($Count > $MaxElements) {
-                  $Count = $MaxElements;
-               }
-               $Ressource = GetElementRessources ( $Element, $Count );
-               $BuildTime = GetBuildingTime($CurrentUser, $CurrentPlanet, $Element);
-                                  if ($Count >= 1) {
-                      if ($BuildTime > 0) {
-                      $CurrentPlanet['metal']           -= $Ressource['metal'];
-                      $CurrentPlanet['crystal']         -= $Ressource['crystal'];
-                      $CurrentPlanet['deuterium']       -= $Ressource['deuterium'];
-               	if ($Element == 214 && $CurrentUser['rpg_destructeur'] == 1) {
-                   	$Count = $Count * 2; //On multiplie les EDLM par 2
-                   	}
-                      $CurrentPlanet['b_hangar_id']     .= "". $Element .",". $Count .";";
-                    } else {
-                      $res=doquery("SELECT ".$resource[$Element]." FROM {{table}} WHERE id = '". $CurrentPlanet['id'] ."'  ;",'planets');
-                      $NombreVaisseauxActuel=mysql_result($res,0,$resource[$Element]);
-
-                      $CurrentPlanet['metal'] -= $Ressource['metal'];
-                      $CurrentPlanet['crystal'] -= $Ressource['crystal'];
-                      $CurrentPlanet['deuterium'] -= $Ressource['deuterium'];
-                      $NewFleetNumber = $CurrentPlanet[$resource[$Element]] + $Count;
-               if ($Element == 214 && $CurrentUser['rpg_destructeur'] == 1) {
-                   $Count = $Count * 2; //On multiplie les EDLM par 2
-                   }
-                      $QryUpdatefleet = "UPDATE {{table}} SET ";
-                      $QryUpdatefleet .= "`$resource[$Element]` = '".$NombreVaisseauxActuel."' + '".$Count."' ";
-                      $QryUpdatefleet .= "WHERE ";
-                      $QryUpdatefleet .= "`id` = '". $CurrentPlanet['id'] ."'";
-                      doquery ( $QryUpdatefleet, 'planets');
-                      }
-                   }
+require_once ROOT_PATH . 'includes/classes/Legacies/Empire/Shipyard.php';
+
+function FleetBuildingPage(&$currentPlanet, &$currentUser)
+{
+    global $lang, $resource, $dpath;
+
+    // S'il n'y a pas de Chantier
+    if (!isset($currentPlanet[$resource[Legacies_Empire::ID_BUILDING_SHIPYARD]]) || $currentPlanet[$resource[Legacies_Empire::ID_BUILDING_SHIPYARD]] == 0) {
+        message($lang['need_hangar'], $lang['tech'][Legacies_Empire::ID_BUILDING_SHIPYARD]);
+        return;
+    }
+
+    $shipyard = Legacies_Empire_Shipyard::factory($currentPlanet, $currentUser);
+    if (isset($_POST['fmenge']) && is_array($_POST['fmenge'])) {
+        foreach ($_POST['fmenge'] as $shipId => $count) {
+            $shipId = intval($shipId);
+            if (in_array($shipId, $resource)) {
+                continue;
             }
-         }
-      }
-   }
-	// -------------------------------------------------------------------------------------------------------
-	// S'il n'y a pas de Chantier ...
-	if ($CurrentPlanet[$resource[21]] == 0) {
-		// Veuillez avoir l'obligeance de construire le Chantier Spacial !!
-		message($lang['need_hangar'], $lang['tech'][21]);
-	}
-
-	// -------------------------------------------------------------------------------------------------------
-	// Construction de la page du Chantier (car si j'arrive ici ... c'est que j'ai tout ce qu'il faut pour ...
-	$TabIndex = 0;
-	foreach($lang['tech'] as $Element => $ElementName) {
-		if ($Element > 201 && $Element <= 399) {
-			if (IsTechnologieAccessible($CurrentUser, $CurrentPlanet, $Element)) {
-				// Disponible à la construction
-
-				// On regarde si on peut en acheter au moins 1
-				$CanBuildOne         = IsElementBuyable($CurrentUser, $CurrentPlanet, $Element, false);
-				// On regarde combien de temps il faut pour construire l'element
-				$BuildOneElementTime = GetBuildingTime($CurrentUser, $CurrentPlanet, $Element);
-				// Disponibilité actuelle
-				$ElementCount        = $CurrentPlanet[$resource[$Element]];
-				$ElementNbre         = ($ElementCount == 0) ? "" : " (".$lang['dispo'].": " . pretty_number($ElementCount) . ")";
-
-				// Construction des 3 cases de la ligne d'un element dans la page d'achat !
-				// Début de ligne
-				$PageTable .= "\n<tr>";
-
-				// Imagette + Link vers la page d'info
-				$PageTable .= "<th class=l>";
-				$PageTable .= "<a href=infos.".PHPEXT."?gid=".$Element.">";
-				$PageTable .= "<img border=0 src=\"".$dpath."gebaeude/".$Element.".gif\" align=top width=120 height=120></a>";
-				$PageTable .= "</th>";
-
-				// Description
-				$PageTable .= "<td class=l>";
-				$PageTable .= "<a href=infos.".PHPEXT."?gid=".$Element.">".$ElementName."</a> ".$ElementNbre."<br>";
-				$PageTable .= "".$lang['res']['descriptions'][$Element]."<br>";
-				// On affiche le 'prix' avec eventuellement ce qui manque en ressource
-				$PageTable .= GetElementPrice($CurrentUser, $CurrentPlanet, $Element, false);
-				// On affiche le temps de construction (c'est toujours tellement plus joli)
-				$PageTable .= ShowBuildTime($BuildOneElementTime);
-				$PageTable .= "</td>";
-
-				// Case nombre d'elements a construire
-				$PageTable .= "<th class=k>";
-				    // Si ... Et Seulement si je peux construire je mets la p'tite zone de saisie
-                if ($CanBuildOne) {
-                   $TabIndex++;
-                   $PageTable .= "<input type=text id=fmenge[".$Element."] name=fmenge[".$Element."] alt='".$lang['tech'][$Element]."' value=0 tabindex=".$TabIndex.">";
-                }
-
-		$MaxElements   = GetMaxConstructibleElements ( $Element, $CurrentPlanet );
-
-                if($MaxElements>MAX_FLEET_OR_DEFS_PER_ROW)
-                 $MaxElements=MAX_FLEET_OR_DEFS_PER_ROW;
-
-                   if ($BuildOneElementTime > 0) {
-                 $MaxElements=1; }
-
-                if ($CanBuildOne)
-                 $PageTable.='<BR><BR><A ONCLICK="document.getElementById(\'fmenge['.$Element.']\').value=\''.intval($MaxElements).'\';" STYLE="cursor:pointer;">Nombre max ('.intval($MaxElements).')</A>';
-
-
-				// Fin de ligne (les 3 cases sont construites !!
-				$PageTable .= "</tr>";
-			}
-		}
-	}
-
-	if ($CurrentPlanet['b_hangar_id'] != '') {
-		$BuildQueue .= ElementBuildListBox( $CurrentUser, $CurrentPlanet );
-	}
-
-	$parse = $lang;
-	// La page se trouve dans $PageTable;
-	$parse['buildlist']    = $PageTable;
-	// Et la liste de constructions en cours dans $BuildQueue;
-	$parse['buildinglist'] = $BuildQueue;
-	$page .= parsetemplate(gettemplate('buildings_fleet'), $parse);
-
-	display($page, $lang['Fleet']);
+            $count = intval($count);
+            if ($count <= 0) {
+                continue;
+            }
+
+            if ($shipId == Legacies_Empire::ID_SHIP_DEATH_STAR && $currentUser['rpg_destructeur'] == 1) { // FIXME: Officers
+                $count = $count * 2;
+            }
+
+            $shipyard->appendQueue($shipId, $count);
+        }
+        $currentPlanet = $shipyard->save();
+    }
+
+    // -------------------------------------------------------------------------------------------------------
+    // Construction de la page du Chantier (car si j'arrive ici ... c'est que j'ai tout ce qu'il faut pour ...
+    $tableIndex = 0;
+    $types = include ROOT_PATH . 'includes/data/types.php';
+    foreach ($types[Legacies_Empire::TYPE_SHIP] as $shipId) {
+        if ($shipyard->checkAvailability($shipId)) {
+            // Disponible à la construction
+
+            // On regarde si on peut en acheter au moins 1
+            $CanBuildOne         = IsElementBuyable($currentUser, $currentPlanet, $shipId, false);
+            // On regarde combien de temps il faut pour construire l'element
+            $BuildOneElementTime = $shipyard->getBuildTime($shipId, 1);
+            // Disponibilité actuelle
+            $shipIdCount        = $currentPlanet[$resource[$shipId]];
+            $shipIdNbre         = ($shipIdCount == 0) ? "" : " (".$lang['dispo'].": " . pretty_number($shipIdCount) . ")";
+
+            // Construction des 3 cases de la ligne d'un element dans la page d'achat !
+            // Début de ligne
+            $PageTable .= "\n<tr>";
+
+            // Imagette + Link vers la page d'info
+            $PageTable .= "<th class=l>";
+            $PageTable .= "<a href=infos.".PHPEXT."?gid=".$shipId.">";
+            $PageTable .= "<img border=0 src=\"".$dpath."gebaeude/".$shipId.".gif\" align=top width=120 height=120></a>";
+            $PageTable .= "</th>";
+
+            // Description
+            $PageTable .= "<td class=l>";
+            $PageTable .= "<a href=infos.".PHPEXT."?gid=".$shipId.">".$shipIdName."</a> ".$shipIdNbre."<br />";
+            $PageTable .= "".$lang['res']['descriptions'][$shipId]."<br />";
+            // On affiche le 'prix' avec eventuellement ce qui manque en ressource
+            $PageTable .= GetElementPrice($currentUser, $currentPlanet, $shipId, false);
+            // On affiche le temps de construction (c'est toujours tellement plus joli)
+            $PageTable .= ShowBuildTime($BuildOneElementTime);
+            $PageTable .= "</td>";
+
+            // Case nombre d'elements a construire
+            $PageTable .= "<th class=k>";
+                // Si ... Et Seulement si je peux construire je mets la p'tite zone de saisie
+            if ($CanBuildOne) {
+               $tableIndex++;
+               $PageTable .= "<input type=text id=\"fmenge:{$shipId}\" name=fmenge[".$shipId."] alt='".$lang['tech'][$shipId]."' value=0 tabindex=".$tableIndex.">";
+            }
+
+            $maxElements = $shipyard->getMaximumBuildableElementsCount($shipId);
+
+            if (MAX_FLEET_OR_DEFS_PER_ROW > 0 && $maxElements > MAX_FLEET_OR_DEFS_PER_ROW) {
+                $maxElements = MAX_FLEET_OR_DEFS_PER_ROW;
+            }
+
+            if ($CanBuildOne) {
+                $PageTable .= '<br /><a onclick="document.getElementById(\'fmenge:'.$shipId.'\').value=\''.strval($maxElements).'\';" style="cursor:pointer;">Nombre max ('.number_format($maxElements, 0, ',', '.').')</a>';
+            }
+
+            // Fin de ligne (les 3 cases sont construites !!
+            $PageTable .= "</tr>";
+        }
+    }
+
+    if (!empty($currentPlanet['b_hangar_id'])) {
+        $data = array();
+        foreach ($shipyard->getQueue() as $item) {
+            $data[] = array_merge($item, array(
+                'label' => $lang['tech'][$item['ship_id']],
+                'speed' => $shipyard->getBuildTime($item['ship_id'], 1)
+                ));
+        }
+        $parse = array(
+            'data' => json_encode($data)
+            );
+        $BuildQueue = parsetemplate(gettemplate('buildings_script'), $parse);
+    }
+
+    $parse = $lang;
+    // La page se trouve dans $PageTable;
+    $parse['buildlist']    = $PageTable;
+    // Et la liste de constructions en cours dans $BuildQueue;
+    $parse['buildinglist'] = $BuildQueue;
+    $page .= parsetemplate(gettemplate('buildings_fleet'), $parse);
+
+    display($page, $lang['Fleet']);
 }
diff --git a/xnova-legacies_2009.3/includes/functions/FlyingFleetHandler.php b/xnova-legacies_2009.4/includes/functions/FlyingFleetHandler.php
index fdcff39..6f5a660 100644
--- a/xnova-legacies_2009.3/includes/functions/FlyingFleetHandler.php
+++ b/xnova-legacies_2009.4/includes/functions/FlyingFleetHandler.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/GalaxyCheckFunctions.php b/xnova-legacies_2009.4/includes/functions/GalaxyCheckFunctions.php
index a197576..b0be98f 100644
--- a/xnova-legacies_2009.3/includes/functions/GalaxyCheckFunctions.php
+++ b/xnova-legacies_2009.4/includes/functions/GalaxyCheckFunctions.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/GalaxyLegendPopup.php b/xnova-legacies_2009.4/includes/functions/GalaxyLegendPopup.php
index d699712..0d07173 100644
--- a/xnova-legacies_2009.3/includes/functions/GalaxyLegendPopup.php
+++ b/xnova-legacies_2009.4/includes/functions/GalaxyLegendPopup.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/GalaxyRowActions.php b/xnova-legacies_2009.4/includes/functions/GalaxyRowActions.php
index 949d39e..fd90204 100644
--- a/xnova-legacies_2009.3/includes/functions/GalaxyRowActions.php
+++ b/xnova-legacies_2009.4/includes/functions/GalaxyRowActions.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/GalaxyRowAlly.php b/xnova-legacies_2009.4/includes/functions/GalaxyRowAlly.php
index 7178eac..35f3e40 100644
--- a/xnova-legacies_2009.3/includes/functions/GalaxyRowAlly.php
+++ b/xnova-legacies_2009.4/includes/functions/GalaxyRowAlly.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/GalaxyRowDebris.php b/xnova-legacies_2009.4/includes/functions/GalaxyRowDebris.php
index c271718..2f6ae61 100644
--- a/xnova-legacies_2009.3/includes/functions/GalaxyRowDebris.php
+++ b/xnova-legacies_2009.4/includes/functions/GalaxyRowDebris.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/GalaxyRowMoon.php b/xnova-legacies_2009.4/includes/functions/GalaxyRowMoon.php
index abd23e4..1adcc04 100644
--- a/xnova-legacies_2009.3/includes/functions/GalaxyRowMoon.php
+++ b/xnova-legacies_2009.4/includes/functions/GalaxyRowMoon.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/GalaxyRowPlanet.php b/xnova-legacies_2009.4/includes/functions/GalaxyRowPlanet.php
index 5276356..8bcb6d3 100644
--- a/xnova-legacies_2009.3/includes/functions/GalaxyRowPlanet.php
+++ b/xnova-legacies_2009.4/includes/functions/GalaxyRowPlanet.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/GalaxyRowPlanetName.php b/xnova-legacies_2009.4/includes/functions/GalaxyRowPlanetName.php
index 24acafc..e340245 100644
--- a/xnova-legacies_2009.3/includes/functions/GalaxyRowPlanetName.php
+++ b/xnova-legacies_2009.4/includes/functions/GalaxyRowPlanetName.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/GalaxyRowPos.php b/xnova-legacies_2009.4/includes/functions/GalaxyRowPos.php
index a342263..59f4c75 100644
--- a/xnova-legacies_2009.3/includes/functions/GalaxyRowPos.php
+++ b/xnova-legacies_2009.4/includes/functions/GalaxyRowPos.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/GalaxyRowUser.php b/xnova-legacies_2009.4/includes/functions/GalaxyRowUser.php
index 6cf8f0c..cfe4d86 100644
--- a/xnova-legacies_2009.3/includes/functions/GalaxyRowUser.php
+++ b/xnova-legacies_2009.4/includes/functions/GalaxyRowUser.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -84,8 +84,12 @@ function GalaxyRowUser ( $GalaxyRow, $GalaxyRowPlanet, $GalaxyRowUser, $Galaxy,
 			$Systemtatus7 = "";
 		}
 		$admin = "";
-		if ($GalaxyRowUser['authlevel'] > 0) {
-			$admin = "<font color=\"lime\"><blink>A</blink></font>";
+		if ($GalaxyRowUser['authlevel'] == LEVEL_ADMIN) {
+			$admin = "<font color=\"red\"><blink>A</blink></font>";
+		} else if ($GalaxyRowUser['authlevel'] == LEVEL_OPERATOR) {
+			$admin = "<font color=\"lime\"><blink>O</blink></font>";
+		} else if ($GalaxyRowUser['authlevel'] == LEVEL_MODERATOR) {
+			$admin = "<font color=\"skyblue\"><blink>M</blink></font>";
 		}
 		$Systemtart = $User2Points['total_rank'];
 		if (strlen($Systemtart) < 3) {
diff --git a/xnova-legacies_2009.3/includes/functions/GetBuildingPrice.php b/xnova-legacies_2009.4/includes/functions/GetBuildingPrice.php
index 8c2cda6..e7b71e4 100644
--- a/xnova-legacies_2009.3/includes/functions/GetBuildingPrice.php
+++ b/xnova-legacies_2009.4/includes/functions/GetBuildingPrice.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/GetBuildingTime.php b/xnova-legacies_2009.4/includes/functions/GetBuildingTime.php
index c8fd9b3..87ff220 100644
--- a/xnova-legacies_2009.3/includes/functions/GetBuildingTime.php
+++ b/xnova-legacies_2009.4/includes/functions/GetBuildingTime.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -69,11 +69,11 @@ function GetBuildingTime ($user, $planet, $Element) {
 		$time         = floor(($time * 60 * 60) * (1 - (($user['rpg_defenseur'])   * 0.375)));
 	} elseif (in_array($Element, $reslist['fleet'])) {
 		$time         = (($pricelist[$Element]['metal'] + $pricelist[$Element]['crystal']) / $game_config['game_speed']) * (1 / ($planet[$resource['21']] + 1)) * pow(1 / 2, $planet[$resource['15']]);
-		$time         = floor(($time * 60 * 60) * (1 - (($user['rpg_technocrate']) * 0.05)));
+		$time         = floor(($time * 60 * 60) * (1 - ($user['rpg_technocrate'] * 0.05)));
 	}
 
 
-	return $time;
+	return max(1, $time);
 }
 
 ?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/includes/functions/GetBuildingTimeLevel.php b/xnova-legacies_2009.4/includes/functions/GetBuildingTimeLevel.php
index b806739..28b81ab 100644
--- a/xnova-legacies_2009.3/includes/functions/GetBuildingTimeLevel.php
+++ b/xnova-legacies_2009.4/includes/functions/GetBuildingTimeLevel.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/GetElementPrice.php b/xnova-legacies_2009.4/includes/functions/GetElementPrice.php
index adafb6f..cfd0af5 100644
--- a/xnova-legacies_2009.3/includes/functions/GetElementPrice.php
+++ b/xnova-legacies_2009.4/includes/functions/GetElementPrice.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/GetElementRessources.php b/xnova-legacies_2009.4/includes/functions/GetElementRessources.php
index ab44041..4e8ba54 100644
--- a/xnova-legacies_2009.3/includes/functions/GetElementRessources.php
+++ b/xnova-legacies_2009.4/includes/functions/GetElementRessources.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/GetMaxConstructibleElements.php b/xnova-legacies_2009.4/includes/functions/GetMaxConstructibleElements.php
index f6f73d6..2624807 100644
--- a/xnova-legacies_2009.3/includes/functions/GetMaxConstructibleElements.php
+++ b/xnova-legacies_2009.4/includes/functions/GetMaxConstructibleElements.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/GetMissileRange.php b/xnova-legacies_2009.4/includes/functions/GetMissileRange.php
index 17c8e29..a9f0581 100644
--- a/xnova-legacies_2009.3/includes/functions/GetMissileRange.php
+++ b/xnova-legacies_2009.4/includes/functions/GetMissileRange.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/GetPhalanxRange.php b/xnova-legacies_2009.4/includes/functions/GetPhalanxRange.php
index 7f48130..3e073e7 100644
--- a/xnova-legacies_2009.3/includes/functions/GetPhalanxRange.php
+++ b/xnova-legacies_2009.4/includes/functions/GetPhalanxRange.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/GetRestPrice.php b/xnova-legacies_2009.4/includes/functions/GetRestPrice.php
index a6923bd..42166e5 100644
--- a/xnova-legacies_2009.3/includes/functions/GetRestPrice.php
+++ b/xnova-legacies_2009.4/includes/functions/GetRestPrice.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/HandleElementBuildingQueue.php b/xnova-legacies_2009.3/includes/functions/HandleElementBuildingQueue.php
deleted file mode 100644
index cda0874..0000000
--- a/xnova-legacies_2009.3/includes/functions/HandleElementBuildingQueue.php
+++ /dev/null
@@ -1,80 +0,0 @@
-<?php
-/**
- * This file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --//NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-function HandleElementBuildingQueue($currentUser, &$currentPlanet, $productionTime) {
-    global $resource;
-    // Pendant qu'on y est, si on verifiait ce qui se passe dans la queue de construction du chantier ?
-    if ($currentPlanet['b_hangar_id'] != '') {
-
-        $buildArray = array();
-        $currentPlanet['b_hangar'] += $productionTime;
-
-        $buildQueue = explode(';', $currentPlanet['b_hangar_id']);
-
-        $currentPlanet['b_hangar_id'] = '';
-        $stopUpdate = false;
-        foreach ($buildQueue as $element) {
-            if (empty($element) || !($element = explode(',', $element))) {
-                continue;
-            } else if (count($element) < 2) {
-                continue;
-            }
-            list($item, $count) = $element;
-            $buildTime = GetBuildingTime($currentUser, $currentPlanet, $item);
-
-            if($currentPlanet['b_hangar'] >= $buildTime && !$stopUpdate) {
-                $itemsBuilt = max(0, min(floor($productionTime / $buildTime), $count));
-
-                if ($itemsBuilt <= 0) {
-                    $stopUpdate = true;
-                } else {
-                    $count -= $itemsBuilt;
-                    $productionTime -= $buildTime * $itemsBuilt;
-
-                    $currentPlanet['b_hangar'] -= ($buildTime * $itemsBuilt);
-                    $buildArray[$item] = $itemsBuilt;
-                }
-            } else {
-                $stopUpdate = true;
-            }
-
-            if ($itemsBuilt > 0) {
-                $itemsLeft = $count - $itemsBuilt;
-                $currentPlanet['b_hangar_id'] .= "$item,$itemsLeft;";
-            }
-        }
-    } else {
-        $buildArray = array();
-        $currentPlanet['b_hangar'] = 0;
-        $currentPlanet['b_hangar_id'] = '';
-    }
-
-    return $buildArray;
-}
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/includes/functions/HandleTechnologieBuild.php b/xnova-legacies_2009.4/includes/functions/HandleTechnologieBuild.php
index e5f9db2..b6e9985 100644
--- a/xnova-legacies_2009.3/includes/functions/HandleTechnologieBuild.php
+++ b/xnova-legacies_2009.4/includes/functions/HandleTechnologieBuild.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/InsertBuildListScript.php b/xnova-legacies_2009.4/includes/functions/InsertBuildListScript.php
index ccba299..34ddd58 100644
--- a/xnova-legacies_2009.3/includes/functions/InsertBuildListScript.php
+++ b/xnova-legacies_2009.4/includes/functions/InsertBuildListScript.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/InsertGalaxyScripts.php b/xnova-legacies_2009.4/includes/functions/InsertGalaxyScripts.php
index 27e20e5..7e217b5 100644
--- a/xnova-legacies_2009.3/includes/functions/InsertGalaxyScripts.php
+++ b/xnova-legacies_2009.4/includes/functions/InsertGalaxyScripts.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/InsertJavaScriptChronoApplet.php b/xnova-legacies_2009.4/includes/functions/InsertJavaScriptChronoApplet.php
index 844c917..097207f 100644
--- a/xnova-legacies_2009.3/includes/functions/InsertJavaScriptChronoApplet.php
+++ b/xnova-legacies_2009.4/includes/functions/InsertJavaScriptChronoApplet.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/IsElementBuyable.php b/xnova-legacies_2009.4/includes/functions/IsElementBuyable.php
index 53d601b..5c82a07 100644
--- a/xnova-legacies_2009.3/includes/functions/IsElementBuyable.php
+++ b/xnova-legacies_2009.4/includes/functions/IsElementBuyable.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -29,37 +29,40 @@
  */
 
 function IsElementBuyable ($CurrentUser, $CurrentPlanet, $Element, $Incremental = true, $ForDestroy = false) {
-	global $pricelist, $resource;
+    global $pricelist, $resource;
 
-	if (IsVacationMode($CurrentUser)){
-   return false;
-}
+    if (IsVacationMode($CurrentUser)) {
+        return false;
+    }
 
-	if ($Incremental) {
-		$level  = ($CurrentPlanet[$resource[$Element]]) ? $CurrentPlanet[$resource[$Element]] : $CurrentUser[$resource[$Element]];
-	}
+    if ($Incremental) {
+        $level  = ($CurrentPlanet[$resource[$Element]]) ? $CurrentPlanet[$resource[$Element]] : $CurrentUser[$resource[$Element]];
+    }
 
-	$RetValue = true;
-	$array    = array('metal', 'crystal', 'deuterium', 'energy_max');
+    $array = array(
+        Legacies_Empire::RESOURCE_METAL,
+        Legacies_Empire::RESOURCE_CRISTAL,
+        Legacies_Empire::RESOURCE_DEUTERIUM,
+        'energy_max'
+        );
 
-	foreach ($array as $ResType) {
-		if ($pricelist[$Element][$ResType] != 0) {
-			if ($Incremental) {
-				$cost[$ResType]  = floor($pricelist[$Element][$ResType] * pow($pricelist[$Element]['factor'], $level));
-			} else {
-				$cost[$ResType]  = floor($pricelist[$Element][$ResType]);
-			}
+    $cost = array();
+    foreach ($array as $ResType) {
+        if ($pricelist[$Element][$ResType] != 0) {
+            if ($Incremental) {
+                $cost[$ResType] = bcmul($pricelist[$Element][$ResType], bcpow($pricelist[$Element]['factor'], $level), 0);
+            } else {
+                $cost[$ResType] = $pricelist[$Element][$ResType];
+            }
 
-			if ($ForDestroy) {
-				$cost[$ResType]  = floor($cost[$ResType] / 2);
-			}
+            if ($ForDestroy) {
+                $cost[$ResType]  = bcdiv($cost[$ResType], 2, 0);
+            }
 
-			if ($cost[$ResType] > $CurrentPlanet[$ResType]) {
-				$RetValue = false;
-			}
-		}
-	}
-	return $RetValue;
+            if (bccomp($cost[$ResType], $CurrentPlanet[$ResType]) > 0) {
+                return false;
+            }
+        }
+    }
+    return true;
 }
-
-?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/includes/functions/IsOfficierAccessible.php b/xnova-legacies_2009.4/includes/functions/IsOfficierAccessible.php
index 9225c13..74fe70c 100644
--- a/xnova-legacies_2009.3/includes/functions/IsOfficierAccessible.php
+++ b/xnova-legacies_2009.4/includes/functions/IsOfficierAccessible.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -29,11 +29,11 @@
  */
 
 function IsOfficierAccessible ($CurrentUser, $Officier) {
-	global $requeriments, $resource, $pricelist;
+	global $requirements, $resource, $pricelist;
 
-	if (isset($requeriments[$Officier])) {
+	if (isset($requirements[$Officier])) {
 		$enabled = true;
-		foreach($requeriments[$Officier] as $ReqOfficier => $OfficierLevel) {
+		foreach($requirements[$Officier] as $ReqOfficier => $OfficierLevel) {
 			if ($CurrentUser[$resource[$ReqOfficier]] &&
 				$CurrentUser[$resource[$ReqOfficier]] >= $OfficierLevel) {
 				$enabled = 1;
diff --git a/xnova-legacies_2009.3/includes/functions/IsTechnologieAccessible.php b/xnova-legacies_2009.4/includes/functions/IsTechnologieAccessible.php
index 6f479a8..4e56886 100644
--- a/xnova-legacies_2009.3/includes/functions/IsTechnologieAccessible.php
+++ b/xnova-legacies_2009.4/includes/functions/IsTechnologieAccessible.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -28,12 +28,13 @@
  *
  */
 
-function IsTechnologieAccessible($user, $planet, $Element) {
-	global $requeriments, $resource;
+function IsTechnologieAccessible($user, $planet, $element)
+{
+	global $requirements, $resource;
 
-	if (isset($requeriments[$Element])) {
+	if (isset($requirements[$element])) {
 		$enabled = true;
-		foreach($requeriments[$Element] as $ReqElement => $EleLevel) {
+		foreach($requirements[$element] as $ReqElement => $EleLevel) {
 			if (@$user[$resource[$ReqElement]] && $user[$resource[$ReqElement]] >= $EleLevel) {
 				// break;
 			} elseif ($planet[$resource[$ReqElement]] && $planet[$resource[$ReqElement]] >= $EleLevel) {
diff --git a/xnova-legacies_2009.3/includes/functions/IsVacationMode.php b/xnova-legacies_2009.4/includes/functions/IsVacationMode.php
index b1ebf6e..15fa60d 100644
--- a/xnova-legacies_2009.3/includes/functions/IsVacationMode.php
+++ b/xnova-legacies_2009.4/includes/functions/IsVacationMode.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/MessageForm.php b/xnova-legacies_2009.4/includes/functions/MessageForm.php
index 3929a3d..eefb97b 100644
--- a/xnova-legacies_2009.3/includes/functions/MessageForm.php
+++ b/xnova-legacies_2009.4/includes/functions/MessageForm.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/MipCombatEngine.php b/xnova-legacies_2009.4/includes/functions/MipCombatEngine.php
index 50c6989..b3961e6 100644
--- a/xnova-legacies_2009.3/includes/functions/MipCombatEngine.php
+++ b/xnova-legacies_2009.4/includes/functions/MipCombatEngine.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/MissionCaseAttack.php b/xnova-legacies_2009.4/includes/functions/MissionCaseAttack.php
index 57ce87a..6ece81e 100644
--- a/xnova-legacies_2009.3/includes/functions/MissionCaseAttack.php
+++ b/xnova-legacies_2009.4/includes/functions/MissionCaseAttack.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -58,7 +58,7 @@ function MissionCaseAttack ($FleetRow)
             $TargetUser = doquery($QryTargetUser, 'users', true);
 
             // Actualisation des ressources de la planete.
-      		PlanetResourceUpdate($TargetUser, $TargetPlanet, time());
+//      		PlanetResourceUpdate($TargetUser, $TargetPlanet, time());
 
             $QryTargetTech = "SELECT ";
             $QryTargetTech .= "`military_tech`, `defence_tech`, `shield_tech` ";
diff --git a/xnova-legacies_2009.3/includes/functions/MissionCaseColonisation.php b/xnova-legacies_2009.4/includes/functions/MissionCaseColonisation.php
index f753d55..cd01eac 100644
--- a/xnova-legacies_2009.3/includes/functions/MissionCaseColonisation.php
+++ b/xnova-legacies_2009.4/includes/functions/MissionCaseColonisation.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -38,7 +38,7 @@ function MissionCaseColonisation ( $FleetRow ) {
 		$TargetAdress = sprintf ($lang['sys_adress_planet'], $FleetRow['fleet_end_galaxy'], $FleetRow['fleet_end_system'], $FleetRow['fleet_end_planet']);
 		if ($iGalaxyPlace == 0) {
 			// Y a personne qui s'y est mis avant que je ne debarque !
-			if ($iPlanetCount >= MAX_PLAYER_PLANETS) {
+			if ($iPlanetCount >= MAX_PLAYER_PLANETS && $user['authlevel'] != LEVEL_ADMIN) {
 				$TheMessage = $lang['sys_colo_arrival'] . $TargetAdress . $lang['sys_colo_maxcolo'] . MAX_PLAYER_PLANETS . $lang['sys_colo_planet'];
 				SendSimpleMessage ( $FleetRow['fleet_owner'], '', $FleetRow['fleet_start_time'], 0, $lang['sys_colo_mess_from'], $lang['sys_colo_mess_report'], $TheMessage);
 				doquery("UPDATE {{table}} SET `fleet_mess` = '1' WHERE `fleet_id` = ". $FleetRow["fleet_id"], 'fleets');
diff --git a/xnova-legacies_2009.3/includes/functions/MissionCaseDestruction.php b/xnova-legacies_2009.4/includes/functions/MissionCaseDestruction.php
index f8f8b47..8cf054c 100644
--- a/xnova-legacies_2009.3/includes/functions/MissionCaseDestruction.php
+++ b/xnova-legacies_2009.4/includes/functions/MissionCaseDestruction.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -28,352 +28,215 @@
  *
  */
 
-function MissionCaseDestruction($FleetRow) {
-   global $user, $ugamela_root_path, $pricelist, $lang, $resource, $CombatCaps;
+function MissionCaseDestruction($FleetRow)
+{
+   global $user, $pricelist, $lang, $resource, $CombatCaps, $game_config;
 
    includeLang('system');
 
    if ($FleetRow['fleet_start_time'] <= time()) {
-
       if ($FleetRow['fleet_mess'] == 0) {
-
          if (!isset($CombatCaps[202]['sd'])) {
-
             message("<font color=\"red\">". $lang['sys_no_vars'] ."</font>", $lang['sys_error'], "fleet." . PHPEXT, 2);
-
+            return;
          }
 
          $QryTargetPlanet  = "SELECT * FROM {{table}} ";
-
          $QryTargetPlanet .= "WHERE ";
-
          $QryTargetPlanet .= "`galaxy` = '". $FleetRow['fleet_end_galaxy'] ."' AND ";
-
          $QryTargetPlanet .= "`system` = '". $FleetRow['fleet_end_system'] ."' AND ";
-
          $QryTargetPlanet .= "`planet` = '". $FleetRow['fleet_end_planet'] ."' AND ";
-
          $QryTargetPlanet .= "`planet_type` = '". $FleetRow['fleet_end_type'] ."';";
-
          $TargetPlanet     = doquery( $QryTargetPlanet, 'planets', true);
 
          $TargetUserID     = $TargetPlanet['id_owner'];
-
          $QryDepPlanet  = "SELECT * FROM {{table}} ";
-
          $QryDepPlanet .= "WHERE ";
-
          $QryDepPlanet .= "`galaxy` = '". $FleetRow['fleet_start_galaxy'] ."' AND ";
-
          $QryDepPlanet .= "`system` = '". $FleetRow['fleet_start_system'] ."' AND ";
-
          $QryDepPlanet .= "`planet` = '". $FleetRow['fleet_start_planet'] ."' AND ";
-
          $QryDepPlanet .= "`planet_type` = '". $FleetRow['fleet_start_type'] ."';";
-
          $DepPlanet     = doquery( $QryDepPlanet, 'planets', true);
-
          $DepName     = $DepPlanet['name'];
 
-
-
          $QryCurrentUser   = "SELECT * FROM {{table}} ";
-
          $QryCurrentUser  .= "WHERE ";
-
          $QryCurrentUser  .= "`id` = '". $FleetRow['fleet_owner'] ."';";
-
          $CurrentUser      = doquery($QryCurrentUser , 'users', true);
-
          $CurrentUserID    = $CurrentUser['id'];
 
-
-
          $QryTargetUser    = "SELECT * FROM {{table}} ";
-
          $QryTargetUser   .= "WHERE ";
-
          $QryTargetUser   .= "`id` = '". $TargetUserID ."';";
-
          $TargetUser       = doquery($QryTargetUser, 'users', true);
 
-
-
          $QryTargetTech    = "SELECT ";
-
          $QryTargetTech   .= "`military_tech`, `defence_tech`, `shield_tech` ";
-
          $QryTargetTech   .= "FROM {{table}} ";
-
          $QryTargetTech   .= "WHERE ";
-
          $QryTargetTech   .= "`id` = '". $TargetUserID ."';";
 
-
-
          $TargetTechno     = doquery($QryTargetTech, 'users', true);
 
-
-
          $QryCurrentTech   = "SELECT ";
-
          $QryCurrentTech  .= "`military_tech`, `defence_tech`, `shield_tech` ";
-
          $QryCurrentTech  .= "FROM {{table}} ";
-
          $QryCurrentTech  .= "WHERE ";
-
          $QryCurrentTech  .= "`id` = '". $CurrentUserID ."';";
-
          $CurrentTechno    = doquery($QryCurrentTech, 'users', true);
 
-
-
          for ($SetItem = 200; $SetItem < 500; $SetItem++) {
-
             if ($TargetPlanet[$resource[$SetItem]] > 0) {
-
                $TargetSet[$SetItem]['count'] = $TargetPlanet[$resource[$SetItem]];
-
             }
-
          }
 
-
-
          $TheFleet = explode(";", $FleetRow['fleet_array']);
-
          foreach($TheFleet as $a => $b) {
-
             if ($b != '') {
-
                $a = explode(",", $b);
-
                $CurrentSet[$a[0]]['count'] = $a[1];
-
             }
-
          }
 
-
-
          include_once($ugamela_root_path . 'includes/ataki.' . PHPEXT);
 
-
-
          // Calcul de la duree de traitement (initialisation)
-
-         $mtime        = microtime();
-
-         $mtime        = explode(" ", $mtime);
-
-         $mtime        = $mtime[1] + $mtime[0];
-
-         $starttime    = $mtime;
-
-
-
+         $starttime = microtime(true);
          $walka        = walka($CurrentSet, $TargetSet, $CurrentTechno, $TargetTechno);
-
-
-
-         // Calcul de la duree de traitement (calcul)
-
-         $mtime        = microtime();
-
-         $mtime        = explode(" ", $mtime);
-
-         $mtime        = $mtime[1] + $mtime[0];
-
-         $endtime      = $mtime;
-
-         $totaltime    = ($endtime - $starttime);
-
-
+         $totaltime    = (microtime(true) - $starttime);
 
          // Ce qu'il reste de l'attaquant
-
          $CurrentSet   = $walka["atakujacy"];
-
          // Ce qu'il reste de l'attaqu�
-
          $TargetSet    = $walka["wrog"];
-
          // Le resultat de la bataille
-
          $FleetResult  = $walka["wygrana"];
-
          // Rapport long (rapport de bataille detaill�)
-
          $dane_do_rw   = $walka["dane_do_rw"];
-
          // Rapport court (cdr + unit�es perdues)
-
          $zlom         = $walka["zlom"];
 
-
-
          $FleetArray   = "";
-
          $FleetAmount  = 0;
-
          $FleetStorage = 0;
 
-
          foreach ($CurrentSet as $Ship => $Count) {
-
             $FleetStorage += $pricelist[$Ship]["capacity"] * $Count['count'];
-
             $FleetArray   .= $Ship.",".$Count['count'].";";
-
             $FleetAmount  += $Count['count'];
-
          }
 
          $TargetPlanetUpd = "";
-
          if (!is_null($TargetSet)) {
-
             foreach($TargetSet as $Ship => $Count) {
-
                $TargetPlanetUpd .= "`". $resource[$Ship] ."` = '". $Count['count'] ."', ";
-
             }
-
          }
 
-         if ($FleetResult == "a") {
-         //debut des probabilite de destruction
-         //Nous y voila! l attaquant a gagne, nous allons voir ses chances de detruire la lune
-            $destructionl1 = 100-sqrt($TargetPlanet['diameter']);
-            $destructionl21 = $destructionl1*sqrt($CurrentSet['214']['count']);
-
-            $destructionl2 = $destructionl21/1;//ici c est la sensibilite de la destruction 1 c est l equivalent d ogame a 12 on a environ 2% pour 1000 rip
-         //maintenant qu on sait quelle chance tantons la destruction, faites vos jeux croupier
-         //$chance = round($destructionl2); // En pourcentage
-         if ($destructionl2 > 100)   {
-                  $chance = '100';
-                  }
-               else   {
-                  $chance = round($destructionl2); // En pourcentage
-                  }
-         $tirage = mt_rand(0, 100);
-         $probalune       = sprintf ($lang['sys_destruc_lune'], $chance);
-              if($tirage <= $chance)   {
-                      $resultat = '1'; // lune detruite
-            $finmess = $lang['sys_destruc_reussi'];
-         //destruction de la lune dabord dans la liste des planetes puis dans la liste des lunes et enfin dans la galaxie
-         doquery("DELETE FROM {{table}} WHERE `id` = '". $TargetPlanet['id'] ."';", 'planets');
-
-         $Qrydestructionlune  = "UPDATE {{table}} SET ";
-
-         $Qrydestructionlune .= "`destruyed` = '1' ";
-
-         $Qrydestructionlune .= "WHERE ";
-
-         $Qrydestructionlune .= "`galaxy` = '". $FleetRow['fleet_end_galaxy'] ."' AND ";
-
-         $Qrydestructionlune .= "`system` = '". $FleetRow['fleet_end_system'] ."' AND ";
-         $Qrydestructionlune .= "`lunapos` = '". $FleetRow['fleet_end_planet'] ."' ";
-
-         $Qrydestructionlune .= "LIMIT 1 ;";
-         //$Qrydestructionlune .= ";";
-
-         doquery( $Qrydestructionlune , 'lunas');
-
-         $Qrydestructionlune2  = "UPDATE {{table}} SET ";
-
-         $Qrydestructionlune2 .= "`id_luna` = '0' ";
-
-         $Qrydestructionlune2 .= "WHERE ";
-
-         $Qrydestructionlune2 .= "`galaxy` = '". $FleetRow['fleet_end_galaxy'] ."' AND ";
-
-         $Qrydestructionlune2 .= "`system` = '". $FleetRow['fleet_end_system'] ."' AND ";
-         $Qrydestructionlune2 .= "`planet` = '". $FleetRow['fleet_end_planet'] ."' ";
-
-         $Qrydestructionlune2 .= "LIMIT 1 ;";
-         //$Qrydestructionlune2 .= ";";
-
-         doquery( $Qrydestructionlune2 , 'galaxy');
-         //la lune est detruite, alors on redirige les flottes sur la planete
-                   $QryDetFleets1  = "UPDATE {{table}} SET ";
-
-                   $QryDetFleets1 .= "`fleet_start_type` = '1' ";
-
-                   $QryDetFleets1 .= "WHERE ";
-
-                   $QryDetFleets1 .= "`fleet_start_galaxy` = '". $FleetRow['fleet_end_galaxy'] ."' AND ";
-
-                   $QryDetFleets1 .= "`fleet_start_system` = '". $FleetRow['fleet_end_system'] ."' AND ";
-
-                   $QryDetFleets1 .= "`fleet_start_planet` = '". $FleetRow['fleet_end_planet'] ."' ";
-
-                   $QryDetFleets1 .= ";";
-
-                  doquery( $QryDetFleets1 , 'fleets');
-
-                   $QryDetFleets2  = "UPDATE {{table}} SET ";
-
-                   $QryDetFleets2 .= "`fleet_end_type` = '1' ";
-
-                  $QryDetFleets2 .= "WHERE ";
-
-                   $QryDetFleets2 .= "`fleet_end_galaxy` = '". $FleetRow['fleet_end_galaxy'] ."' AND ";
-
-                   $QryDetFleets2 .= "`fleet_end_system` = '". $FleetRow['fleet_end_system'] ."' AND ";
-
-                   $QryDetFleets2 .= "`fleet_end_planet` = '". $FleetRow['fleet_end_planet'] ."' ";
-
-                   $QryDetFleets2 .= ";";
-
-                   doquery( $QryDetFleets2 , 'fleets');
-
-         //maintenant on va verifier si la vue du joueur n est pas calee sur la lune qui est detruite
-         if ($TargetUser['current_planet'] == $TargetPlanet['id']){
-         $QryPlanet  = "SELECT * FROM {{table}} ";
-
-         $QryPlanet .= "WHERE ";
-
-         $QryPlanet .= "`galaxy` = '". $FleetRow['fleet_end_galaxy'] ."' AND ";
-
-         $QryPlanet .= "`system` = '". $FleetRow['fleet_end_system'] ."' AND ";
-
-         $QryPlanet .= "`planet` = '". $FleetRow['fleet_end_planet'] ."' AND ";
-
-         $QryPlanet .= "`planet_type` = '1';";
-
-         $Planet     = doquery( $QryPlanet, 'planets', true);
-
-         $IDPlanet     = $Planet['id'];
-
-                   $Qryvue  = "UPDATE {{table}} SET ";
-
-                   $Qryvue .= "`current_planet` = '". $IDPlanet ."' ";
-
-                  $Qryvue .= "WHERE ";
-
-                   $Qryvue .= "`id` = '". $TargetUserID ."' ";
-
-                   $Qryvue .= ";";
-
-                   doquery( $Qryvue , 'users');
-         }
-                  }
-         else          {
-              $resultat = '0'; }// la lune a resistee
-         //la lune a resistee, alors voyons les chances que les rip soient detruites
-         $destructionrip = sqrt($TargetPlanet['diameter'])/2;
-         //maintenant qu on sait quelle chance tantons la destruction, allez roule croupier
-         $chance2 = round($destructionrip); // En pourcentage
-         if ($resultat == 0) {
-                  $tirage2 = mt_rand(0, 100);
-                  $probarip       = sprintf ($lang['sys_destruc_rip'], $chance2);
-                       if($tirage2 <= $chance2)   {
-                               $resultat2 = ' detruite 1'; // RIP detruite
-                     $finmess = $lang['sys_destruc_echec'];
-                     doquery("DELETE FROM {{table}} WHERE `fleet_id` = '". $FleetRow["fleet_id"] ."';", 'fleets');
-                  }
+        if ($FleetResult == "a") {
+            $ripCount = 0.;
+            $supernovaCount = 0.;
+            $gravitonLevel = 0.;
+            if (isset($CurrentSet['214']) && isset($CurrentSet['214']['count'])) {
+                $ripCount = floatval($CurrentSet['214']['count']);
+            }
+            if (isset($CurrentSet['216']) && isset($CurrentSet['216']['count'])) {
+                $supernovaCount = floatval($CurrentSet['216']['count']);
+            }
+            if (isset($user[$resource[Legacies_Empire::ID_RESEARCH_GRAVITON_TECHNOLOGY]])) {
+                $gravitonLevel = floatval($user[$resource[Legacies_Empire::ID_RESEARCH_GRAVITON_TECHNOLOGY]]);
+            }
+            $destructionPower = $ripCount + ($supernovaCount * 4);
+            $gravitonPower = 1 + pow(1 - $gravitonLevel, 2);
+
+            $rawChances = pow(sqrt(1 / floatval($TargetPlanet['diameter'])) * $destructionPower * $gravitonPower, 2);
+            $chances = (1 - (1 / ((2500 / floatval($game_config['game_speed'])) * pow(1 + $rawChances, 2)))) * .5;
+
+            $tirage = mt_rand(0, 100000000);
+            $probalune = sprintf($lang['sys_destruc_lune'], (int) ($chances * 100));
+            if ($tirage <= ($chance * 1000000)) {
+                $resultat = '1';
+                $finmess = $lang['sys_destruc_reussi'];
+
+                //destruction de la lune dabord dans la liste des planetes puis dans la liste des lunes et enfin dans la galaxie
+                doquery("DELETE FROM {{table}} WHERE `id` = '". $TargetPlanet['id'] ."';", 'planets');
+                $Qrydestructionlune  = "UPDATE {{table}} SET ";
+                $Qrydestructionlune .= "`destruyed` = '1' ";
+                $Qrydestructionlune .= "WHERE ";
+                $Qrydestructionlune .= "`galaxy` = '". $FleetRow['fleet_end_galaxy'] ."' AND ";
+                $Qrydestructionlune .= "`system` = '". $FleetRow['fleet_end_system'] ."' AND ";
+                $Qrydestructionlune .= "`lunapos` = '". $FleetRow['fleet_end_planet'] ."' ";
+                $Qrydestructionlune .= "LIMIT 1 ;";
+                doquery( $Qrydestructionlune , 'lunas');
+
+                $Qrydestructionlune2  = "UPDATE {{table}} SET ";
+                $Qrydestructionlune2 .= "`id_luna` = '0' ";
+                $Qrydestructionlune2 .= "WHERE ";
+                $Qrydestructionlune2 .= "`galaxy` = '". $FleetRow['fleet_end_galaxy'] ."' AND ";
+                $Qrydestructionlune2 .= "`system` = '". $FleetRow['fleet_end_system'] ."' AND ";
+                $Qrydestructionlune2 .= "`planet` = '". $FleetRow['fleet_end_planet'] ."' ";
+                $Qrydestructionlune2 .= "LIMIT 1 ;";
+                //$Qrydestructionlune2 .= ";";
+
+                doquery( $Qrydestructionlune2 , 'galaxy');
+                //la lune est detruite, alors on redirige les flottes sur la planete
+                $QryDetFleets1  = "UPDATE {{table}} SET ";
+                $QryDetFleets1 .= "`fleet_start_type` = '1' ";
+                $QryDetFleets1 .= "WHERE ";
+                $QryDetFleets1 .= "`fleet_start_galaxy` = '". $FleetRow['fleet_end_galaxy'] ."' AND ";
+                $QryDetFleets1 .= "`fleet_start_system` = '". $FleetRow['fleet_end_system'] ."' AND ";
+                $QryDetFleets1 .= "`fleet_start_planet` = '". $FleetRow['fleet_end_planet'] ."' ";
+                $QryDetFleets1 .= ";";
+                doquery( $QryDetFleets1 , 'fleets');
+
+                $QryDetFleets2  = "UPDATE {{table}} SET ";
+                $QryDetFleets2 .= "`fleet_end_type` = '1' ";
+                $QryDetFleets2 .= "WHERE ";
+                $QryDetFleets2 .= "`fleet_end_galaxy` = '". $FleetRow['fleet_end_galaxy'] ."' AND ";
+                $QryDetFleets2 .= "`fleet_end_system` = '". $FleetRow['fleet_end_system'] ."' AND ";
+                $QryDetFleets2 .= "`fleet_end_planet` = '". $FleetRow['fleet_end_planet'] ."' ";
+                $QryDetFleets2 .= ";";
+                doquery( $QryDetFleets2 , 'fleets');
+
+                //maintenant on va verifier si la vue du joueur n est pas calee sur la lune qui est detruite
+                if ($TargetUser['current_planet'] == $TargetPlanet['id']){
+                $QryPlanet  = "SELECT * FROM {{table}} ";
+
+                $QryPlanet .= "WHERE ";
+                $QryPlanet .= "`galaxy` = '". $FleetRow['fleet_end_galaxy'] ."' AND ";
+                $QryPlanet .= "`system` = '". $FleetRow['fleet_end_system'] ."' AND ";
+                $QryPlanet .= "`planet` = '". $FleetRow['fleet_end_planet'] ."' AND ";
+                $QryPlanet .= "`planet_type` = '1';";
+                $Planet     = doquery( $QryPlanet, 'planets', true);
+                $IDPlanet     = $Planet['id'];
+
+                $Qryvue  = "UPDATE {{table}} SET ";
+                $Qryvue .= "`current_planet` = '". $IDPlanet ."' ";
+                $Qryvue .= "WHERE ";
+                $Qryvue .= "`id` = '". $TargetUserID ."' ";
+                $Qryvue .= ";";
+
+                doquery( $Qryvue , 'users');
+            }
+        } else {
+            $resultat = '0';
+        }// la lune a resisté
+
+        // la lune a resiste, alors voyons les chances que les rip soient detruites
+        $destructionrip = (1 - (1 / pow($TargetPlanet['diameter'], 1 / 4))) * .5;
+
+        //maintenant qu on sait quelle chance tentons la destruction, allez roule croupier
+        $chance2 = round($destructionrip * 100); // En pourcentage
+        if ($resultat == 0) {
+            $tirage2 = mt_rand(0, 100);
+            $probarip = sprintf($lang['sys_destruc_rip'], $chance2);
+
+            if ($tirage2 <= $chance2) {
+                $resultat2 = ' detruite 1'; // RIP detruite
+                $finmess = $lang['sys_destruc_echec'];
+                doquery("DELETE FROM {{table}} WHERE `fleet_id` = '". $FleetRow["fleet_id"] ."';", 'fleets');
+            }
          else          {
                       $resultat2 = 'sauvees 0'; // les RIP sont saines et sauves
             $finmess = $lang['sys_destruc_null'];
@@ -640,248 +503,137 @@ function MissionCaseDestruction($FleetRow) {
                $raport .= "<br />". $lang['sys_destroyed'];
 
             }
-
             $raport .= "</table></center></th></tr></table>";
 
 
 
             if (($zniszczony == false) and !($a == 8)) {
-
                $AttackWaveStat    = sprintf ($lang['sys_attack_attack_wave'], floor($b["atakujacy"]["atak"]), floor($b["wrog"]["tarcza"]));
-
                $DefendWavaStat    = sprintf ($lang['sys_attack_defend_wave'], floor($b["wrog"]["atak"]), floor($b["atakujacy"]["tarcza"]));
-
                $raport           .= "<br /><center>".$AttackWaveStat."<br />".$DefendWavaStat."</center>";
-
             }
-
          }
 
          switch ($FleetResult) {
-
             case "a":
-
                $raport           .= $lang['sys_attacker_won'] ."<br />";
-
                $raport           .= $DebrisField ."<br />";
                $raport           .= $introdestruc ."<br />";
                $raport           .= $lang['sys_destruc_mess1'];
                $raport           .= $finmess ."<br />";
-
                $raport           .= $probalune ."<br />";
-
                $raport           .= $probarip ."<br />";
-
                break;
 
             case "r":
-
                $raport           .= $lang['sys_both_won'] ."<br />";
-
                $raport           .= $DebrisField ."<br />";
                $raport           .= $introdestruc ."<br />";
-
                $raport           .= $lang['sys_destruc_stop'] ."<br />";
-
                break;
 
             case "w":
-
                $raport           .= $lang['sys_defender_won'] ."<br />";
-
                $raport           .= $DebrisField ."<br />";
                $raport           .= $introdestruc ."<br />";
-
                $raport           .= $lang['sys_destruc_stop'] ."<br />";
-
                doquery("DELETE FROM {{table}} WHERE `fleet_id` = '". $FleetRow["fleet_id"] ."';", 'fleets');
-
                break;
 
             default:
-
                break;
-
          }
 
-         $SimMessage        = sprintf ($lang['sys_rapport_build_time'], $totaltime);
-
+         $SimMessage        = sprintf($lang['sys_rapport_build_time'], $totaltime);
          $raport           .= $SimMessage ."</table>";
 
-
-
          $dpath = (!$user["dpath"]) ? DEFAULT_SKINPATH : $user["dpath"];
-
-         $rid   = md5($raport);
-
+         $rid = md5($raport);
          $QryInsertRapport  = "INSERT INTO {{table}} SET ";
-
          $QryInsertRapport .= "`time` = UNIX_TIMESTAMP(), ";
-
          $QryInsertRapport .= "`id_owner1` = '". $FleetRow['fleet_owner'] ."', ";
-
          $QryInsertRapport .= "`id_owner2` = '". $TargetUserID ."', ";
-
          $QryInsertRapport .= "`rid` = '". $rid ."', ";
-
          $QryInsertRapport .= "`a_zestrzelona` = '". $a_zestrzelona ."', ";
-
          $QryInsertRapport .= "`raport` = '". addslashes ( $raport ) ."';";
-
          doquery( $QryInsertRapport , 'rw');
 
 
 
          // Colorisation du r�sum� de rapport pour l'attaquant
-
-            $raport  = "<a href # OnClick=\"f( 'rw.php?raport=". $rid ."', '');\" >";
-
+         $raport  = "<a href # OnClick=\"f( 'rw.php?raport=". $rid ."', '');\" >";
          $raport .= "<center>";
 
-            if       ($FleetResult == "a") {
-
-            $raport .= "<font color=\"green\">";
-
-            } elseif ($FleetResult == "r") {
-
-            $raport .= "<font color=\"orange\">";
-
-            } elseif ($FleetResult == "w") {
-
-            $raport .= "<font color=\"red\">";
-
+         if ($FleetResult == "a") {
+             $raport .= "<font color=\"green\">";
+         } elseif ($FleetResult == "r") {
+             $raport .= "<font color=\"orange\">";
+         } elseif ($FleetResult == "w") {
+             $raport .= "<font color=\"red\">";
          }
 
          $raport .= $lang['sys_mess_destruc_report'] ." [". $FleetRow['fleet_end_galaxy'] .":". $FleetRow['fleet_end_system'] .":". $FleetRow['fleet_end_planet'] ."] </font></a><br /><br />";
-
          $raport .= "<font color=\"red\">". $lang['sys_perte_attaquant'] .": ". $zlom["atakujacy"] ."</font>";
-
          $raport .= "<font color=\"green\">   ". $lang['sys_perte_defenseur'] .":". $zlom["wrog"] ."</font><br />" ;
-
-                     $raport .= $lang['sys_debris'] ." ". $lang['Metal'] .":<font color=\"#adaead\">". $zlom['metal'] ."</font>   ". $lang['Crystal'] .":<font color=\"#ef51ef\">". $zlom['crystal'] ."</font><br /></center>";
-
-
+         $raport .= $lang['sys_debris'] ." ". $lang['Metal'] .":<font color=\"#adaead\">". $zlom['metal'] ."</font>   ". $lang['Crystal'] .":<font color=\"#ef51ef\">". $zlom['crystal'] ."</font><br /></center>";
 
          $QryUpdateFleet  = "UPDATE {{table}} SET ";
-
          $QryUpdateFleet .= "`fleet_amount` = '". $FleetAmount ."', ";
-
          $QryUpdateFleet .= "`fleet_array` = '". $FleetArray ."', ";
-
          $QryUpdateFleet .= "`fleet_mess` = '1' ";
-
          $QryUpdateFleet .= "WHERE fleet_id = '". $FleetRow['fleet_id'] ."' ";
-
          $QryUpdateFleet .= "LIMIT 1 ;";
 
          doquery( $QryUpdateFleet , 'fleets');
-
-
-
          SendSimpleMessage ( $CurrentUserID, '', $FleetRow['fleet_start_time'], 3, $lang['sys_mess_tower'], $lang['sys_mess_destruc_report'], $raport );
-
-
-
          // Colorisation du r�sum� de rapport pour le defenseur
-
          $raport2  = "<a href # OnClick=\"f( 'rw.php?raport=". $rid ."', '');\" >";
-
          $raport2 .= "<center>";
 
-         if       ($FleetResult == "a") {
-
+         if ($FleetResult == "a") {
             $raport2 .= "<font color=\"red\">";
-
          } elseif ($FleetResult == "r") {
-
             $raport2 .= "<font color=\"orange\">";
-
          } elseif ($FleetResult == "w") {
-
             $raport2 .= "<font color=\"green\">";
-
          }
 
          $raport2 .= $lang['sys_mess_destruc_report'] ." [". $FleetRow['fleet_end_galaxy'] .":". $FleetRow['fleet_end_system'] .":". $FleetRow['fleet_end_planet'] ."] </font></a><br /><br />";
-
-
-
          SendSimpleMessage ( $TargetUserID, '', $FleetRow['fleet_start_time'], 3, $lang['sys_mess_tower'], $lang['sys_mess_destruc_report'], $raport2 );
-
-
-
       }
 
-
-
       // Retour de flotte (s'il en reste)
-
       $fquery = "";
-
       if ($FleetRow['fleet_end_time'] <= time()) {
-
          if (!is_null($CurrentSet)) {
-
             foreach($CurrentSet as $Ship => $Count) {
-
                $fquery .= "`". $resource[$Ship] ."` = `". $resource[$Ship] ."` + '". $Count['count'] ."', ";
-
             }
-
          } else {
-
             $fleet = explode(";", $FleetRow['fleet_array']);
-
             foreach($fleet as $a => $b) {
-
                if ($b != '') {
-
                   $a = explode(",", $b);
-
                   $fquery .= "{$resource[$a[0]]}={$resource[$a[0]]} + {$a[1]}, \n";
-
                }
-
             }
-
          }
-
-
-
          doquery ("DELETE FROM {{table}} WHERE `fleet_id` = " . $FleetRow["fleet_id"], 'fleets');
 
          if (!($FleetResult == "w")) {
-
             $QryUpdatePlanet  = "UPDATE {{table}} SET ";
-
             $QryUpdatePlanet .= $fquery;
-
             $QryUpdatePlanet .= "`metal` = `metal` + ". $FleetRow['fleet_resource_metal'] .", ";
-
             $QryUpdatePlanet .= "`crystal` = `crystal` + ". $FleetRow['fleet_resource_crystal'] .", ";
-
             $QryUpdatePlanet .= "`deuterium` = `deuterium` + ". $FleetRow['fleet_resource_deuterium'] ." ";
-
             $QryUpdatePlanet .= "WHERE ";
-
             $QryUpdatePlanet .= "`galaxy` = ".$FleetRow['fleet_start_galaxy']." AND ";
-
             $QryUpdatePlanet .= "`system` = ".$FleetRow['fleet_start_system']." AND ";
-
             $QryUpdatePlanet .= "`planet` = ".$FleetRow['fleet_start_planet']." AND ";
-
             $QryUpdatePlanet .= "`planet_type` = ".$FleetRow['fleet_start_type']." LIMIT 1 ;";
 
             doquery( $QryUpdatePlanet, 'planets' );
-
          }
-
       }
-
    }
-
 }
-
-
-
-?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/includes/functions/MissionCaseExpedition.php b/xnova-legacies_2009.4/includes/functions/MissionCaseExpedition.php
index dc70397..b8dfcaa 100644
--- a/xnova-legacies_2009.3/includes/functions/MissionCaseExpedition.php
+++ b/xnova-legacies_2009.4/includes/functions/MissionCaseExpedition.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/MissionCaseRecycling.php b/xnova-legacies_2009.4/includes/functions/MissionCaseRecycling.php
index 6247d8f..a972ee3 100644
--- a/xnova-legacies_2009.3/includes/functions/MissionCaseRecycling.php
+++ b/xnova-legacies_2009.4/includes/functions/MissionCaseRecycling.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/MissionCaseSpy.php b/xnova-legacies_2009.4/includes/functions/MissionCaseSpy.php
index 3c577b0..4b24e7c 100644
--- a/xnova-legacies_2009.3/includes/functions/MissionCaseSpy.php
+++ b/xnova-legacies_2009.4/includes/functions/MissionCaseSpy.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/MissionCaseStay.php b/xnova-legacies_2009.4/includes/functions/MissionCaseStay.php
index 2763fbd..bdf10bd 100644
--- a/xnova-legacies_2009.3/includes/functions/MissionCaseStay.php
+++ b/xnova-legacies_2009.4/includes/functions/MissionCaseStay.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/MissionCaseStayAlly.php b/xnova-legacies_2009.4/includes/functions/MissionCaseStayAlly.php
index 6a5bc0b..32b5146 100644
--- a/xnova-legacies_2009.3/includes/functions/MissionCaseStayAlly.php
+++ b/xnova-legacies_2009.4/includes/functions/MissionCaseStayAlly.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/MissionCaseTransport.php b/xnova-legacies_2009.4/includes/functions/MissionCaseTransport.php
index be3ab33..0aec40b 100644
--- a/xnova-legacies_2009.3/includes/functions/MissionCaseTransport.php
+++ b/xnova-legacies_2009.4/includes/functions/MissionCaseTransport.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/PlanetResourceUpdate.php b/xnova-legacies_2009.4/includes/functions/PlanetResourceUpdate.php
index 1a16688..7eed75c 100644
--- a/xnova-legacies_2009.3/includes/functions/PlanetResourceUpdate.php
+++ b/xnova-legacies_2009.4/includes/functions/PlanetResourceUpdate.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -28,6 +28,8 @@
  *
  */
 
+require_once ROOT_PATH . 'includes/classes/Legacies/Empire/Shipyard.php';
+
 function PlanetResourceUpdate ( $CurrentUser, &$CurrentPlanet, $UpdateTime, $Simul = false ) {
     global $ProdGrid, $resource, $reslist, $game_config;
 
@@ -137,38 +139,9 @@ function PlanetResourceUpdate ( $CurrentUser, &$CurrentPlanet, $UpdateTime, $Sim
     }
 
     if ($Simul == false) {
-        // Gestion de l'eventuelle queue de fabrication d'elements
-        $itemsBuilt          = HandleElementBuildingQueue ( $CurrentUser, $CurrentPlanet, $ProductionTime );
-
-        // On enregistre la planete !
-        $sql =<<<SQL_EOF
-UPDATE {{table}} SET
-    `metal` = '{$CurrentPlanet['metal']}',
-    `crystal` = '{$CurrentPlanet['crystal']}',
-    `deuterium` = '{$CurrentPlanet['deuterium']}',
-    `last_update` = '{$CurrentPlanet['last_update']}',
-    `b_hangar_id` = '{$CurrentPlanet['b_hangar_id']}',
-    `metal_perhour` = '{$CurrentPlanet['metal_perhour']}',
-    `crystal_perhour` = '{$CurrentPlanet['crystal_perhour']}',
-    `deuterium_perhour` = '{$CurrentPlanet['deuterium_perhour']}',
-    `energy_used` = '{$CurrentPlanet['energy_used']}',
-    `energy_max` = '{$CurrentPlanet['energy_max']}',
-SQL_EOF;
-        // Par hasard des elements etaient finis ....
-        if (!empty($itemsBuilt)) {
-            foreach ($itemsBuilt as $element => $count ) {
-                $sql .= "`{$resource[$element]}` = '{$CurrentPlanet[$resource[$element]]}' + '{$count}', ";
-            }
-        }
-        $sql .=<<<SQL_EOF
-    `b_hangar` = {$CurrentPlanet['b_hangar']},
-    `b_hangar_id` = "{$CurrentPlanet['b_hangar_id']}"
-  WHERE`id` = {$CurrentPlanet['id']}
-SQL_EOF;
-
-        doquery("LOCK TABLE {{table}} WRITE", 'planets');
-        doquery($sql, 'planets');
-        doquery("UNLOCK TABLES", '');
+        $shipyard = Legacies_Empire_Shipyard::factory($CurrentPlanet, $CurrentUser);
+        $shipyard->updateQueue();
+        $CurrentPlanet = $shipyard->save();
     }
 
 }
diff --git a/xnova-legacies_2009.3/includes/functions/RemoveBuildingFromQueue.php b/xnova-legacies_2009.4/includes/functions/RemoveBuildingFromQueue.php
index e3832cc..d9d105c 100644
--- a/xnova-legacies_2009.3/includes/functions/RemoveBuildingFromQueue.php
+++ b/xnova-legacies_2009.4/includes/functions/RemoveBuildingFromQueue.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/ResearchBuildingPage.php b/xnova-legacies_2009.4/includes/functions/ResearchBuildingPage.php
index dab0f3e..dcf2bb7 100644
--- a/xnova-legacies_2009.3/includes/functions/ResearchBuildingPage.php
+++ b/xnova-legacies_2009.4/includes/functions/ResearchBuildingPage.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -28,8 +28,8 @@
  *
  */
 
-function ResearchBuildingPage (&$CurrentPlanet, $CurrentUser, $InResearch, $ThePlanet) {
-	       $_GET['tech']=ereg_replace("[^0-9]",'',$_GET['tech']);
+function ResearchBuildingPage (&$CurrentPlanet, $CurrentUser, $InResearch, $ThePlanet)
+{
 	global $lang, $resource, $reslist, $dpath, $game_config, $_GET;
 
 
diff --git a/xnova-legacies_2009.3/includes/functions/ResetThisFuckingCheater.php b/xnova-legacies_2009.4/includes/functions/ResetThisFuckingCheater.php
index 513e453..c4cb667 100644
--- a/xnova-legacies_2009.3/includes/functions/ResetThisFuckingCheater.php
+++ b/xnova-legacies_2009.4/includes/functions/ResetThisFuckingCheater.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/RestoreFleetToPlanet.php b/xnova-legacies_2009.4/includes/functions/RestoreFleetToPlanet.php
index 8ba14f9..c4495d9 100644
--- a/xnova-legacies_2009.3/includes/functions/RestoreFleetToPlanet.php
+++ b/xnova-legacies_2009.4/includes/functions/RestoreFleetToPlanet.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/RevisionTime.php b/xnova-legacies_2009.4/includes/functions/RevisionTime.php
index c2e3bf3..208fb2f 100644
--- a/xnova-legacies_2009.3/includes/functions/RevisionTime.php
+++ b/xnova-legacies_2009.4/includes/functions/RevisionTime.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/SendNewPassword.php b/xnova-legacies_2009.4/includes/functions/SendNewPassword.php
index c0895e1..5e65a90 100644
--- a/xnova-legacies_2009.3/includes/functions/SendNewPassword.php
+++ b/xnova-legacies_2009.4/includes/functions/SendNewPassword.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/SendSimpleMessage.php b/xnova-legacies_2009.4/includes/functions/SendSimpleMessage.php
index 054fec3..46f8c93 100644
--- a/xnova-legacies_2009.3/includes/functions/SendSimpleMessage.php
+++ b/xnova-legacies_2009.4/includes/functions/SendSimpleMessage.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/SetNextQueueElementOnTop.php b/xnova-legacies_2009.4/includes/functions/SetNextQueueElementOnTop.php
index 9325ca1..633f565 100644
--- a/xnova-legacies_2009.3/includes/functions/SetNextQueueElementOnTop.php
+++ b/xnova-legacies_2009.4/includes/functions/SetNextQueueElementOnTop.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/SetSelectedPlanet.php b/xnova-legacies_2009.4/includes/functions/SetSelectedPlanet.php
index cc28c3f..3d22c0b 100644
--- a/xnova-legacies_2009.3/includes/functions/SetSelectedPlanet.php
+++ b/xnova-legacies_2009.4/includes/functions/SetSelectedPlanet.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/ShowBuildingQueue.php b/xnova-legacies_2009.4/includes/functions/ShowBuildingQueue.php
index 91f4fe6..bc8c55d 100644
--- a/xnova-legacies_2009.3/includes/functions/ShowBuildingQueue.php
+++ b/xnova-legacies_2009.4/includes/functions/ShowBuildingQueue.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/ShowGalaxyFooter.php b/xnova-legacies_2009.4/includes/functions/ShowGalaxyFooter.php
index 3791afc..e32dc01 100644
--- a/xnova-legacies_2009.3/includes/functions/ShowGalaxyFooter.php
+++ b/xnova-legacies_2009.4/includes/functions/ShowGalaxyFooter.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/ShowGalaxyMISelector.php b/xnova-legacies_2009.4/includes/functions/ShowGalaxyMISelector.php
index b2dc040..3ad1f19 100644
--- a/xnova-legacies_2009.3/includes/functions/ShowGalaxyMISelector.php
+++ b/xnova-legacies_2009.4/includes/functions/ShowGalaxyMISelector.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/ShowGalaxyRows.php b/xnova-legacies_2009.4/includes/functions/ShowGalaxyRows.php
index dce453b..bf907ad 100644
--- a/xnova-legacies_2009.3/includes/functions/ShowGalaxyRows.php
+++ b/xnova-legacies_2009.4/includes/functions/ShowGalaxyRows.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/ShowGalaxySelector.php b/xnova-legacies_2009.4/includes/functions/ShowGalaxySelector.php
index f78653f..2294f43 100644
--- a/xnova-legacies_2009.3/includes/functions/ShowGalaxySelector.php
+++ b/xnova-legacies_2009.4/includes/functions/ShowGalaxySelector.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/ShowGalaxyTitles.php b/xnova-legacies_2009.4/includes/functions/ShowGalaxyTitles.php
index 5ceb266..498ff29 100644
--- a/xnova-legacies_2009.3/includes/functions/ShowGalaxyTitles.php
+++ b/xnova-legacies_2009.4/includes/functions/ShowGalaxyTitles.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/ShowTopNavigationBar.php b/xnova-legacies_2009.4/includes/functions/ShowTopNavigationBar.php
index 31db91e..5aa610b 100644
--- a/xnova-legacies_2009.3/includes/functions/ShowTopNavigationBar.php
+++ b/xnova-legacies_2009.4/includes/functions/ShowTopNavigationBar.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -31,13 +31,14 @@
 function ShowTopNavigationBar ( $CurrentUser, $CurrentPlanet ) {
 	global $lang, $_GET;
 
+//	debug_print_backtrace();
+
 	if ($CurrentUser) {
 		if ( !$CurrentPlanet ) {
 			$CurrentPlanet = doquery("SELECT * FROM {{table}} WHERE `id` = '". $CurrentUser['current_planet'] ."';", 'planets', true);
 		}
 
 		// Actualisation des ressources de la planete
-		PlanetResourceUpdate ( $CurrentUser, $CurrentPlanet, time() );
 
 		$NavigationTPL       = gettemplate('topnav');
 
diff --git a/xnova-legacies_2009.3/includes/functions/SortUserPlanets.php b/xnova-legacies_2009.4/includes/functions/SortUserPlanets.php
index 8a7e1f2..0d8d2d9 100644
--- a/xnova-legacies_2009.3/includes/functions/SortUserPlanets.php
+++ b/xnova-legacies_2009.4/includes/functions/SortUserPlanets.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/SpyTarget.php b/xnova-legacies_2009.4/includes/functions/SpyTarget.php
index fbeeb28..5e38e24 100644
--- a/xnova-legacies_2009.3/includes/functions/SpyTarget.php
+++ b/xnova-legacies_2009.4/includes/functions/SpyTarget.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/StoreGoodsToPlanet.php b/xnova-legacies_2009.4/includes/functions/StoreGoodsToPlanet.php
index cbf3fe4..5cf1d96 100644
--- a/xnova-legacies_2009.3/includes/functions/StoreGoodsToPlanet.php
+++ b/xnova-legacies_2009.4/includes/functions/StoreGoodsToPlanet.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions/UpdatePlanetBatimentQueueList.php b/xnova-legacies_2009.4/includes/functions/UpdatePlanetBatimentQueueList.php
index 8b22b4f..cf0e13e 100644
--- a/xnova-legacies_2009.3/includes/functions/UpdatePlanetBatimentQueueList.php
+++ b/xnova-legacies_2009.4/includes/functions/UpdatePlanetBatimentQueueList.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/functions.php b/xnova-legacies_2009.4/includes/functions.php
index a316433..78187e7 100644
--- a/xnova-legacies_2009.3/includes/functions.php
+++ b/xnova-legacies_2009.4/includes/functions.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -108,7 +108,7 @@ function display ($page, $title = '', $topnav = true, $metatags = '', $AdminPage
 	}
 	$DisplayPage .= "<center>\n". $page ."\n</center>\n";
 	// Affichage du Debug si necessaire
-	if (isset($user['authlevel']) && ($user['authlevel'] == 1 || $user['authlevel'] == 3)) {
+	if (isset($user['authlevel']) && in_array($user['authlevel'], array(LEVEL_ADMIN, LEVEL_OPERATOR))) {
 		if ($game_config['debug'] == 1) $debug->echo_log();
 	}
 
diff --git a/xnova-legacies_2009.3/includes/migrateinfo.php b/xnova-legacies_2009.4/includes/migrateinfo.php
index 1611f36..416d2d7 100644
--- a/xnova-legacies_2009.3/includes/migrateinfo.php
+++ b/xnova-legacies_2009.4/includes/migrateinfo.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/raketenangriff.php b/xnova-legacies_2009.4/includes/raketenangriff.php
index 6e6d4a5..d31a2df 100644
--- a/xnova-legacies_2009.3/includes/raketenangriff.php
+++ b/xnova-legacies_2009.4/includes/raketenangriff.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/strings.php b/xnova-legacies_2009.4/includes/strings.php
index b1a701e..fa0b69e 100644
--- a/xnova-legacies_2009.3/includes/strings.php
+++ b/xnova-legacies_2009.4/includes/strings.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/todofleetcontrol.php b/xnova-legacies_2009.4/includes/todofleetcontrol.php
index c2c574d..7076a21 100644
--- a/xnova-legacies_2009.3/includes/todofleetcontrol.php
+++ b/xnova-legacies_2009.4/includes/todofleetcontrol.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -98,7 +98,6 @@ include(ROOT_PATH . 'includes/functions/MessageForm.'.PHPEXT);
 include(ROOT_PATH . 'includes/functions/PlanetResourceUpdate.'.PHPEXT);
 include(ROOT_PATH . 'includes/functions/BuildFlyingFleetTable.'.PHPEXT);
 include(ROOT_PATH . 'includes/functions/SendNewPassword.'.PHPEXT);
-include(ROOT_PATH . 'includes/functions/HandleElementBuildingQueue.'.PHPEXT);
 include(ROOT_PATH . 'includes/functions/UpdatePlanetBatimentQueueList.'.PHPEXT);
 include(ROOT_PATH . 'includes/functions/IsOfficierAccessible.'.PHPEXT);
 include(ROOT_PATH . 'includes/functions/CheckInputStrings.'.PHPEXT);
@@ -109,4 +108,3 @@ include(ROOT_PATH . 'includes/functions/BuildFleetEventTable.'.PHPEXT);
 include(ROOT_PATH . 'includes/functions/ResetThisFuckingCheater.'.PHPEXT);
 include(ROOT_PATH . 'includes/functions/IsVacationMode.'.PHPEXT);
 
-?>
diff --git a/xnova-legacies_2009.3/includes/unlocalised.php b/xnova-legacies_2009.4/includes/unlocalised.php
index f21020d..c71a682 100644
--- a/xnova-legacies_2009.3/includes/unlocalised.php
+++ b/xnova-legacies_2009.4/includes/unlocalised.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/includes/vars.php b/xnova-legacies_2009.4/includes/vars.php
index 61d3250..5fdb756 100644
--- a/xnova-legacies_2009.3/includes/vars.php
+++ b/xnova-legacies_2009.4/includes/vars.php
@@ -32,97 +32,7 @@ if (!defined('ROOT_PATH')) {
     die('Hacking attempt');
 }
 
-class Legacies_Empire
-{
-    const TYPE_BUILDING   = 'build';
-    const TYPE_RESEARCH   = 'tech';
-    const TYPE_SHIP       = 'fleet';
-    const TYPE_DEFENSE    = 'defense';
-    const TYPE_SPECIAL    = 'special';
-    const TYPE_OFFICER    = 'officier';
-    const TYPE_PRODUCTION = 'prod';
-
-    const RESOURCE_METAL      = 'metal';
-    const RESOURCE_CRISTAL    = 'crystal';
-    const RESOURCE_DEUTERIUM  = 'deuterium';
-    const RESOURCE_ENERGY     = 'energy';
-    const RESOURCE_MULTIPLIER = 'factor';
-    const RESOURCE_FORMULA    = 'formule';
-
-    const SHIPS_CONSUMPTION_PRIMARY   = 'consumption';
-    const SHIPS_CELERITY_PRIMARY      = 'speed';
-    const SHIPS_CONSUMPTION_SECONDARY = 'consumption2';
-    const SHIPS_CELERITY_SECONDARY    = 'speed2';
-    const SHIPS_CAPACITY              = 'capacity';
-
-    const ID_BUILDING_METAL_MINE            = 1;
-    const ID_BUILDING_CRISTAL_MINE          = 2;
-    const ID_BUILDING_DEUTERIUM_SYNTHETISER = 3;
-    const ID_BUILDING_SOLAR_PLANT           = 4;
-    const ID_BUILDING_FUSION_REACTOR        = 12;
-    const ID_BUILDING_ROBOTIC_FACTORY       = 14;
-    const ID_BUILDING_NANITE_FACTORY        = 15;
-    const ID_BUILDING_SHIPYARD              = 21;
-    const ID_BUILDING_METAL_STORAGE         = 22;
-    const ID_BUILDING_CRISTAL_STORAGE       = 23;
-    const ID_BUILDING_DEUTERIUM_TANK        = 24;
-    const ID_BUILDING_RESEARCH_LAB          = 31;
-    const ID_BUILDING_TERRAFORMER           = 33;
-    const ID_BUILDING_ALLIANCE_DEPOT        = 34;
-    const ID_BUILDING_LUNAR_BASE            = 41;
-    const ID_BUILDING_SENSOR_PHALANX        = 42;
-    const ID_BUILDING_JUMP_GATE             = 43;
-    const ID_BUILDING_MISSILE_SILO          = 44;
-
-    const ID_RESEARCH_ESPIONAGE_TECHNOLOGY           = 106;
-    const ID_RESEARCH_COMPUTER_TECHNOLOGY            = 108;
-    const ID_RESEARCH_WEAPON_TECHNOLOGY              = 109;
-    const ID_RESEARCH_SHIELDING_TECHNOLOGY           = 110;
-    const ID_RESEARCH_ARMOUR_TECHNOLOGY              = 111;
-    const ID_RESEARCH_ENERGY_TECHNOLOGY              = 113;
-    const ID_RESEARCH_HYPERSPACE_TECHNOLOGY          = 114;
-    const ID_RESEARCH_COMBUSTION_DRIVE               = 115;
-    const ID_RESEARCH_IMPULSE_DRIVE                  = 117;
-    const ID_RESEARCH_HYPERSPACE_DRIVE               = 118;
-    const ID_RESEARCH_LASER_TECHNOLOGY               = 120;
-    const ID_RESEARCH_ION_TECHNOLOGY                 = 121;
-    const ID_RESEARCH_PLASMA_TECHNOLOGY              = 122;
-    const ID_RESEARCH_INTERGALACTIC_RESEARCH_NETWORK = 123;
-    const ID_RESEARCH_EXPEDITION_TECHNOLOGY          = 124;
-    const ID_RESEARCH_ASTROPHYSICS                   = 124;
-    const ID_RESEARCH_GRAVITON_TECHNOLOGY            = 199;
-
-    const ID_SHIP_LIGHT_TRANSPORT = 202;
-    const ID_SHIP_LARGE_TRANSPORT = 203;
-    const ID_SHIP_LIGHT_FIGHTER   = 204;
-    const ID_SHIP_HEAVY_FIGHTER   = 205;
-    const ID_SHIP_CRUISER         = 206;
-    const ID_SHIP_BATTLESHIP      = 207;
-    const ID_SHIP_COLONY_SHIP     = 208;
-    const ID_SHIP_RECYCLER        = 209;
-    const ID_SHIP_SPY_DRONE       = 210;
-    const ID_SHIP_BOMBER          = 211;
-    const ID_SHIP_SOLAR_SATELLITE = 212;
-    const ID_SHIP_DESTRUCTOR      = 213;
-    const ID_SHIP_DEATH_STAR      = 214;
-    const ID_SHIP_BATTLECRUISER   = 215;
-
-    const ID_DEFENSE_ROCKET_LAUNCHER   = 401;
-    const ID_DEFENSE_LIGHT_LASER       = 402;
-    const ID_DEFENSE_HEAVY_LASER       = 403;
-    const ID_DEFENSE_ION_CANNON        = 404;
-    const ID_DEFENSE_GAUSS_CANNON      = 405;
-    const ID_DEFENSE_PLASMA_TURRET     = 406;
-    const ID_DEFENSE_SMALL_SHIELD_DOME = 407;
-    const ID_DEFENSE_LARGE_SHIELD_DOME = 408;
-
-    const ID_SPECIAL_ANTIBALLISTIC_MISSILE  = 502;
-    const ID_SPECIAL_INTERPLANETARY_MISSILE = 503;
-
-    const ID_COMBAT_SHIELDS    = 'shield';
-    const ID_COMBAT_FIREPOWER  = 'attack';
-    const ID_COMBAT_RAPID_FIRE = 'sd';
-}
+require_once ROOT_PATH . 'includes/classes/Legacies/Empire.php';
 
 // Liste de champs pour l'indication des messages en attante
 $messfields = array (
@@ -138,1762 +48,14 @@ $messfields = array (
     100 => "new_message"
     );
 
-/**
- * Database fields translation table with element ids.
- *
- * @var Array
- */
-$resource = array(
-//
-// Buildings
-// {{{
-    Legacies_Empire::ID_BUILDING_METAL_MINE            => "metal_mine",
-    Legacies_Empire::ID_BUILDING_CRISTAL_MINE          => "crystal_mine",
-    Legacies_Empire::ID_BUILDING_DEUTERIUM_SYNTHETISER => "deuterium_sintetizer",
-    Legacies_Empire::ID_BUILDING_SOLAR_PLANT           => "solar_plant",
-    Legacies_Empire::ID_BUILDING_FUSION_REACTOR        => "fusion_plant",
-    Legacies_Empire::ID_BUILDING_ROBOTIC_FACTORY       => "robot_factory",
-    Legacies_Empire::ID_BUILDING_NANITE_FACTORY        => "nano_factory",
-    Legacies_Empire::ID_BUILDING_SHIPYARD              => "hangar",
-    Legacies_Empire::ID_BUILDING_METAL_STORAGE         => "metal_store",
-    Legacies_Empire::ID_BUILDING_CRISTAL_STORAGE       => "crystal_store",
-    Legacies_Empire::ID_BUILDING_DEUTERIUM_TANK        => "deuterium_store",
-    Legacies_Empire::ID_BUILDING_RESEARCH_LAB          => "laboratory",
-    Legacies_Empire::ID_BUILDING_TERRAFORMER           => "terraformer",
-    Legacies_Empire::ID_BUILDING_ALLIANCE_DEPOT        => "ally_deposit",
-    Legacies_Empire::ID_BUILDING_LUNAR_BASE            => "mondbasis",
-    Legacies_Empire::ID_BUILDING_SENSOR_PHALANX        => "phalanx",
-    Legacies_Empire::ID_BUILDING_JUMP_GATE             => "sprungtor",
-    Legacies_Empire::ID_BUILDING_MISSILE_SILO          => "silo",
-// }}}
-
-//
-// Researches
-// {{{
-    Legacies_Empire::ID_RESEARCH_ESPIONAGE_TECHNOLOGY           => "spy_tech",
-    Legacies_Empire::ID_RESEARCH_COMPUTER_TECHNOLOGY            => "computer_tech",
-    Legacies_Empire::ID_RESEARCH_WEAPON_TECHNOLOGY              => "military_tech",
-    Legacies_Empire::ID_RESEARCH_SHIELDING_TECHNOLOGY           => "defence_tech",
-    Legacies_Empire::ID_RESEARCH_ARMOUR_TECHNOLOGY              => "shield_tech",
-    Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY              => "energy_tech",
-    Legacies_Empire::ID_RESEARCH_HYPERSPACE_TECHNOLOGY          => "hyperspace_tech",
-    Legacies_Empire::ID_RESEARCH_COMBUSTION_DRIVE               => "combustion_tech",
-    Legacies_Empire::ID_RESEARCH_IMPULSE_DRIVE                  => "impulse_motor_tech",
-    Legacies_Empire::ID_RESEARCH_HYPERSPACE_DRIVE               => "hyperspace_motor_tech",
-    Legacies_Empire::ID_RESEARCH_LASER_TECHNOLOGY               => "laser_tech",
-    Legacies_Empire::ID_RESEARCH_ION_TECHNOLOGY                 => "ionic_tech",
-    Legacies_Empire::ID_RESEARCH_PLASMA_TECHNOLOGY              => "buster_tech",
-    Legacies_Empire::ID_RESEARCH_INTERGALACTIC_RESEARCH_NETWORK => "intergalactic_tech",
-    Legacies_Empire::ID_RESEARCH_EXPEDITION_TECHNOLOGY          => "expedition_tech",
-    Legacies_Empire::ID_RESEARCH_GRAVITON_TECHNOLOGY            => "graviton_tech",
-// }}}
-
-//
-// Ships
-// {{{
-    Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT => "small_ship_cargo",
-    Legacies_Empire::ID_SHIP_LARGE_TRANSPORT => "big_ship_cargo",
-    Legacies_Empire::ID_SHIP_LIGHT_FIGHTER   => "light_hunter",
-    Legacies_Empire::ID_SHIP_HEAVY_FIGHTER   => "heavy_hunter",
-    Legacies_Empire::ID_SHIP_CRUISER         => "crusher",
-    Legacies_Empire::ID_SHIP_BATTLESHIP      => "battle_ship",
-    Legacies_Empire::ID_SHIP_COLONY_SHIP     => "colonizer",
-    Legacies_Empire::ID_SHIP_RECYCLER        => "recycler",
-    Legacies_Empire::ID_SHIP_SPY_DRONE       => "spy_sonde",
-    Legacies_Empire::ID_SHIP_BOMBER          => "bomber_ship",
-    Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => "solar_satelit",
-    Legacies_Empire::ID_SHIP_DESTRUCTOR      => "destructor",
-    Legacies_Empire::ID_SHIP_DEATH_STAR      => "dearth_star",
-    Legacies_Empire::ID_SHIP_BATTLECRUISER   => "battleship",
-//
-
-//
-// Defenses
-// {{{
-    Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => "misil_launcher",
-    Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => "small_laser",
-    Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => "big_laser",
-    Legacies_Empire::ID_DEFENSE_ION_CANNON        => "gauss_canyon",
-    Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => "ionic_canyon",
-    Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => "buster_canyon",
-    Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => "small_protection_shield",
-    Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => "big_protection_shield",
-
-    Legacies_Empire::ID_SPECIAL_ANTIBALLISTIC_MISSILE  => "interceptor_misil",
-    Legacies_Empire::ID_SPECIAL_INTERPLANETARY_MISSILE => "interplanetary_misil",
-// }}}
-
-//
-// Officers
-// {{{
-    601 => "rpg_geologue",
-    602 => "rpg_amiral",
-    603 => "rpg_ingenieur",
-    604 => "rpg_technocrate",
-    605 => "rpg_constructeur",
-    606 => "rpg_scientifique",
-    607 => "rpg_stockeur",
-    608 => "rpg_defenseur",
-    609 => "rpg_bunker",
-    610 => "rpg_espion",
-    611 => "rpg_commandant",
-    612 => "rpg_destructeur",
-    613 => "rpg_general",
-    614 => "rpg_raideur",
-    615 => "rpg_empereur"
-// }}}
-    );
-
-$requirements = array(
-//
-// Planet buildings requirements
-// {{{
-    Legacies_Empire::ID_BUILDING_FUSION_REACTOR => array(
-        Legacies_Empire::ID_BUILDING_DEUTERIUM_SYNTHETISER => 5,
-        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY     => 3
-        ),
-
-    Legacies_Empire::ID_BUILDING_NANITE_FACTORY => array(
-        Legacies_Empire::ID_BUILDING_ROBOTIC_FACTORY     => 10,
-        Legacies_Empire::ID_RESEARCH_COMPUTER_TECHNOLOGY => 10
-        ),
-
-    Legacies_Empire::ID_BUILDING_SHIPYARD => array(
-        Legacies_Empire::ID_BUILDING_ROBOTIC_FACTORY => 2
-        ),
-
-    Legacies_Empire::ID_BUILDING_TERRAFORMER => array(
-        Legacies_Empire::ID_BUILDING_NANITE_FACTORY    => 1,
-        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY => 12
-        ),
-// }}}
-
-//
-// Moon buildings requirements
-// {{{
-     Legacies_Empire::ID_BUILDING_SENSOR_PHALANX => array(
-        Legacies_Empire::ID_BUILDING_LUNAR_BASE => 1
-        ),
-
-     Legacies_Empire::ID_BUILDING_JUMP_GATE => array(
-        Legacies_Empire::ID_BUILDING_LUNAR_BASE            => 1,
-        Legacies_Empire::ID_RESEARCH_HYPERSPACE_TECHNOLOGY => 7
-        ),
-// }}}
-
-//
-// Technologies requirements
-// {{{
-    Legacies_Empire::ID_RESEARCH_ESPIONAGE_TECHNOLOGY => array(
-        Legacies_Empire::ID_BUILDING_RESEARCH_LAB => 3
-        ),
-
-    Legacies_Empire::ID_RESEARCH_COMPUTER_TECHNOLOGY => array(
-        Legacies_Empire::ID_BUILDING_RESEARCH_LAB => 1
-        ),
-
-    Legacies_Empire::ID_RESEARCH_WEAPON_TECHNOLOGY => array(
-        Legacies_Empire::ID_BUILDING_RESEARCH_LAB => 4
-        ),
-
-    Legacies_Empire::ID_RESEARCH_SHIELDING_TECHNOLOGY => array(
-        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY => 3,
-        Legacies_Empire::ID_BUILDING_RESEARCH_LAB      => 6
-        ),
-
-    Legacies_Empire::ID_RESEARCH_ARMOUR_TECHNOLOGY => array(
-        Legacies_Empire::ID_BUILDING_RESEARCH_LAB => 2
-        ),
-
-    Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY => array(
-        Legacies_Empire::ID_BUILDING_RESEARCH_LAB => 1
-        ),
-
-    Legacies_Empire::ID_RESEARCH_HYPERSPACE_TECHNOLOGY => array(
-        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY => 5,
-        Legacies_Empire::ID_RESEARCH_SHIELDING_TECHNOLOGY  => 5,
-        Legacies_Empire::ID_BUILDING_RESEARCH_LAB      => 7
-        ),
-
-    Legacies_Empire::ID_RESEARCH_COMBUSTION_DRIVE => array(
-        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY => 1,
-        Legacies_Empire::ID_BUILDING_RESEARCH_LAB      => 1
-        ),
-
-    Legacies_Empire::ID_RESEARCH_IMPULSE_DRIVE => array(
-        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY => 1,
-        Legacies_Empire::ID_BUILDING_RESEARCH_LAB      => 2
-        ),
-
-    Legacies_Empire::ID_RESEARCH_HYPERSPACE_DRIVE => array(
-        Legacies_Empire::ID_RESEARCH_HYPERSPACE_TECHNOLOGY => 3,
-        Legacies_Empire::ID_BUILDING_RESEARCH_LAB          => 7
-        ),
-
-    Legacies_Empire::ID_RESEARCH_LASER_TECHNOLOGY => array(
-        Legacies_Empire::ID_BUILDING_RESEARCH_LAB      => 1,
-        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY => 2
-        ),
-
-    Legacies_Empire::ID_RESEARCH_ION_TECHNOLOGY => array(
-        Legacies_Empire::ID_BUILDING_RESEARCH_LAB      => 4,
-        Legacies_Empire::ID_RESEARCH_LASER_TECHNOLOGY  => 5,
-        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY => 4
-        ),
-
-    Legacies_Empire::ID_RESEARCH_PLASMA_TECHNOLOGY => array(
-        Legacies_Empire::ID_BUILDING_RESEARCH_LAB      => 5,
-        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY => 8,
-        Legacies_Empire::ID_RESEARCH_LASER_TECHNOLOGY  => 10,
-        Legacies_Empire::ID_RESEARCH_ION_TECHNOLOGY    => 5
-        ),
-
-    Legacies_Empire::ID_RESEARCH_INTERGALACTIC_RESEARCH_NETWORK => array(
-        Legacies_Empire::ID_BUILDING_RESEARCH_LAB          => 10,
-        Legacies_Empire::ID_RESEARCH_COMPUTER_TECHNOLOGY   => 8,
-        Legacies_Empire::ID_RESEARCH_HYPERSPACE_TECHNOLOGY => 8
-        ),
-
-    Legacies_Empire::ID_RESEARCH_EXPEDITION_TECHNOLOGY => array(
-        Legacies_Empire::ID_BUILDING_RESEARCH_LAB        => 3,
-        Legacies_Empire::ID_RESEARCH_COMPUTER_TECHNOLOGY => 4,
-        Legacies_Empire::ID_RESEARCH_IMPULSE_DRIVE       => 3
-        ),
-
-    Legacies_Empire::ID_RESEARCH_GRAVITON_TECHNOLOGY => array(
-        Legacies_Empire::ID_BUILDING_RESEARCH_LAB => 12
-        ),
-// }}}
-
-//
-// Fleets requirements
-// {{{
-    Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT => array(
-        Legacies_Empire::ID_BUILDING_SHIPYARD         => 2,
-        Legacies_Empire::ID_RESEARCH_COMBUSTION_DRIVE => 2
-        ),
-
-    Legacies_Empire::ID_SHIP_LARGE_TRANSPORT => array(
-        Legacies_Empire::ID_BUILDING_SHIPYARD         => 4,
-        Legacies_Empire::ID_RESEARCH_COMBUSTION_DRIVE => 6
-        ),
-
-    Legacies_Empire::ID_SHIP_LIGHT_FIGHTER => array(
-        Legacies_Empire::ID_BUILDING_SHIPYARD         => 1,
-        Legacies_Empire::ID_RESEARCH_COMBUSTION_DRIVE => 1
-        ),
-
-    Legacies_Empire::ID_SHIP_HEAVY_FIGHTER => array(
-        Legacies_Empire::ID_BUILDING_SHIPYARD          => 3,
-        Legacies_Empire::ID_RESEARCH_ARMOUR_TECHNOLOGY => 2,
-        Legacies_Empire::ID_RESEARCH_IMPULSE_DRIVE     => 2
-        ),
-
-    Legacies_Empire::ID_SHIP_CRUISER => array(
-        Legacies_Empire::ID_BUILDING_SHIPYARD       => 5,
-        Legacies_Empire::ID_RESEARCH_IMPULSE_DRIVE  => 4,
-        Legacies_Empire::ID_RESEARCH_ION_TECHNOLOGY => 2
-        ),
-
-    Legacies_Empire::ID_SHIP_BATTLESHIP => array(
-        Legacies_Empire::ID_BUILDING_SHIPYARD         => 7,
-        Legacies_Empire::ID_RESEARCH_HYPERSPACE_DRIVE => 4
-        ),
-
-    Legacies_Empire::ID_SHIP_COLONY_SHIP => array(
-        Legacies_Empire::ID_BUILDING_SHIPYARD      => 4,
-        Legacies_Empire::ID_RESEARCH_IMPULSE_DRIVE => 3
-        ),
-
-    Legacies_Empire::ID_SHIP_RECYCLER => array(
-        Legacies_Empire::ID_BUILDING_SHIPYARD             => 4,
-        Legacies_Empire::ID_RESEARCH_COMBUSTION_DRIVE     => 6,
-        Legacies_Empire::ID_RESEARCH_SHIELDING_TECHNOLOGY => 2
-        ),
-
-    Legacies_Empire::ID_SHIP_SPY_DRONE => array(
-        Legacies_Empire::ID_BUILDING_SHIPYARD             => 3,
-        Legacies_Empire::ID_RESEARCH_COMBUSTION_DRIVE     => 3,
-        Legacies_Empire::ID_RESEARCH_ESPIONAGE_TECHNOLOGY => 2
-        ),
-
-    Legacies_Empire::ID_SHIP_BOMBER => array(
-        Legacies_Empire::ID_RESEARCH_IMPULSE_DRIVE     => 6,
-        Legacies_Empire::ID_BUILDING_SHIPYARD          => 8,
-        Legacies_Empire::ID_RESEARCH_PLASMA_TECHNOLOGY => 5
-        ),
-
-    Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => array(
-        Legacies_Empire::ID_BUILDING_SHIPYARD => 1
-        ),
-
-    Legacies_Empire::ID_SHIP_DESTRUCTOR => array(
-        Legacies_Empire::ID_BUILDING_SHIPYARD              => 9,
-        Legacies_Empire::ID_RESEARCH_HYPERSPACE_DRIVE      => 6,
-        Legacies_Empire::ID_RESEARCH_HYPERSPACE_TECHNOLOGY => 5
-        ),
-
-    Legacies_Empire::ID_SHIP_DEATH_STAR => array(
-        Legacies_Empire::ID_BUILDING_SHIPYARD              => 12,
-        Legacies_Empire::ID_RESEARCH_HYPERSPACE_DRIVE      => 7,
-        Legacies_Empire::ID_RESEARCH_HYPERSPACE_TECHNOLOGY => 6,
-        Legacies_Empire::ID_RESEARCH_GRAVITON_TECHNOLOGY   => 1
-        ),
-
-    Legacies_Empire::ID_SHIP_BATTLECRUISER => array(
-        Legacies_Empire::ID_RESEARCH_HYPERSPACE_TECHNOLOGY => 5,
-        Legacies_Empire::ID_RESEARCH_LASER_TECHNOLOGY      => 12,
-        Legacies_Empire::ID_RESEARCH_HYPERSPACE_DRIVE      => 5,
-        Legacies_Empire::ID_BUILDING_SHIPYARD              => 8
-        ),
-// }}}
-
-//
-// Defenses requirements
-// {{{
-    Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER => array(
-        Legacies_Empire::ID_BUILDING_SHIPYARD => 1
-        ),
-
-    Legacies_Empire::ID_DEFENSE_LIGHT_LASER => array(
-        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY => 1,
-        Legacies_Empire::ID_BUILDING_SHIPYARD          => 2,
-        Legacies_Empire::ID_RESEARCH_LASER_TECHNOLOGY  => 3
-        ),
-
-    Legacies_Empire::ID_DEFENSE_HEAVY_LASER => array(
-        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY => 3,
-        Legacies_Empire::ID_BUILDING_SHIPYARD          => 4,
-        Legacies_Empire::ID_RESEARCH_LASER_TECHNOLOGY  => 6
-        ),
-
-    Legacies_Empire::ID_DEFENSE_ION_CANNON => array(
-        Legacies_Empire::ID_BUILDING_SHIPYARD             => 6,
-        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY    => 6,
-        Legacies_Empire::ID_RESEARCH_WEAPON_TECHNOLOGY    => 3,
-        Legacies_Empire::ID_RESEARCH_SHIELDING_TECHNOLOGY => 1
-        ),
-
-    Legacies_Empire::ID_DEFENSE_GAUSS_CANNON => array(
-        Legacies_Empire::ID_BUILDING_SHIPYARD       => 4,
-        Legacies_Empire::ID_RESEARCH_ION_TECHNOLOGY => 4
-        ),
-
-    Legacies_Empire::ID_DEFENSE_PLASMA_TURRET => array(
-        Legacies_Empire::ID_BUILDING_SHIPYARD          => 8,
-        Legacies_Empire::ID_RESEARCH_PLASMA_TECHNOLOGY => 7
-        ),
-
-    Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => array(
-        Legacies_Empire::ID_RESEARCH_SHIELDING_TECHNOLOGY => 2,
-        Legacies_Empire::ID_BUILDING_SHIPYARD             => 1
-        ),
-
-    Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => array(
-        Legacies_Empire::ID_RESEARCH_SHIELDING_TECHNOLOGY => 6,
-        Legacies_Empire::ID_BUILDING_SHIPYARD             => 6
-        ),
-
-    Legacies_Empire::ID_SPECIAL_ANTIBALLISTIC_MISSILE => array(
-        Legacies_Empire::ID_BUILDING_MISSILE_SILO => 2
-        ),
-
-    Legacies_Empire::ID_SPECIAL_INTERPLANETARY_MISSILE => array(
-        Legacies_Empire::ID_BUILDING_MISSILE_SILO => 4
-    ),
-// }}}
-
-//
-// Officers requirements
-// {{{
-    603 => array(601 => 5),
-    604 => array(602 => 5),
-    605 => array(601 => 10, 603 => 2),
-    606 => array(601 => 10, 603 => 2),
-    607 => array(605 => 1),
-    608 => array(606 => 1),
-    609 => array(601 => 20, 603 => 10, 605 => 3, 606 => 3, 607 => 2, 608 => 2),
-    610 => array(602 => 10, 604 => 5),
-    611 => array(602 => 10, 604 => 5),
-    612 => array(610 => 1),
-    613 => array(611 => 1),
-    614 => array(602 => 20, 604 => 10, 610 => 2, 611 => 2, 612 => 1, 613 => 3),
-    615 => array(614 => 1, 609 => 1)
-    );
-// }}}
-// Legacy support for the mispelled variable.
-$requeriments = &$requirements;
-
-$pricelist = array(
-//
-// Buildings costs
-// {{{
-    Legacies_Empire::ID_BUILDING_METAL_MINE => array(
-        Legacies_Empire::RESOURCE_METAL      => 60,
-        Legacies_Empire::RESOURCE_CRISTAL    => 15,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 1.5
-        ),
-
-    Legacies_Empire::ID_BUILDING_CRISTAL_MINE => array(
-        Legacies_Empire::RESOURCE_METAL      => 48,
-        Legacies_Empire::RESOURCE_CRISTAL    => 24,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 1.6
-        ),
-
-    Legacies_Empire::ID_BUILDING_DEUTERIUM_SYNTHETISER => array(
-        Legacies_Empire::RESOURCE_METAL      => 225,
-        Legacies_Empire::RESOURCE_CRISTAL    => 75,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 1.5
-        ),
-
-    Legacies_Empire::ID_BUILDING_SOLAR_PLANT => array(
-        Legacies_Empire::RESOURCE_METAL      => 75,
-        Legacies_Empire::RESOURCE_CRISTAL    => 30,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 1.5
-        ),
-
-    Legacies_Empire::ID_BUILDING_FUSION_REACTOR => array(
-        Legacies_Empire::RESOURCE_METAL      => 900,
-        Legacies_Empire::RESOURCE_CRISTAL    => 360,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 180,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 1.8
-        ),
-
-    Legacies_Empire::ID_BUILDING_ROBOTIC_FACTORY => array(
-        Legacies_Empire::RESOURCE_METAL      => 400,
-        Legacies_Empire::RESOURCE_CRISTAL    => 120,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 200,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
-
-    Legacies_Empire::ID_BUILDING_NANITE_FACTORY => array(
-        Legacies_Empire::RESOURCE_METAL      => 1000000,
-        Legacies_Empire::RESOURCE_CRISTAL    => 500000,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 100000,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
-
-    Legacies_Empire::ID_BUILDING_SHIPYARD => array(
-        Legacies_Empire::RESOURCE_METAL      => 400,
-        Legacies_Empire::RESOURCE_CRISTAL    => 200,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 100,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
-
-    Legacies_Empire::ID_BUILDING_METAL_STORAGE => array(
-        Legacies_Empire::RESOURCE_METAL      => 2000,
-        Legacies_Empire::RESOURCE_CRISTAL    => 0,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
-
-    Legacies_Empire::ID_BUILDING_CRISTAL_STORAGE => array(
-        Legacies_Empire::RESOURCE_METAL      => 2000,
-        Legacies_Empire::RESOURCE_CRISTAL    => 1000,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
-
-    Legacies_Empire::ID_BUILDING_DEUTERIUM_TANK => array(
-        Legacies_Empire::RESOURCE_METAL      => 2000,
-        Legacies_Empire::RESOURCE_CRISTAL    => 2000,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
-
-    Legacies_Empire::ID_BUILDING_RESEARCH_LAB => array(
-        Legacies_Empire::RESOURCE_METAL      => 200,
-        Legacies_Empire::RESOURCE_CRISTAL    => 400,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 200,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
-
-    Legacies_Empire::ID_BUILDING_TERRAFORMER => array(
-        Legacies_Empire::RESOURCE_METAL      => 0,
-        Legacies_Empire::RESOURCE_CRISTAL    => 50000,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 100000,
-        Legacies_Empire::RESOURCE_ENERGY     => 1000,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
-
-    Legacies_Empire::ID_BUILDING_ALLIANCE_DEPOT => array(
-        Legacies_Empire::RESOURCE_METAL      => 20000,
-        Legacies_Empire::RESOURCE_CRISTAL    => 40000,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
-    Legacies_Empire::ID_BUILDING_LUNAR_BASE => array(
-        Legacies_Empire::RESOURCE_METAL      => 20000,
-        Legacies_Empire::RESOURCE_CRISTAL    => 40000,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 20000,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
-    Legacies_Empire::ID_BUILDING_SENSOR_PHALANX => array(
-        Legacies_Empire::RESOURCE_METAL      => 20000,
-        Legacies_Empire::RESOURCE_CRISTAL    => 40000,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 20000,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
-    Legacies_Empire::ID_BUILDING_JUMP_GATE => array(
-        Legacies_Empire::RESOURCE_METAL      => 2000000,
-        Legacies_Empire::RESOURCE_CRISTAL    => 4000000,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 2000000,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
-    Legacies_Empire::ID_BUILDING_MISSILE_SILO => array(
-        Legacies_Empire::RESOURCE_METAL      => 20000,
-        Legacies_Empire::RESOURCE_CRISTAL    => 20000,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 1000,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
-// }}}
+$resource = include ROOT_PATH . 'includes/data/fields-alias.php';
 
-//
-// Researches costs
-// {{{
-    Legacies_Empire::ID_RESEARCH_ESPIONAGE_TECHNOLOGY => array(
-        Legacies_Empire::RESOURCE_METAL      => 200,
-        Legacies_Empire::RESOURCE_CRISTAL    => 1000,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 200,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
+$requirements = include ROOT_PATH . 'includes/data/requirements.php';
 
-    Legacies_Empire::ID_RESEARCH_COMPUTER_TECHNOLOGY => array(
-        Legacies_Empire::RESOURCE_METAL      => 0,
-        Legacies_Empire::RESOURCE_CRISTAL    => 400,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 600,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
+$pricelist = include ROOT_PATH . 'includes/data/prices.php';
 
-    Legacies_Empire::ID_RESEARCH_WEAPON_TECHNOLOGY => array(
-        Legacies_Empire::RESOURCE_METAL      => 800,
-        Legacies_Empire::RESOURCE_CRISTAL    => 200,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
+$CombatCaps = include ROOT_PATH . 'includes/data/combat.php';
 
-    Legacies_Empire::ID_RESEARCH_SHIELDING_TECHNOLOGY => array(
-        Legacies_Empire::RESOURCE_METAL      => 200,
-        Legacies_Empire::RESOURCE_CRISTAL    => 600,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
+$ProdGrid = include ROOT_PATH . 'includes/data/production.php';
 
-    Legacies_Empire::ID_RESEARCH_ARMOUR_TECHNOLOGY => array(
-        Legacies_Empire::RESOURCE_METAL      => 1000,
-        Legacies_Empire::RESOURCE_CRISTAL    => 0,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
-
-    Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY => array(
-        Legacies_Empire::RESOURCE_METAL      => 0,
-        Legacies_Empire::RESOURCE_CRISTAL    => 800,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 400,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
-
-    Legacies_Empire::ID_RESEARCH_HYPERSPACE_TECHNOLOGY => array(
-        Legacies_Empire::RESOURCE_METAL      => 0,
-        Legacies_Empire::RESOURCE_CRISTAL    => 4000,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 2000,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
-
-    Legacies_Empire::ID_RESEARCH_COMBUSTION_DRIVE => array(
-        Legacies_Empire::RESOURCE_METAL      => 400,
-        Legacies_Empire::RESOURCE_CRISTAL    => 0,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 600,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
-
-    Legacies_Empire::ID_RESEARCH_IMPULSE_DRIVE => array(
-        Legacies_Empire::RESOURCE_METAL      => 2000,
-        Legacies_Empire::RESOURCE_CRISTAL    => 4000,
-        Legacies_Empire::RESOURCE_DEUTERIUM => 600,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
-
-    Legacies_Empire::ID_RESEARCH_HYPERSPACE_DRIVE => array(
-        Legacies_Empire::RESOURCE_METAL      => 10000,
-        Legacies_Empire::RESOURCE_CRISTAL    => 20000,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 6000,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
-
-    Legacies_Empire::ID_RESEARCH_LASER_TECHNOLOGY => array(
-        Legacies_Empire::RESOURCE_METAL      => 200,
-        Legacies_Empire::RESOURCE_CRISTAL    => 100,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
-
-    Legacies_Empire::ID_RESEARCH_ION_TECHNOLOGY => array(
-        Legacies_Empire::RESOURCE_METAL      => 1000,
-        Legacies_Empire::RESOURCE_CRISTAL    => 300,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 100,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
-
-    Legacies_Empire::ID_RESEARCH_PLASMA_TECHNOLOGY => array(
-        Legacies_Empire::RESOURCE_METAL      => 2000,
-        Legacies_Empire::RESOURCE_CRISTAL    => 4000,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 1000,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
-
-    Legacies_Empire::ID_RESEARCH_INTERGALACTIC_RESEARCH_NETWORK => array(
-        Legacies_Empire::RESOURCE_METAL      => 240000,
-        Legacies_Empire::RESOURCE_CRISTAL    => 400000,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 160000,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
-
-    Legacies_Empire::ID_RESEARCH_EXPEDITION_TECHNOLOGY => array(
-        Legacies_Empire::RESOURCE_METAL      => 4000,
-        Legacies_Empire::RESOURCE_CRISTAL    => 8000,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 4000,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 2
-        ),
-
-    Legacies_Empire::ID_RESEARCH_GRAVITON_TECHNOLOGY => array(
-        Legacies_Empire::RESOURCE_METAL      => 0,
-        Legacies_Empire::RESOURCE_CRISTAL    => 0,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
-        'energy_max'                => 300000, // FIXME:
-        Legacies_Empire::RESOURCE_MULTIPLIER => 3
-        ),
-// }}}
-
-//
-// Ship costs & technical properties
-// {{{
-    Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT => array(
-        Legacies_Empire::RESOURCE_METAL              => 2000,
-        Legacies_Empire::RESOURCE_CRISTAL            => 2000,
-        Legacies_Empire::RESOURCE_DEUTERIUM          => 0,
-        Legacies_Empire::RESOURCE_ENERGY             => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
-        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 20,
-        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 40,
-        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 5000,
-        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 10000,
-        Legacies_Empire::SHIPS_CAPACITY              => 5000
-        ),
-
-    Legacies_Empire::ID_SHIP_LARGE_TRANSPORT => array(
-        Legacies_Empire::RESOURCE_METAL              => 6000,
-        Legacies_Empire::RESOURCE_CRISTAL            => 6000,
-        Legacies_Empire::RESOURCE_DEUTERIUM          => 0,
-        Legacies_Empire::RESOURCE_ENERGY             => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
-        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 50,
-        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 50,
-        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 7500,
-        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 7500,
-        Legacies_Empire::SHIPS_CAPACITY              => 25000
-        ),
-
-    Legacies_Empire::ID_SHIP_LIGHT_FIGHTER => array(
-        Legacies_Empire::RESOURCE_METAL              => 3000,
-        Legacies_Empire::RESOURCE_CRISTAL            => 1000,
-        Legacies_Empire::RESOURCE_DEUTERIUM          => 0,
-        Legacies_Empire::RESOURCE_ENERGY             => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
-        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 20,
-        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 20,
-        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 12500,
-        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 12500,
-        Legacies_Empire::SHIPS_CAPACITY              => 50
-        ),
-
-    Legacies_Empire::ID_SHIP_HEAVY_FIGHTER => array(
-        Legacies_Empire::RESOURCE_METAL              => 6000,
-        Legacies_Empire::RESOURCE_CRISTAL            => 4000,
-        Legacies_Empire::RESOURCE_DEUTERIUM          => 0,
-        Legacies_Empire::RESOURCE_ENERGY             => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
-        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 75,
-        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 75,
-        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 10000,
-        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 15000,
-        Legacies_Empire::SHIPS_CAPACITY              => 100
-        ),
-
-    Legacies_Empire::ID_SHIP_CRUISER => array(
-        Legacies_Empire::RESOURCE_METAL              => 20000,
-        Legacies_Empire::RESOURCE_CRISTAL            => 7000,
-        Legacies_Empire::RESOURCE_DEUTERIUM          => 2000,
-        Legacies_Empire::RESOURCE_ENERGY             => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
-        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 300 ,
-        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 300,
-        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 15000,
-        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 15000,
-        Legacies_Empire::SHIPS_CAPACITY              => 800
-        ),
-
-    Legacies_Empire::ID_SHIP_BATTLESHIP => array(
-        Legacies_Empire::RESOURCE_METAL              => 45000,
-        Legacies_Empire::RESOURCE_CRISTAL            => 15000,
-        Legacies_Empire::RESOURCE_DEUTERIUM          => 0,
-        Legacies_Empire::RESOURCE_ENERGY             => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
-        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 500,
-        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 500,
-        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 10000,
-        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 10000,
-        Legacies_Empire::SHIPS_CAPACITY              => 1500
-        ),
-
-    Legacies_Empire::ID_SHIP_COLONY_SHIP => array(
-        Legacies_Empire::RESOURCE_METAL              => 10000,
-        Legacies_Empire::RESOURCE_CRISTAL            => 20000,
-        Legacies_Empire::RESOURCE_DEUTERIUM          => 10000,
-        Legacies_Empire::RESOURCE_ENERGY             => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
-        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 1000,
-        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 1000,
-        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 2500,
-        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 2500,
-        Legacies_Empire::SHIPS_CAPACITY              => 7500
-        ),
-
-    Legacies_Empire::ID_SHIP_RECYCLER => array(
-        Legacies_Empire::RESOURCE_METAL              => 10000,
-        Legacies_Empire::RESOURCE_CRISTAL            => 6000,
-        Legacies_Empire::RESOURCE_DEUTERIUM          => 2000,
-        Legacies_Empire::RESOURCE_ENERGY             => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
-        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 300,
-        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 300,
-        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 2000,
-        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 2000,
-        Legacies_Empire::SHIPS_CAPACITY              => 20000
-        ),
-
-    Legacies_Empire::ID_SHIP_SPY_DRONE => array(
-        Legacies_Empire::RESOURCE_METAL              => 0,
-        Legacies_Empire::RESOURCE_CRISTAL            => 1000,
-        Legacies_Empire::RESOURCE_DEUTERIUM          => 0,
-        Legacies_Empire::RESOURCE_ENERGY             => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
-        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 1,
-        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 1,
-        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 100000000,
-        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 100000000,
-        Legacies_Empire::SHIPS_CAPACITY              => 5
-        ),
-
-    Legacies_Empire::ID_SHIP_BOMBER => array(
-        Legacies_Empire::RESOURCE_METAL              => 50000,
-        Legacies_Empire::RESOURCE_CRISTAL            => 25000,
-        Legacies_Empire::RESOURCE_DEUTERIUM          => 15000,
-        Legacies_Empire::RESOURCE_ENERGY             => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
-        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 1000,
-        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 1000,
-        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 4000,
-        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 5000,
-        Legacies_Empire::SHIPS_CAPACITY              => 500
-        ),
-
-    Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => array(
-        Legacies_Empire::RESOURCE_METAL              => 0,
-        Legacies_Empire::RESOURCE_CRISTAL            => 2000,
-        Legacies_Empire::RESOURCE_DEUTERIUM          => 500,
-        Legacies_Empire::RESOURCE_ENERGY             => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
-        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 0,
-        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 0,
-        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 0,
-        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 0,
-        Legacies_Empire::SHIPS_CAPACITY              => 0
-        ),
-
-    Legacies_Empire::ID_SHIP_DESTRUCTOR => array(
-        Legacies_Empire::RESOURCE_METAL              => 60000,
-        Legacies_Empire::RESOURCE_CRISTAL            => 50000,
-        Legacies_Empire::RESOURCE_DEUTERIUM          => 15000,
-        Legacies_Empire::RESOURCE_ENERGY             => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
-        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 1000,
-        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 1000,
-        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 5000,
-        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 5000,
-        Legacies_Empire::SHIPS_CAPACITY              => 2000
-        ),
-
-    Legacies_Empire::ID_SHIP_DEATH_STAR => array(
-        Legacies_Empire::RESOURCE_METAL              => 5000000,
-        Legacies_Empire::RESOURCE_CRISTAL            => 4000000,
-        Legacies_Empire::RESOURCE_DEUTERIUM          => 1000000,
-        Legacies_Empire::RESOURCE_ENERGY             => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
-        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 1,
-        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 1,
-        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 100,
-        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 100,
-        Legacies_Empire::SHIPS_CAPACITY              => 1000000
-        ),
-
-    Legacies_Empire::ID_SHIP_BATTLECRUISER => array(
-        Legacies_Empire::RESOURCE_METAL              => 30000,
-        Legacies_Empire::RESOURCE_CRISTAL            => 40000,
-        Legacies_Empire::RESOURCE_DEUTERIUM          => 15000,
-        Legacies_Empire::RESOURCE_ENERGY             => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER         => 1,
-        Legacies_Empire::SHIPS_CONSUMPTION_PRIMARY   => 250,
-        Legacies_Empire::SHIPS_CONSUMPTION_SECONDARY => 250,
-        Legacies_Empire::SHIPS_CELERITY_PRIMARY      => 10000,
-        Legacies_Empire::SHIPS_CELERITY_SECONDARY    => 10000,
-        Legacies_Empire::SHIPS_CAPACITY              => 750
-        ),
-// }}}
-
-//
-// Defenses
-// {{{
-    Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER => array(
-        Legacies_Empire::RESOURCE_METAL      => 2000,
-        Legacies_Empire::RESOURCE_CRISTAL    => 0,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 1
-        ),
-
-    Legacies_Empire::ID_DEFENSE_LIGHT_LASER => array(
-        Legacies_Empire::RESOURCE_METAL      => 1500,
-        Legacies_Empire::RESOURCE_CRISTAL    => 500,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 1
-        ),
-
-    Legacies_Empire::ID_DEFENSE_HEAVY_LASER => array(
-        Legacies_Empire::RESOURCE_METAL      => 6000,
-        Legacies_Empire::RESOURCE_CRISTAL    => 2000,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 1
-        ),
-
-    Legacies_Empire::ID_DEFENSE_ION_CANNON => array(
-        Legacies_Empire::RESOURCE_METAL      => 20000,
-        Legacies_Empire::RESOURCE_CRISTAL    => 15000,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 2000,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 1
-        ),
-
-    Legacies_Empire::ID_DEFENSE_GAUSS_CANNON => array(
-        Legacies_Empire::RESOURCE_METAL      => 2000,
-        Legacies_Empire::RESOURCE_CRISTAL    => 6000,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 1
-        ),
-
-    Legacies_Empire::ID_DEFENSE_PLASMA_TURRET => array(
-        Legacies_Empire::RESOURCE_METAL      => 50000,
-        Legacies_Empire::RESOURCE_CRISTAL    => 50000,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 30000,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 1
-        ),
-
-    Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => array(
-        Legacies_Empire::RESOURCE_METAL      => 10000,
-        Legacies_Empire::RESOURCE_CRISTAL    => 10000,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 1
-        ),
-
-    Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => array(
-        Legacies_Empire::RESOURCE_METAL      => 50000,
-        Legacies_Empire::RESOURCE_CRISTAL    => 50000,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 1
-        ),
-
-    Legacies_Empire::ID_SPECIAL_ANTIBALLISTIC_MISSILE => array(
-        Legacies_Empire::RESOURCE_METAL      => 8000,
-        Legacies_Empire::RESOURCE_CRISTAL    => 2000,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 1
-        ),
-
-    Legacies_Empire::ID_SPECIAL_INTERPLANETARY_MISSILE => array(
-        Legacies_Empire::RESOURCE_METAL      => 12500,
-        Legacies_Empire::RESOURCE_CRISTAL    => 2500,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 10000,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 1
-        ),
-// }}}
-
-//
-// Officers
-// {{
-    601 => array('max' => 20),
-    602 => array('max' => 20),
-    603 => array('max' => 10),
-    604 => array('max' => 10),
-    605 => array('max' => 3),
-    606 => array('max' => 3),
-    607 => array('max' => 2),
-    608 => array('max' => 2),
-    609 => array('max' => 1),
-    610 => array('max' => 2),
-    611 => array('max' => 2),
-    612 => array('max' => 1),
-    613 => array('max' => 3),
-    614 => array('max' => 1),
-    615 => array('max' => 1)
-// }}}
-    );
-
-/**
- * Combat capacities
- * @var array
- */
-$CombatCaps = array(
-//
-// Ships combat capacities
-// {{{
-    Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT => array(
-        Legacies_Empire::ID_COMBAT_SHIELDS    => 10,
-        Legacies_Empire::ID_COMBAT_FIREPOWER  => 5,
-        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
-            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 1,
-            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 1,
-            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 1,
-            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 1,
-            Legacies_Empire::ID_SHIP_CRUISER              => 1,
-            Legacies_Empire::ID_SHIP_BATTLESHIP           => 1,
-            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1,
-            Legacies_Empire::ID_SHIP_RECYCLER             => 1,
-            Legacies_Empire::ID_SHIP_SPY_DRONE            => 5,
-            Legacies_Empire::ID_SHIP_BOMBER               => 1,
-            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 5,
-            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 1,
-            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
-            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 1,
-            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 1,
-            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 1,
-            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 1,
-            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 1,
-            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 1,
-            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
-            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
-            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
-            )
-        ),
-
-    Legacies_Empire::ID_SHIP_LARGE_TRANSPORT => array(
-        Legacies_Empire::ID_COMBAT_SHIELDS    => 25,
-        Legacies_Empire::ID_COMBAT_FIREPOWER  => 5,
-        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
-            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 1,
-            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 1,
-            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 1,
-            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 1,
-            Legacies_Empire::ID_SHIP_CRUISER              => 1,
-            Legacies_Empire::ID_SHIP_BATTLESHIP           => 1,
-            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1,
-            Legacies_Empire::ID_SHIP_RECYCLER             => 1,
-            Legacies_Empire::ID_SHIP_SPY_DRONE            => 5,
-            Legacies_Empire::ID_SHIP_BOMBER               => 1,
-            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 5,
-            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 1,
-            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
-            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 1,
-            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 1,
-            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 1,
-            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 1,
-            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 1,
-            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 1,
-            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
-            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
-            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
-            )
-        ),
-
-    Legacies_Empire::ID_SHIP_LIGHT_FIGHTER => array(
-        Legacies_Empire::ID_COMBAT_SHIELDS    => 10,
-        Legacies_Empire::ID_COMBAT_FIREPOWER  => 50,
-        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
-            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 2,
-            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 1,
-            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 1,
-            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 1,
-            Legacies_Empire::ID_SHIP_CRUISER              => 1,
-            Legacies_Empire::ID_SHIP_BATTLESHIP           => 1,
-            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1,
-            Legacies_Empire::ID_SHIP_RECYCLER             => 1,
-            Legacies_Empire::ID_SHIP_SPY_DRONE            => 5,
-            Legacies_Empire::ID_SHIP_BOMBER               => 1,
-            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 5,
-            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 1,
-            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
-            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 1,
-            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 1,
-            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 1,
-            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 1,
-            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 1,
-            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 1,
-            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
-            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
-            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
-            )
-        ),
-
-    Legacies_Empire::ID_SHIP_HEAVY_FIGHTER => array(
-        Legacies_Empire::ID_COMBAT_SHIELDS    => 25,
-        Legacies_Empire::ID_COMBAT_FIREPOWER  => 150,
-        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
-            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 3,
-            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 1,
-            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 1,
-            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 1,
-            Legacies_Empire::ID_SHIP_CRUISER              => 1,
-            Legacies_Empire::ID_SHIP_BATTLESHIP           => 1,
-            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1,
-            Legacies_Empire::ID_SHIP_RECYCLER             => 1,
-            Legacies_Empire::ID_SHIP_SPY_DRONE            => 5,
-            Legacies_Empire::ID_SHIP_BOMBER               => 1,
-            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 5,
-            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 1,
-            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
-            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 1,
-            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 1,
-            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 1,
-            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 1,
-            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 1,
-            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 1,
-            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
-            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
-            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
-            )
-        ),
-
-    Legacies_Empire::ID_SHIP_CRUISER => array(
-        Legacies_Empire::ID_COMBAT_SHIELDS    => 50,
-        Legacies_Empire::ID_COMBAT_FIREPOWER  => 400,
-        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
-            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 1,
-            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 1,
-            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 6,
-            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 1,
-            Legacies_Empire::ID_SHIP_CRUISER              => 1,
-            Legacies_Empire::ID_SHIP_BATTLESHIP           => 1,
-            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1,
-            Legacies_Empire::ID_SHIP_RECYCLER             => 1,
-            Legacies_Empire::ID_SHIP_SPY_DRONE            => 5,
-            Legacies_Empire::ID_SHIP_BOMBER               => 1,
-            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 5,
-            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 1,
-            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
-            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 1,
-            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 10,
-            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 1,
-            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 1,
-            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 1,
-            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 1,
-            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
-            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
-            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
-            )
-        ),
-
-    Legacies_Empire::ID_SHIP_BATTLESHIP => array(
-        Legacies_Empire::ID_COMBAT_SHIELDS    => 200,
-        Legacies_Empire::ID_COMBAT_FIREPOWER  => 1000,
-        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
-            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 1,
-            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 1,
-            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 1,
-            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 1,
-            Legacies_Empire::ID_SHIP_CRUISER              => 1,
-            Legacies_Empire::ID_SHIP_BATTLESHIP           => 1,
-            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1,
-            Legacies_Empire::ID_SHIP_RECYCLER             => 1,
-            Legacies_Empire::ID_SHIP_SPY_DRONE            => 5,
-            Legacies_Empire::ID_SHIP_BOMBER               => 1,
-            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 5,
-            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 1,
-            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
-            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 1,
-            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 8,
-            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 1,
-            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 1,
-            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 1,
-            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 1,
-            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
-            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
-            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
-            )
-        ),
-
-    Legacies_Empire::ID_SHIP_COLONY_SHIP => array(
-        Legacies_Empire::ID_COMBAT_SHIELDS    => 100,
-        Legacies_Empire::ID_COMBAT_FIREPOWER  => 50,
-        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
-            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 1,
-            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 1,
-            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 1,
-            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 1,
-            Legacies_Empire::ID_SHIP_CRUISER              => 1,
-            Legacies_Empire::ID_SHIP_BATTLESHIP           => 1,
-            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1,
-            Legacies_Empire::ID_SHIP_RECYCLER             => 1,
-            Legacies_Empire::ID_SHIP_SPY_DRONE            => 5,
-            Legacies_Empire::ID_SHIP_BOMBER               => 1,
-            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 5,
-            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 1,
-            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
-            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 1,
-            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 1,
-            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 1,
-            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 1,
-            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 1,
-            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 1,
-            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
-            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
-            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
-            )
-        ),
-
-    Legacies_Empire::ID_SHIP_RECYCLER => array(
-        Legacies_Empire::ID_COMBAT_SHIELDS    => 10,
-        Legacies_Empire::ID_COMBAT_FIREPOWER  => 1,
-        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
-            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 1,
-            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 1,
-            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 1,
-            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 1,
-            Legacies_Empire::ID_SHIP_CRUISER              => 1,
-            Legacies_Empire::ID_SHIP_BATTLESHIP           => 1,
-            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1,
-            Legacies_Empire::ID_SHIP_RECYCLER             => 1,
-            Legacies_Empire::ID_SHIP_SPY_DRONE            => 5,
-            Legacies_Empire::ID_SHIP_BOMBER               => 1,
-            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 5,
-            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 1,
-            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
-            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 1,
-            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 1,
-            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 1,
-            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 1,
-            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 1,
-            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 1,
-            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
-            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
-            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
-            )
-        ),
-
-    Legacies_Empire::ID_SHIP_SPY_DRONE => array(
-        Legacies_Empire::ID_COMBAT_SHIELDS    => 0,
-        Legacies_Empire::ID_COMBAT_FIREPOWER  => 0,
-        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
-            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 0,
-            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 0,
-            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 0,
-            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 0,
-            Legacies_Empire::ID_SHIP_CRUISER              => 0,
-            Legacies_Empire::ID_SHIP_BATTLESHIP           => 0,
-            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 0,
-            Legacies_Empire::ID_SHIP_RECYCLER             => 0,
-            Legacies_Empire::ID_SHIP_SPY_DRONE            => 0,
-            Legacies_Empire::ID_SHIP_BOMBER               => 0,
-            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 0,
-            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 0,
-            Legacies_Empire::ID_SHIP_DEATH_STAR           => 0,
-            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 0,
-            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 0,
-            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 0,
-            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 0,
-            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 0,
-            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 0,
-            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 0,
-            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 0,
-            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 0
-            )
-        ),
-
-    Legacies_Empire::ID_SHIP_BOMBER => array(
-        Legacies_Empire::ID_COMBAT_SHIELDS => 500,
-        Legacies_Empire::ID_COMBAT_FIREPOWER => 1000,
-        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
-            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 1,
-            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 1,
-            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 1,
-            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 1,
-            Legacies_Empire::ID_SHIP_CRUISER              => 1,
-            Legacies_Empire::ID_SHIP_BATTLESHIP           => 1,
-            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1,
-            Legacies_Empire::ID_SHIP_RECYCLER             => 1,
-            Legacies_Empire::ID_SHIP_SPY_DRONE            => 5,
-            Legacies_Empire::ID_SHIP_BOMBER               => 1,
-            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 5,
-            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 1,
-            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
-            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 1,
-            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 20,
-            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 20,
-            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 10,
-            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 1,
-            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 10,
-            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
-            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
-            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
-            )
-        ),
-
-    Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => array(
-        Legacies_Empire::ID_COMBAT_SHIELDS    => 10,
-        Legacies_Empire::ID_COMBAT_FIREPOWER  => 1,
-        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
-            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 1,
-            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 1,
-            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 1,
-            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 1,
-            Legacies_Empire::ID_SHIP_CRUISER              => 1,
-            Legacies_Empire::ID_SHIP_BATTLESHIP           => 1,
-            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1,
-            Legacies_Empire::ID_SHIP_RECYCLER             => 1,
-            Legacies_Empire::ID_SHIP_SPY_DRONE            => 1,
-            Legacies_Empire::ID_SHIP_BOMBER               => 1,
-            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 0,
-            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 1,
-            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
-            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 1,
-            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 1,
-            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 1,
-            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 1,
-            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 1,
-            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 1,
-            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
-            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
-            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
-            )
-        ),
-
-    Legacies_Empire::ID_SHIP_DESTRUCTOR => array(
-        Legacies_Empire::ID_COMBAT_SHIELDS    => 500,
-        Legacies_Empire::ID_COMBAT_FIREPOWER  => 2000,
-        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
-            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 1,
-            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 1,
-            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 1,
-            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 1,
-            Legacies_Empire::ID_SHIP_CRUISER              => 1,
-            Legacies_Empire::ID_SHIP_BATTLESHIP           => 1,
-            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1,
-            Legacies_Empire::ID_SHIP_RECYCLER             => 1,
-            Legacies_Empire::ID_SHIP_SPY_DRONE            => 5,
-            Legacies_Empire::ID_SHIP_BOMBER               => 1,
-            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 5,
-            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 1,
-            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
-            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 2,
-            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 1,
-            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 10,
-            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 1,
-            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 1,
-            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 1,
-            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
-            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
-            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
-            )
-        ),
-
-    Legacies_Empire::ID_SHIP_DEATH_STAR => array(
-        Legacies_Empire::ID_COMBAT_SHIELDS    => 50000,
-        Legacies_Empire::ID_COMBAT_FIREPOWER  => 200000,
-        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
-            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 250,
-            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 250,
-            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 200,
-            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 100,
-            Legacies_Empire::ID_SHIP_CRUISER              => 33,
-            Legacies_Empire::ID_SHIP_BATTLESHIP           => 30,
-            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 250,
-            Legacies_Empire::ID_SHIP_RECYCLER             => 250,
-            Legacies_Empire::ID_SHIP_SPY_DRONE            => 1250,
-            Legacies_Empire::ID_SHIP_BOMBER               => 25,
-            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 1250,
-            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 5,
-            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
-            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 15,
-            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 200,
-            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 200,
-            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 100,
-            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 50,
-            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 100,
-            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
-            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
-            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
-            )
-        ),
-
-    Legacies_Empire::ID_SHIP_BATTLECRUISER => array(
-        Legacies_Empire::ID_COMBAT_SHIELDS    => 400,
-        Legacies_Empire::ID_COMBAT_FIREPOWER  => 700,
-        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
-            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT      => 3,
-            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT      => 3,
-            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER        => 1,
-            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER        => 4,
-            Legacies_Empire::ID_SHIP_CRUISER              => 4,
-            Legacies_Empire::ID_SHIP_BATTLESHIP           => 7,
-            Legacies_Empire::ID_SHIP_COLONY_SHIP          => 1,
-            Legacies_Empire::ID_SHIP_RECYCLER             => 1,
-            Legacies_Empire::ID_SHIP_SPY_DRONE            => 5,
-            Legacies_Empire::ID_SHIP_BOMBER               => 1,
-            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE      => 5,
-            Legacies_Empire::ID_SHIP_DESTRUCTOR           => 1,
-            Legacies_Empire::ID_SHIP_DEATH_STAR           => 1,
-            Legacies_Empire::ID_SHIP_BATTLECRUISER        => 1,
-            Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER   => 1,
-            Legacies_Empire::ID_DEFENSE_LIGHT_LASER       => 1,
-            Legacies_Empire::ID_DEFENSE_HEAVY_LASER       => 1,
-            Legacies_Empire::ID_DEFENSE_ION_CANNON        => 1,
-            Legacies_Empire::ID_DEFENSE_GAUSS_CANNON      => 1,
-            Legacies_Empire::ID_DEFENSE_PLASMA_TURRET     => 1,
-            Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => 1,
-            Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => 1
-            )
-        ),
-// }}}
-
-//
-// Defense combat capacities
-// {{{
-    Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER => array (
-        Legacies_Empire::ID_COMBAT_SHIELDS    => 20,
-        Legacies_Empire::ID_COMBAT_FIREPOWER  => 80,
-        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
-            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT => 1,
-            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT => 1,
-            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER   => 1,
-            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER   => 1,
-            Legacies_Empire::ID_SHIP_CRUISER         => 1,
-            Legacies_Empire::ID_SHIP_BATTLESHIP      => 1,
-            Legacies_Empire::ID_SHIP_COLONY_SHIP     => 1,
-            Legacies_Empire::ID_SHIP_RECYCLER        => 1,
-            Legacies_Empire::ID_SHIP_SPY_DRONE       => 5,
-            Legacies_Empire::ID_SHIP_BOMBER          => 1,
-            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => 0,
-            Legacies_Empire::ID_SHIP_DESTRUCTOR      => 1,
-            Legacies_Empire::ID_SHIP_DEATH_STAR      => 1,
-            Legacies_Empire::ID_SHIP_BATTLECRUISER   => 1
-            )
-        ),
-
-    Legacies_Empire::ID_DEFENSE_LIGHT_LASER => array (
-        Legacies_Empire::ID_COMBAT_SHIELDS    => 25,
-        Legacies_Empire::ID_COMBAT_FIREPOWER  => 100,
-        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
-            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT => 1,
-            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT => 1,
-            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER   => 1,
-            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER   => 1,
-            Legacies_Empire::ID_SHIP_CRUISER         => 1,
-            Legacies_Empire::ID_SHIP_BATTLESHIP      => 1,
-            Legacies_Empire::ID_SHIP_COLONY_SHIP     => 1,
-            Legacies_Empire::ID_SHIP_RECYCLER        => 1,
-            Legacies_Empire::ID_SHIP_SPY_DRONE       => 5,
-            Legacies_Empire::ID_SHIP_BOMBER          => 1,
-            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => 0,
-            Legacies_Empire::ID_SHIP_DESTRUCTOR      => 1,
-            Legacies_Empire::ID_SHIP_DEATH_STAR      => 1,
-            Legacies_Empire::ID_SHIP_BATTLECRUISER   => 1
-            )
-        ),
-
-    Legacies_Empire::ID_DEFENSE_HEAVY_LASER => array (
-        Legacies_Empire::ID_COMBAT_SHIELDS    => 100,
-        Legacies_Empire::ID_COMBAT_FIREPOWER  => 250,
-        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
-            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT => 1,
-            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT => 1,
-            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER   => 1,
-            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER   => 1,
-            Legacies_Empire::ID_SHIP_CRUISER         => 1,
-            Legacies_Empire::ID_SHIP_BATTLESHIP      => 1,
-            Legacies_Empire::ID_SHIP_COLONY_SHIP     => 1,
-            Legacies_Empire::ID_SHIP_RECYCLER        => 1,
-            Legacies_Empire::ID_SHIP_SPY_DRONE       => 5,
-            Legacies_Empire::ID_SHIP_BOMBER          => 1,
-            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => 0,
-            Legacies_Empire::ID_SHIP_DESTRUCTOR      => 1,
-            Legacies_Empire::ID_SHIP_DEATH_STAR      => 1,
-            Legacies_Empire::ID_SHIP_BATTLECRUISER   => 1
-            )
-        ),
-
-    Legacies_Empire::ID_DEFENSE_ION_CANNON => array(
-        Legacies_Empire::ID_COMBAT_SHIELDS    => 200,
-        Legacies_Empire::ID_COMBAT_FIREPOWER  => 1100,
-        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
-            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT => 1,
-            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT => 1,
-            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER   => 1,
-            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER   => 1,
-            Legacies_Empire::ID_SHIP_CRUISER         => 1,
-            Legacies_Empire::ID_SHIP_BATTLESHIP      => 1,
-            Legacies_Empire::ID_SHIP_COLONY_SHIP     => 1,
-            Legacies_Empire::ID_SHIP_RECYCLER        => 1,
-            Legacies_Empire::ID_SHIP_SPY_DRONE       => 5,
-            Legacies_Empire::ID_SHIP_BOMBER          => 1,
-            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => 0,
-            Legacies_Empire::ID_SHIP_DESTRUCTOR      => 1,
-            Legacies_Empire::ID_SHIP_DEATH_STAR      => 1,
-            Legacies_Empire::ID_SHIP_BATTLECRUISER   => 1
-            )
-        ),
-
-    Legacies_Empire::ID_DEFENSE_GAUSS_CANNON => array (
-        Legacies_Empire::ID_COMBAT_SHIELDS    => 500,
-        Legacies_Empire::ID_COMBAT_FIREPOWER  => 150,
-        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
-            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT => 1,
-            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT => 1,
-            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER   => 1,
-            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER   => 1,
-            Legacies_Empire::ID_SHIP_CRUISER         => 1,
-            Legacies_Empire::ID_SHIP_BATTLESHIP      => 1,
-            Legacies_Empire::ID_SHIP_COLONY_SHIP     => 1,
-            Legacies_Empire::ID_SHIP_RECYCLER        => 1,
-            Legacies_Empire::ID_SHIP_SPY_DRONE       => 5,
-            Legacies_Empire::ID_SHIP_BOMBER          => 1,
-            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => 0,
-            Legacies_Empire::ID_SHIP_DESTRUCTOR      => 1,
-            Legacies_Empire::ID_SHIP_DEATH_STAR      => 1,
-            Legacies_Empire::ID_SHIP_BATTLECRUISER   => 1
-            )
-        ),
-
-    Legacies_Empire::ID_DEFENSE_PLASMA_TURRET => array(
-        Legacies_Empire::ID_COMBAT_SHIELDS     => 300,
-         Legacies_Empire::ID_COMBAT_FIREPOWER  => 3000,
-         Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
-            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT => 1,
-            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT => 1,
-            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER   => 1,
-            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER   => 1,
-            Legacies_Empire::ID_SHIP_CRUISER         => 1,
-            Legacies_Empire::ID_SHIP_BATTLESHIP      => 1,
-            Legacies_Empire::ID_SHIP_COLONY_SHIP     => 1,
-            Legacies_Empire::ID_SHIP_RECYCLER        => 1,
-            Legacies_Empire::ID_SHIP_SPY_DRONE       => 5,
-            Legacies_Empire::ID_SHIP_BOMBER          => 1,
-            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => 0,
-            Legacies_Empire::ID_SHIP_DESTRUCTOR      => 1,
-            Legacies_Empire::ID_SHIP_DEATH_STAR      => 1,
-            Legacies_Empire::ID_SHIP_BATTLECRUISER   => 1
-            )
-        ),
-
-    Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME => array(
-        Legacies_Empire::ID_COMBAT_SHIELDS    => 2000,
-        Legacies_Empire::ID_COMBAT_FIREPOWER  => 1,
-        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
-            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT => 1,
-            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT => 1,
-            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER   => 1,
-            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER   => 1,
-            Legacies_Empire::ID_SHIP_CRUISER         => 1,
-            Legacies_Empire::ID_SHIP_BATTLESHIP      => 1,
-            Legacies_Empire::ID_SHIP_COLONY_SHIP     => 1,
-            Legacies_Empire::ID_SHIP_RECYCLER        => 1,
-            Legacies_Empire::ID_SHIP_SPY_DRONE       => 5,
-            Legacies_Empire::ID_SHIP_BOMBER          => 1,
-            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => 0,
-            Legacies_Empire::ID_SHIP_DESTRUCTOR      => 1,
-            Legacies_Empire::ID_SHIP_DEATH_STAR      => 1,
-            Legacies_Empire::ID_SHIP_BATTLECRUISER   => 1
-            )
-        ),
-
-    Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME => array(
-        Legacies_Empire::ID_COMBAT_SHIELDS    => 2000,
-        Legacies_Empire::ID_COMBAT_FIREPOWER  => 1,
-        Legacies_Empire::ID_COMBAT_RAPID_FIRE => array(
-            Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT => 1,
-            Legacies_Empire::ID_SHIP_LARGE_TRANSPORT => 1,
-            Legacies_Empire::ID_SHIP_LIGHT_FIGHTER   => 1,
-            Legacies_Empire::ID_SHIP_HEAVY_FIGHTER   => 1,
-            Legacies_Empire::ID_SHIP_CRUISER         => 1,
-            Legacies_Empire::ID_SHIP_BATTLESHIP      => 1,
-            Legacies_Empire::ID_SHIP_COLONY_SHIP     => 1,
-            Legacies_Empire::ID_SHIP_RECYCLER        => 1,
-            Legacies_Empire::ID_SHIP_SPY_DRONE       => 5,
-            Legacies_Empire::ID_SHIP_BOMBER          => 1,
-            Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => 0,
-            Legacies_Empire::ID_SHIP_DESTRUCTOR      => 1,
-            Legacies_Empire::ID_SHIP_DEATH_STAR      => 1,
-            Legacies_Empire::ID_SHIP_BATTLECRUISER   => 1
-            )
-        ),
-
-
-    Legacies_Empire::ID_SPECIAL_ANTIBALLISTIC_MISSILE => array(
-        Legacies_Empire::ID_COMBAT_SHIELDS   => 1,
-        Legacies_Empire::ID_COMBAT_FIREPOWER => 1
-        ),
-
-    Legacies_Empire::ID_SPECIAL_INTERPLANETARY_MISSILE => array(
-        Legacies_Empire::ID_COMBAT_SHIELDS   => 1,
-        Legacies_Empire::ID_COMBAT_FIREPOWER => 12000
-        )
-// }}}
-    );
-
-$ProdGrid = array(
-//
-// Buildings production
-// {{{
-    Legacies_Empire::ID_BUILDING_METAL_MINE => array(
-        Legacies_Empire::RESOURCE_METAL      => 40,
-        Legacies_Empire::RESOURCE_CRISTAL    => 10,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 1.5,
-        Legacies_Empire::RESOURCE_FORMULA    => array(
-           	Legacies_Empire::RESOURCE_METAL     => 'return (30 * $BuildLevel * pow((1.1), $BuildLevel)) * (0.1 * $BuildLevelFactor);',
-            Legacies_Empire::RESOURCE_CRISTAL   => 'return "0";',
-            Legacies_Empire::RESOURCE_DEUTERIUM => 'return "0";',
-            Legacies_Empire::RESOURCE_ENERGY    => 'return -(10 * $BuildLevel * pow((1.1), $BuildLevel)) * (0.1 * $BuildLevelFactor);'
-            )
-        ),
-
-    Legacies_Empire::ID_BUILDING_CRISTAL_MINE => array(
-        Legacies_Empire::RESOURCE_METAL      => 30,
-        Legacies_Empire::RESOURCE_CRISTAL    => 15,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 1.6,
-        Legacies_Empire::RESOURCE_FORMULA    => array(
-            Legacies_Empire::RESOURCE_METAL     => 'return "0";',
-            Legacies_Empire::RESOURCE_CRISTAL   => 'return (20 * $BuildLevel * pow((1.1), $BuildLevel)) * (0.1 * $BuildLevelFactor);',
-            Legacies_Empire::RESOURCE_DEUTERIUM => 'return "0";',
-            Legacies_Empire::RESOURCE_ENERGY    => 'return -(10 * $BuildLevel * pow((1.1), $BuildLevel)) * (0.1 * $BuildLevelFactor);'
-            )
-        ),
-
-    Legacies_Empire::ID_BUILDING_DEUTERIUM_SYNTHETISER => array(
-        Legacies_Empire::RESOURCE_METAL      => 150,
-        Legacies_Empire::RESOURCE_CRISTAL    => 50,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 1.5,
-        Legacies_Empire::RESOURCE_FORMULA    => array(
-            Legacies_Empire::RESOURCE_METAL     => 'return "0";',
-            Legacies_Empire::RESOURCE_CRISTAL   => 'return "0";',
-            Legacies_Empire::RESOURCE_DEUTERIUM => 'return ((10 * $BuildLevel * pow((1.1), $BuildLevel)) * (-0.002 * $BuildTemp + 1.28)) * (0.1 * $BuildLevelFactor);',
-            Legacies_Empire::RESOURCE_ENERGY    => 'return -(30 * $BuildLevel * pow((1.1), $BuildLevel)) * (0.1 * $BuildLevelFactor);'
-            )
-        ),
-
-    Legacies_Empire::ID_BUILDING_SOLAR_PLANT => array(
-        Legacies_Empire::RESOURCE_METAL      => 50,
-        Legacies_Empire::RESOURCE_CRISTAL    => 20,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 0,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 1.5,
-        Legacies_Empire::RESOURCE_FORMULA    => array(
-            Legacies_Empire::RESOURCE_METAL     => 'return "0";',
-            Legacies_Empire::RESOURCE_CRISTAL   => 'return "0";',
-            Legacies_Empire::RESOURCE_DEUTERIUM => 'return "0";',
-            Legacies_Empire::RESOURCE_ENERGY    => 'return (20 * $BuildLevel * pow((1.1), $BuildLevel)) * (0.1 * $BuildLevelFactor);'
-            )
-        ),
-
-    Legacies_Empire::ID_BUILDING_FUSION_REACTOR => array(
-        Legacies_Empire::RESOURCE_METAL      => 500,
-        Legacies_Empire::RESOURCE_CRISTAL    => 200,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 100,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 1.8,
-        Legacies_Empire::RESOURCE_FORMULA    => array(
-            Legacies_Empire::RESOURCE_METAL     => 'return "0";',
-            Legacies_Empire::RESOURCE_CRISTAL   => 'return "0";',
-            Legacies_Empire::RESOURCE_DEUTERIUM => 'return -(10 * $BuildLevel * pow((1.1), $BuildLevel)) * (0.1 * $BuildLevelFactor);',
-            Legacies_Empire::RESOURCE_ENERGY    => 'return (50 * $BuildLevel * pow((1.1), $BuildLevel)) * (0.1 * $BuildLevelFactor);'
-            )
-        ),
-// }}}
-
-//
-// Ships production
-// {{{
-    Legacies_Empire::ID_SHIP_SOLAR_SATELLITE => array(
-        Legacies_Empire::RESOURCE_METAL      => 0,
-        Legacies_Empire::RESOURCE_CRISTAL    => 2000,
-        Legacies_Empire::RESOURCE_DEUTERIUM  => 500,
-        Legacies_Empire::RESOURCE_ENERGY     => 0,
-        Legacies_Empire::RESOURCE_MULTIPLIER => 0.5,
-        Legacies_Empire::RESOURCE_FORMULA    => array(
-            Legacies_Empire::RESOURCE_METAL     => 'return "0";',
-            Legacies_Empire::RESOURCE_CRISTAL   => 'return "0";',
-            Legacies_Empire::RESOURCE_DEUTERIUM => 'return "0";',
-            Legacies_Empire::RESOURCE_ENERGY    => 'return (($BuildTemp / 4) + 20) * $BuildLevel * (0.1 * $BuildLevelFactor);'
-            )
-        )
-// }}}
-    );
-
-$reslist = array(
-//
-// Buildings type
-// {{{
-    Legacies_Empire::TYPE_BUILDING => array(
-        Legacies_Empire::ID_BUILDING_METAL_MINE,
-        Legacies_Empire::ID_BUILDING_CRISTAL_MINE,
-        Legacies_Empire::ID_BUILDING_DEUTERIUM_SYNTHETISER,
-        Legacies_Empire::ID_BUILDING_SOLAR_PLANT,
-        Legacies_Empire::ID_BUILDING_FUSION_REACTOR,
-        Legacies_Empire::ID_BUILDING_ROBOTIC_FACTORY,
-        Legacies_Empire::ID_BUILDING_NANITE_FACTORY,
-        Legacies_Empire::ID_BUILDING_SHIPYARD,
-        Legacies_Empire::ID_BUILDING_METAL_STORAGE,
-        Legacies_Empire::ID_BUILDING_CRISTAL_STORAGE,
-        Legacies_Empire::ID_BUILDING_DEUTERIUM_TANK,
-        Legacies_Empire::ID_BUILDING_RESEARCH_LAB,
-        Legacies_Empire::ID_BUILDING_TERRAFORMER,
-        Legacies_Empire::ID_BUILDING_ALLIANCE_DEPOT,
-        Legacies_Empire::ID_BUILDING_LUNAR_BASE,
-        Legacies_Empire::ID_BUILDING_SENSOR_PHALANX,
-        Legacies_Empire::ID_BUILDING_JUMP_GATE,
-        Legacies_Empire::ID_BUILDING_MISSILE_SILO
-        ),
-// }}}
-
-//
-// Research types
-// {{{
-    Legacies_Empire::TYPE_RESEARCH => array(
-        Legacies_Empire::ID_RESEARCH_ESPIONAGE_TECHNOLOGY,
-        Legacies_Empire::ID_RESEARCH_COMPUTER_TECHNOLOGY,
-        Legacies_Empire::ID_RESEARCH_WEAPON_TECHNOLOGY,
-        Legacies_Empire::ID_RESEARCH_SHIELDING_TECHNOLOGY,
-        Legacies_Empire::ID_RESEARCH_ARMOUR_TECHNOLOGY,
-        Legacies_Empire::ID_RESEARCH_ENERGY_TECHNOLOGY,
-        Legacies_Empire::ID_RESEARCH_HYPERSPACE_TECHNOLOGY,
-        Legacies_Empire::ID_RESEARCH_COMBUSTION_DRIVE,
-        Legacies_Empire::ID_RESEARCH_IMPULSE_DRIVE,
-        Legacies_Empire::ID_RESEARCH_HYPERSPACE_DRIVE,
-        Legacies_Empire::ID_RESEARCH_LASER_TECHNOLOGY,
-        Legacies_Empire::ID_RESEARCH_ION_TECHNOLOGY,
-        Legacies_Empire::ID_RESEARCH_PLASMA_TECHNOLOGY,
-        Legacies_Empire::ID_RESEARCH_INTERGALACTIC_RESEARCH_NETWORK,
-        Legacies_Empire::ID_RESEARCH_EXPEDITION_TECHNOLOGY,
-        Legacies_Empire::ID_RESEARCH_GRAVITON_TECHNOLOGY
-        ),
-// }}}
-
-//
-// Ship types
-// {{{
-    Legacies_Empire::TYPE_SHIP => array(
-        Legacies_Empire::ID_SHIP_LIGHT_TRANSPORT,
-        Legacies_Empire::ID_SHIP_LARGE_TRANSPORT,
-        Legacies_Empire::ID_SHIP_LIGHT_FIGHTER,
-        Legacies_Empire::ID_SHIP_HEAVY_FIGHTER,
-        Legacies_Empire::ID_SHIP_CRUISER,
-        Legacies_Empire::ID_SHIP_BATTLESHIP,
-        Legacies_Empire::ID_SHIP_COLONY_SHIP,
-        Legacies_Empire::ID_SHIP_RECYCLER,
-        Legacies_Empire::ID_SHIP_SPY_DRONE,
-        Legacies_Empire::ID_SHIP_BOMBER,
-        Legacies_Empire::ID_SHIP_SOLAR_SATELLITE,
-        Legacies_Empire::ID_SHIP_DESTRUCTOR,
-        Legacies_Empire::ID_SHIP_DEATH_STAR,
-        Legacies_Empire::ID_SHIP_BATTLECRUISER
-        ),
-// }}}
-
-//
-// Defense types
-// {{{
-    Legacies_Empire::TYPE_DEFENSE => array(
-        Legacies_Empire::ID_DEFENSE_ROCKET_LAUNCHER,
-        Legacies_Empire::ID_DEFENSE_LIGHT_LASER,
-        Legacies_Empire::ID_DEFENSE_HEAVY_LASER,
-        Legacies_Empire::ID_DEFENSE_ION_CANNON,
-        Legacies_Empire::ID_DEFENSE_GAUSS_CANNON,
-        Legacies_Empire::ID_DEFENSE_PLASMA_TURRET,
-        Legacies_Empire::ID_DEFENSE_SMALL_SHIELD_DOME,
-        Legacies_Empire::ID_DEFENSE_LARGE_SHIELD_DOME,
-        Legacies_Empire::ID_SPECIAL_ANTIBALLISTIC_MISSILE,
-        Legacies_Empire::ID_SPECIAL_INTERPLANETARY_MISSILE
-        ),
-// }}}
-
-//
-// Officers type
-// {{{
-    Legacies_Empire::TYPE_OFFICER => array(
-        601, 602, 603,
-        604, 605, 606,
-        607, 608, 609,
-        610, 611, 612,
-        613, 614, 615
-        ),
-// }}}
-
-//
-// Production-able elements
-// {{{
-    Legacies_Empire::TYPE_PRODUCTION => array(
-        Legacies_Empire::ID_BUILDING_METAL_MINE,
-        Legacies_Empire::ID_BUILDING_CRISTAL_MINE,
-        Legacies_Empire::ID_BUILDING_DEUTERIUM_SYNTHETISER,
-        Legacies_Empire::ID_BUILDING_SOLAR_PLANT,
-        Legacies_Empire::ID_BUILDING_FUSION_REACTOR,
-        Legacies_Empire::ID_SHIP_SOLAR_SATELLITE
-        )
-// }}}
-    );
+$reslist = include ROOT_PATH . 'includes/data/types.php';
diff --git a/xnova-legacies_2009.3/index.php b/xnova-legacies_2009.4/index.php
index 3836647..a58d9f2 100644
--- a/xnova-legacies_2009.3/index.php
+++ b/xnova-legacies_2009.4/index.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/infos.php b/xnova-legacies_2009.4/infos.php
index bba53fa..8886f0c 100644
--- a/xnova-legacies_2009.3/infos.php
+++ b/xnova-legacies_2009.4/infos.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -254,7 +254,7 @@ function ShowBuildingInfoPage ($CurrentUser, $CurrentPlanet, $BuildID) {
 	} elseif ($BuildID >= 106 && $BuildID <= 199) {
 		// Laboratoire
 		$PageTPL              = gettemplate('info_buildings_general');
-	} elseif ($BuildID >= 202 && $BuildID <= 215) {
+	} elseif ($BuildID >= 202 && $BuildID <= 216) {
 		// Flotte
 		$PageTPL              = gettemplate('info_buildings_fleet');
 		$parse['element_typ'] = $lang['tech'][200];
diff --git a/xnova-legacies_2009.3/install/index.php b/xnova-legacies_2009.4/install/index.php
diff --git a/xnova-legacies_2009.3/jumpgate.php b/xnova-legacies_2009.4/jumpgate.php
index 0bcc426..cfa43f8 100644
--- a/xnova-legacies_2009.3/jumpgate.php
+++ b/xnova-legacies_2009.4/jumpgate.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/admin/Queries.mo b/xnova-legacies_2009.4/language/en/admin/Queries.mo
index 8477349..b0f22a9 100644
--- a/xnova-legacies_2009.3/language/en/admin/Queries.mo
+++ b/xnova-legacies_2009.4/language/en/admin/Queries.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/admin/Queries.mo~ b/xnova-legacies_2009.3/language/en/admin/Queries.mo~
deleted file mode 100644
index a50ee42..0000000
--- a/xnova-legacies_2009.3/language/en/admin/Queries.mo~
+++ /dev/null
@@ -1,39 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['Qry_title']  = "Executer une commande SQL";
-$lang['qry_title'] = "Commande SQL";
-$lang['qry_succesful']    = "La commande a ete executee avec succes";
-$lang['exec_check']    = "Reelement executer la commande ?";
-$lang['qry_unsuccesful']    = "Un probleme est apparu lors de la commande, veuillez reverifier la syntaxe";
-
-$lang['md5_doit']   = "[ executer ]";
-
-?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/language/en/admin/add_fleet.mo b/xnova-legacies_2009.4/language/en/admin/add_fleet.mo
index fb38569..eb6375e 100644
--- a/xnova-legacies_2009.3/language/en/admin/add_fleet.mo
+++ b/xnova-legacies_2009.4/language/en/admin/add_fleet.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/admin/add_fleet.mo~ b/xnova-legacies_2009.3/language/en/admin/add_fleet.mo~
deleted file mode 100644
index a639d24..0000000
--- a/xnova-legacies_2009.3/language/en/admin/add_fleet.mo~
+++ /dev/null
@@ -1,63 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-
-	
-$lang['Id'] = "ID of the planet";
-
-$lang['key'] = "Light Fighter";
-
-$lang['clourd'] = "Heavy Fighter";
-
-$lang['pt'] = "Small Cargo";
-
-$lang['gt'] = "Large Cargo";
-
-$lang['cruise'] = "Cruiser";
-
-$lang['vb'] = "Battleship";
-
-$lang['colo'] = "Colony Ship";
-
-$lang['rc'] = "Recycler";
-
-$lang['spy'] = "Espionage Probe's";
-
-$lang['bomb'] = "Bombarder";
-
-$lang['Solar'] = "Solar Satellite";
-
-$lang['from'] = "Destroyer";
-
-$lang['rip'] = "Death Star";
-
-$lang['TRAQ'] = "Tracker";
-
-?>
diff --git a/xnova-legacies_2009.3/language/en/admin/addmoon.mo b/xnova-legacies_2009.4/language/en/admin/addmoon.mo
index c3db19b..76cbf64 100644
--- a/xnova-legacies_2009.3/language/en/admin/addmoon.mo
+++ b/xnova-legacies_2009.4/language/en/admin/addmoon.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/admin/addmoon.mo~ b/xnova-legacies_2009.3/language/en/admin/addmoon.mo~
deleted file mode 100644
index 8939382..0000000
--- a/xnova-legacies_2009.3/language/en/admin/addmoon.mo~
+++ /dev/null
@@ -1,41 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['addm_title']    = "Ajouter une lune";
-$lang['addm_addform']  = "Formulaire d'ajout";
-$lang['addm_playerid'] = "ID de la plan&egrave;te m&egrave;re";
-$lang['addm_moonname'] = "Nom de la lune";
-$lang['addm_moongala'] = "Choisir une galaxie";
-$lang['addm_moonsyst'] = "Choisir une syst&egrave;me";
-$lang['addm_moonplan'] = "Choisir une position";
-$lang['addm_moondoit'] = "Ajouter";
-$lang['addm_done']     = "Ajout OK";
-
-?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/language/en/admin/adminpanel.mo b/xnova-legacies_2009.4/language/en/admin/adminpanel.mo
index 19ee9ea..e02fb1c 100644
--- a/xnova-legacies_2009.3/language/en/admin/adminpanel.mo
+++ b/xnova-legacies_2009.4/language/en/admin/adminpanel.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -29,8 +29,8 @@
  */
 
 $lang['adm_usr_level'][0] = "Player";
-$lang['adm_usr_level'][1] = "Operator";
-$lang['adm_usr_level'][2] = "Moderator";
+$lang['adm_usr_level'][2] = "Operator";
+$lang['adm_usr_level'][1] = "Moderator";
 $lang['adm_usr_level'][3] = "Administrator";
 $lang['adm_usr_genre']['M'] = "Male";
 $lang['adm_usr_genre']['F'] = "Female";
diff --git a/xnova-legacies_2009.3/language/en/admin/adminpanel.mo~ b/xnova-legacies_2009.3/language/en/admin/adminpanel.mo~
deleted file mode 100644
index f326d72..0000000
--- a/xnova-legacies_2009.3/language/en/admin/adminpanel.mo~
+++ /dev/null
@@ -1,67 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['adm_usr_level'][0] = "Player";
-$lang['adm_usr_level'][1] = "Operator";
-$lang['adm_usr_level'][2] = "Moderator";
-$lang['adm_usr_level'][3] = "Administrator";
-$lang['adm_usr_genre']['M'] = "Male";
-$lang['adm_usr_genre']['F'] = "Female";
-
-// Admin Strings
-$lang['panel_mainttl'] = "Admin Panel";
-// Admin Panel A Template 1
-$lang['adm_panel_mnu'] = "Find a player";
-$lang['adm_panel_ttl'] = "Search Type";
-$lang['adm_search_pl'] = "Search by Name";
-$lang['adm_search_ip'] = "Search by IP";
-$lang['adm_stat_play'] = "Player Statistics";
-$lang['adm_mod_level'] = "Modify Player Access";
-
-$lang['adm_player_nm'] = "Player Name";
-$lang['adm_ip']        = "Player IP";
-$lang['adm_plyer_wip'] = "Player's with IP";
-$lang['adm_frm1_id']   = "ID";
-$lang['adm_frm1_name'] = "Name";
-$lang['adm_frm1_ip']   = "IP";
-$lang['adm_frm1_mail'] = "E-Mail";
-$lang['adm_frm1_acc']  = "Access";
-$lang['adm_frm1_gen']  = "Genre";
-$lang['adm_frm1_main'] = "Planet ID";
-$lang['adm_frm1_gpos'] = "Position";
-$lang['adm_mess_lvl1'] = "Level of access";
-$lang['adm_mess_lvl2'] = "is now ";
-$lang['adm_colony']    = "Colonies";
-$lang['adm_planet']    = "planet";
-$lang['adm_moon']      = "Moon";
-$lang['adm_technos']   = "Research and development";
-$lang['adm_bt_search'] = "Search";
-$lang['adm_bt_change'] = "Change";
-?>
diff --git a/xnova-legacies_2009.3/language/en/admin/changepass.mo b/xnova-legacies_2009.4/language/en/admin/changepass.mo
index 4d5eef2..6aa37e6 100644
--- a/xnova-legacies_2009.3/language/en/admin/changepass.mo
+++ b/xnova-legacies_2009.4/language/en/admin/changepass.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/admin/changepass.mo~ b/xnova-legacies_2009.3/language/en/admin/changepass.mo~
deleted file mode 100644
index 859fe62..0000000
--- a/xnova-legacies_2009.3/language/en/admin/changepass.mo~
+++ /dev/null
@@ -1,38 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['md5_title']  = "Changement du code d'un joueur";
-$lang['md5_pswcyp'] = "Changez ici le code d'un joueur";
-$lang['md5_psw']    = "Mot de passe";
-
-$lang['md5_doit']   = "[ Changer le mot de passe ]";
-$lang['user_to_change']   = "Quel utilisateur ?";
-
-?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/language/en/admin/fleets.mo b/xnova-legacies_2009.4/language/en/admin/fleets.mo
index 543123a..b407989 100644
--- a/xnova-legacies_2009.3/language/en/admin/fleets.mo
+++ b/xnova-legacies_2009.4/language/en/admin/fleets.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/admin/fleets.mo~ b/xnova-legacies_2009.3/language/en/admin/fleets.mo~
deleted file mode 100644
index 8c8db2d..0000000
--- a/xnova-legacies_2009.3/language/en/admin/fleets.mo~
+++ /dev/null
@@ -1,43 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['flt_id']       = "ID";
-$lang['flt_fleet']    = "Flotte";
-$lang['flt_mission']  = "Mission";
-$lang['flt_owner']    = "D&eacute;part";
-$lang['flt_planet']   = "Plan&egrave;te";
-$lang['flt_time_st']  = "H. d&eacute;part";
-$lang['flt_e_owner']  = "Arriv&eacute;e";
-$lang['flt_time_en']  = "H. arriv&eacute;e";
-$lang['flt_staying']  = "Stat.";
-$lang['flt_action']   = "Action";
-$lang['flt_title']    = "Flottes en vol";
-
-?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/language/en/admin/md5enc.mo b/xnova-legacies_2009.4/language/en/admin/md5enc.mo
index 99fd358..7527f25 100644
--- a/xnova-legacies_2009.3/language/en/admin/md5enc.mo
+++ b/xnova-legacies_2009.4/language/en/admin/md5enc.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/admin/md5enc.mo~ b/xnova-legacies_2009.3/language/en/admin/md5enc.mo~
deleted file mode 100644
index b0ce8f3..0000000
--- a/xnova-legacies_2009.3/language/en/admin/md5enc.mo~
+++ /dev/null
@@ -1,37 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['md5_title']  = "Outil de cryptage";
-$lang['md5_pswcyp'] = "Cypter un mot de passe";
-$lang['md5_psw']    = "Mot de passe";
-$lang['md5_pswenc'] = "Mot de passe (encod&eacute;)";
-$lang['md5_doit']   = "[ encoder ]";
-
-?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/language/en/admin/messagelist.mo b/xnova-legacies_2009.4/language/en/admin/messagelist.mo
index e523744..05a503b 100644
--- a/xnova-legacies_2009.3/language/en/admin/messagelist.mo
+++ b/xnova-legacies_2009.4/language/en/admin/messagelist.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/admin/messagelist.mo~ b/xnova-legacies_2009.3/language/en/admin/messagelist.mo~
deleted file mode 100644
index 3f58fc9..0000000
--- a/xnova-legacies_2009.3/language/en/admin/messagelist.mo~
+++ /dev/null
@@ -1,57 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['mlst_title']       = "Message List";
-$lang['mlst_mess_del']    = "Effacement du message";
-$lang['mlst_hdr_page']    = "Page";
-$lang['mlst_hdr_title']   = " ) des messages :";
-$lang['mlst_hdr_prev']    = "[ &lt;- ]";
-$lang['mlst_hdr_next']    = "[ -&gt; ]";
-$lang['mlst_hdr_id']      = "ID";
-$lang['mlst_hdr_type']    = "Type";
-$lang['mlst_hdr_time']    = "Heure";
-$lang['mlst_hdr_from']    = "De";
-$lang['mlst_hdr_to']      = "Pour";
-$lang['mlst_hdr_text']    = "Contenu";
-$lang['mlst_hdr_action']  = "Sel.";
-$lang['mlst_del_mess']    = "Effacer";
-$lang['mlst_bt_delsel']   = "Effacer Selection";
-$lang['mlst_bt_deldate']  = "Effacer depuis";
-$lang['mlst_hdr_delfrom'] = "Effacer depuis";
-$lang['mlst_mess_typ__0'] = "Espionnage";
-$lang['mlst_mess_typ__1'] = "Joueur";
-$lang['mlst_mess_typ__2'] = "Alliance";
-$lang['mlst_mess_typ__3'] = "Attaque";
-$lang['mlst_mess_typ__4'] = "Exploitation";
-$lang['mlst_mess_typ__5'] = "Transport";
-$lang['mlst_mess_typ_15'] = "Expeditions";
-$lang['mlst_mess_typ_99'] = "Liste Batiment";
-
-?>
diff --git a/xnova-legacies_2009.3/language/en/admin/multi.mo b/xnova-legacies_2009.4/language/en/admin/multi.mo
index 33db73c..ef1aeb2 100644
--- a/xnova-legacies_2009.3/language/en/admin/multi.mo
+++ b/xnova-legacies_2009.4/language/en/admin/multi.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/admin/multi.mo~ b/xnova-legacies_2009.3/language/en/admin/multi.mo~
deleted file mode 100644
index ed9b5c9..0000000
--- a/xnova-legacies_2009.3/language/en/admin/multi.mo~
+++ /dev/null
@@ -1,37 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['adm_mt_title']  = "D&eacute;claration des multi-comptes";
-$lang['adm_mt_list']   = "Liste";
-$lang['adm_mt_player'] = "Joueur";
-$lang['adm_mt_text']   = "Texte";
-$lang['adm_mt_multi']  = "multi-compte(s) au total...";
-
-?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/language/en/admin/settings.mo b/xnova-legacies_2009.4/language/en/admin/settings.mo
index ee0d169..93d8dae 100644
--- a/xnova-legacies_2009.3/language/en/admin/settings.mo
+++ b/xnova-legacies_2009.4/language/en/admin/settings.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/admin/settings.mo~ b/xnova-legacies_2009.3/language/en/admin/settings.mo~
deleted file mode 100644
index f169e22..0000000
--- a/xnova-legacies_2009.3/language/en/admin/settings.mo~
+++ /dev/null
@@ -1,75 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['adm_opt_title']         = "Server Configuration";
-$lang['adm_opt_game_settings'] = "Game Setting's";
-$lang['adm_opt_game_name']     = "Game Name";
-$lang['adm_opt_game_gspeed']   = "Game Speed<br>(normal = 2500)";
-$lang['adm_opt_game_fspeed']   = "Fleet Speed<br>(normal = 2500)";
-$lang['adm_opt_game_pspeed']   = "Production Speed<br>(normal = 1)";
-$lang['adm_opt_game_forum']    = "Forum Address";
-$lang['adm_opt_game_copyrigh'] = "Copyright";
-$lang['adm_opt_game_online']   = "Online Status";
-$lang['adm_opt_game_offreaso'] = "Offline Reason";
-$lang['adm_opt_plan_settings'] = "Planet Parameter";
-$lang['adm_opt_plan_initial']  = "Homeworld<br/>Size";
-$lang['adm_opt_plan_base_inc'] = "Average basic ";
-$lang['adm_opt_game_debugmod'] = "Debug Mode";
-$lang['adm_opt_game_oth_info'] = "More Info";
-$lang['adm_opt_game_oth_bann'] = "Diplay Banner";
-$lang['adm_opt_game_oth_news'] = "Show under news";
-$lang['adm_opt_game_oth_chat'] = "Show under external chat";
-$lang['adm_opt_game_oth_adds'] = "ADS GOOGLE";
-$lang['adm_opt_game_oth_lstc'] = "Last homeworld coordinates";
-$lang['adm_opt_game_oth_gala'] = "Galaxy";
-$lang['adm_opt_game_oth_syst'] = "System";
-$lang['adm_opt_game_oth_plan'] = "Planet";
-$lang['adm_opt_btn_save']      = "Save";
-$lang['adm_opt_warning1']      = "The GD library on your Apache server must be activated!";
-$lang['adm_opt_menu_link_enable']      = "Enable customizable link?<br> (1 = yes, 0 = no)";  
-$lang['adm_opt_menu_link_text']      = "Link Name <br>(si activ&eacute;)"; 
-$lang['adm_opt_menu_link_url']      = "Link URL <br>(si activ&eacute;)"; 
-$lang['adm_opt_control_pages']      = "Control the pages displayed on the menu"; 
-$lang['enable_the_anounces']      = "Show Ads?<br> (Oui = 1, Non = 0)"; 
-$lang['enable_the_marchand']      = "Show Merchant?<br> (yes = 1, no = 0)"; 
-$lang['enable_the_notes']      = "Show Note's?<br> (yes = 1, no = 0)"; 
-$lang['multi_bot_settings']      = "Multi bot settings"; 
-$lang['bot_name_multi']      = "Bot Name<br/> (Will be displayed in pillory)"; 
-$lang['bot_adress_multi']      = "Reply to address of the bot <br>(weill be displayed in pillory)"; 
-$lang['bot_ban_duration']      = "Duration of ban by bot<br>(hours)"; 
-$lang['bot_active']      = "Bot active<br>(1 = active, 0 = inactive)<br>By default, the bot is disabled"; 
-$lang['stat_settings_desc']      = "Statistic's settings";
-$lang['stat_desc']      = "1 Point = ";
-$lang['stat_units']      = "Resources Expended";
-$lang['banner']      = "Banner";
-$lang['source_banner']      = "Source <u>PNG</u> of the banner";
-$lang['banner_currently_installed']      = "Banniere actuellement installee";
-
-?>
diff --git a/xnova-legacies_2009.3/language/en/admin/statconfig.mo b/xnova-legacies_2009.4/language/en/admin/statconfig.mo
index bfa7977..197af7d 100644
--- a/xnova-legacies_2009.3/language/en/admin/statconfig.mo
+++ b/xnova-legacies_2009.4/language/en/admin/statconfig.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/admin/statconfig.mo~ b/xnova-legacies_2009.3/language/en/admin/statconfig.mo~
deleted file mode 100644
index 3481851..0000000
--- a/xnova-legacies_2009.3/language/en/admin/statconfig.mo~
+++ /dev/null
@@ -1,38 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['adm_delay_actu_stats'] 	= "Dur&eacute;e du traitement :";
-$lang['adm_mem_start']			= "M&eacute;moire consomm&eacute;e au d&eacute;but :";
-$lang['adm_peak_mem']			= "Pique M&eacute;moire :";
-$lang['adm_mem_finish']			= "M&eacute;moire consomm&eacute;e &agrave; la fin :";
-$lang['adm_units']				= "Ko";
-$lang['adm_new_line']			= "<br />";
-
-?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/language/en/admin.mo b/xnova-legacies_2009.4/language/en/admin.mo
index f27c0f0..56f70dd 100644
--- a/xnova-legacies_2009.3/language/en/admin.mo
+++ b/xnova-legacies_2009.4/language/en/admin.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/admin.mo~ b/xnova-legacies_2009.3/language/en/admin.mo~
deleted file mode 100644
index 1266520..0000000
--- a/xnova-legacies_2009.3/language/en/admin.mo~
+++ /dev/null
@@ -1,146 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-//Tweaks vue g�n�rale
-$lang['usr_email']               = "Email";
-$lang['xp_raid']               = "Experience Raids";
-$lang['xp_min']               = "Experience Miner";
-$lang['lang_vacancy']    = "Vacation mode";
-$lang['is_in_vacancy']    = "Vacation mode active";
-$lang['not_in_vacancy']               = "Vacation mode inactive";
-$lang['is_banned_lang']               = "No";
-$lang['banned_lang']               = "Banned?"; 
-$lang['usr_current_planet']               = "Planet";
-$lang['usr_current_page']               = "Page actuellement vision&eacute;e";
-
-$lang['oups_youre_banned']               = "Your account has been suspended";
-$lang['user_is_banned_for']               = "You have been banned for the following reason: ";
-$lang['banned_until']               = "You have been banned until ";
-$lang['who_has_banned']    = "By game operator";
-
-$lang['adm_ul_data_ip_reg']    = "IP registration";
-
-
-$lang['messages_settings']               = "Setting messages and message content";
-$lang['bbcode_settings']               = "Setting BBCode<br>(0 = off, 1 = enabled)";
-
-
-$lang['adm_done']               = "Completed";
-$lang['adm_stat_title']         = "Statistics";
-$lang['adm_cleaner_title']      = "Clean Queue Construction";
-$lang['adm_cleaned']            = "Number of queues removed: ";
-$lang['Fix']                    = "Update";
-$lang['Welcome_to_Fix_section'] = "Welcome to the update of";
-$lang['There_is_not_need_fix']  = "The update has been done!";
-$lang['Fix_welldone']           = "The update has been made.";
-
-$lang['adm_ov_title'] = "Overview";
-$lang['adm_ov_infos'] = "Information";
-$lang['adm_ov_yourv'] = "Your version";
-$lang['adm_ov_lastv'] = "Version available";
-$lang['adm_ov_here']  = "here";
-$lang['adm_ov_onlin'] = "Online";
-$lang['adm_ov_ally']  = "Alliance";
-$lang['adm_ov_point'] = "Points";
-$lang['adm_ov_activ'] = "Activity";
-$lang['adm_ov_count'] = "Players Online";
-$lang['adm_ov_wrtpm'] = "Send a PM";
-$lang['adm_ov_altpm'] = "[PM]";
-
-
-$lang['adm_ul_title'] = "Player's List";
-$lang['adm_ul_ttle2'] = "Registered Player's";
-$lang['adm_ul_id']    = "ID";
-$lang['adm_ul_name']  = "Player Name";
-$lang['adm_ul_mail']  = "Email Address";
-$lang['adm_ul_adip']  = "IP Address";
-$lang['adm_ul_regd']  = "Registration";
-$lang['adm_ul_lconn'] = "Last login";
-$lang['adm_ul_bana']  = "Banned";
-$lang['adm_ul_detai'] = "Details";
-$lang['adm_ul_actio'] = "Action";
-$lang['adm_ul_playe'] = " player(s)";
-$lang['adm_ul_yes']   = "Yes";
-$lang['adm_ul_no']    = "No";
-
-$lang['adm_pl_title'] = "Active planets";
-$lang['adm_pl_activ'] = "Planet active";
-$lang['adm_pl_name']  = "Planet's name";
-$lang['adm_pl_posit'] = "Position";
-$lang['adm_pl_point'] = "Point";
-$lang['adm_pl_since'] = "Activity";
-$lang['adm_pl_they']  = "There is";
-$lang['adm_pl_apla']  = "planet(s) active(s)";
-
-$lang['adm_am_plid']  = "ID of the planet";
-$lang['adm_am_done']  = "Added OK";
-$lang['adm_am_ttle']  = "Adding Resources";
-$lang['adm_am_add']   = "Add";
-$lang['adm_am_form']  = "Add form";
-
-$lang['adm_bn_ttle']  = "Banning a player";
-$lang['adm_bn_plto']  = "Player to ban";
-$lang['adm_bn_name']  = "Player name";
-$lang['adm_bn_reas']  = "Reason for ban";
-$lang['adm_bn_time']  = "Duration";
-$lang['adm_bn_days']  = "Day's";
-$lang['adm_bn_hour']  = "Hour's";
-$lang['adm_bn_mins']  = "Minutes";
-$lang['adm_bn_secs']  = "Second's";
-$lang['adm_bn_bnbt']  = "Ban";
-$lang['adm_bn_thpl']  = "The player";
-$lang['adm_bn_isbn']  = "has been banned!";
-
-$lang['adm_rz_ttle']  = "Remise &agrave; z&eacute;ro de l'univers";
-$lang['adm_rz_done']  = " Utilisateur(s) transf&eacute;r&eacute;(s)";
-$lang['adm_rz_conf']  = "Confirmation";
-$lang['adm_rz_text']  = "En appuyant sur Accepter, vous remettrez &agrave; z&eacute;ro votre Univers. Seul les comptes ne sont pas effac&eacute;es. Cette op&eacute;ration ne peut pas &ecirc;tre annul&eacute; par la suite, il est donc conseill&eacute; d'avoir une sauvegarde de votre base de donn&eacute;e!";
-$lang['adm_rz_doit']  = "Accepter";
-
-$lang['adm_ch_ttle']  = "Administration du chat";
-$lang['adm_ch_list']  = "Liste des messages";
-$lang['adm_ch_clear'] = "vider";
-$lang['adm_ch_msg']   = "Message";
-$lang['adm_ch_delet'] = "Supprimer";
-$lang['adm_ch_play']  = "Joueur";
-$lang['adm_ch_time']  = "Date";
-$lang['adm_ch_nbs']   = "messages(s) au total...";
-
-$lang['adm_er_ttle']  = "Erreurs r&eacute;pertori&eacute;es";
-$lang['adm_er_list']  = "Messages d'erreur";
-$lang['adm_er_clear'] = "vider la liste";
-$lang['adm_er_idmsg'] = "ID";
-$lang['adm_er_type']  = "Type";
-$lang['adm_er_play']  = "Num&eacute;ro du joueur";
-$lang['adm_er_time']  = "Date";
-$lang['adm_er_delete']= "Supprimer";
-$lang['adm_er_nbs']   = "erreur(s) au total...";
-
-?>
diff --git a/xnova-legacies_2009.3/language/en/alliance.mo b/xnova-legacies_2009.4/language/en/alliance.mo
index b1ac904..5aa343a 100644
--- a/xnova-legacies_2009.3/language/en/alliance.mo
+++ b/xnova-legacies_2009.4/language/en/alliance.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/alliance.mo~ b/xnova-legacies_2009.3/language/en/alliance.mo~
deleted file mode 100644
index 084d5a1..0000000
--- a/xnova-legacies_2009.3/language/en/alliance.mo~
+++ /dev/null
@@ -1,169 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['alliance'] = 'Alliances';
-$lang['your_alliance'] = 'your alliance';
-$lang['make_alliance_owner'] = 'Founder of alliance';
-$lang['search_alliance'] = 'Search for alliance';
-$lang['make_alliance'] = 'Found your own alliance';
-$lang['search_alliance'] = 'Search';
-$lang['New_name'] = 'New name';
-$lang['Change'] ='Change';
-$lang['How_you_will_call_the_alliance_in_the_future'] = 'What name do you want?';
-
-
-$lang['searched_alliance_availables'] = 'We found the following alliances:';
-$lang['alliance_has_been_maked'] = '%s alliance was created';
-$lang['have_not_tag'] = 'Alliance has no TAG!';
-$lang['have_not_name'] = 'Alliance has no name!';
-$lang['always_exist'] = '%s already exists';
-$lang['ally_maked'] = '%s creates';
-$lang['ally_notexist'] = 'alliance does not exist';
-$lang['Send_circular_mail'] = 'Send circular message';
-$lang['Text_mail'] = 'Send mail group';
-$lang['Members_list'] = 'Members List';
-$lang['Alliance_admin'] = 'Alliance admin';
-$lang['Range'] = 'Your rank';
-$lang['Members'] = 'Members';
-$lang['Name'] = 'Name';
-$lang['Tag'] = 'TAG';
-$lang['Circular_message'] = 'Circular message';
-$lang['Inner_section'] = 'Internal Area';
-$lang['Main_Page'] = 'Home Page';
-
-$lang['alliance_tag'] = 'Alliance TAG';
-$lang['allyance_name'] = 'Alliance Name';
-$lang['members'] = 'Member\'s';
-$lang['member'] = 'Member';
-$lang['Novate'] = 'Novice';
-
-$lang['Founder'] = 'Founder';
-
-$lang['Circular_sended'] = 'The following players have received the mail';
-
-//Solicitud
-$lang['it_is_not_posible_to_apply'] = "It is impossible for you to apply";
-$lang['write_apply'] = "Submit application";
-$lang['your_apply'] = 'Your application';
-$lang['apply_registered'] = 'Your application has been saved. You will receive a message if you are accepted.<br><a href=alliance.php>Back</a>';
-$lang['apply_cantbeadded'] = 'Demand has failed, please try again!';
-
-$lang['Exit_of_this_alliance'] = "Leave this alliance";
-$lang['Continue'] = "Continue";
-$lang['All_players'] = 'All players';
-$lang['Send_Apply'] = 'Submit application';
-$lang['Delete_apply'] = 'Remove the application';
-$lang['Send'] = 'Send';
-$lang['Ok'] = 'Ok';
-$lang['Reload'] = 'Reload';
-$lang['Clear'] = 'Clear';
-$lang['Back'] = 'Back';
-$lang['Help'] = 'Little help';
-$lang['Message'] = 'Message';
-$lang['characters'] = 'characters';
-$lang['Destiny'] = 'To';
-
-$lang['Write_to_alliance'] = 'Send an application to [%s]';
-
-$lang['There_is_no_a_text_apply'] = 'There is no text apply.';
-$lang['Waiting_a_request_text'] = 'You already submitted your application to [%s].  Please wait for it to be approved or withdraw it.';
-$lang['Canceled_a_request_text'] = '[%s] has declined your application.  You may now submit a new application or create your own alliance.';
-
-$lang['Online'] = 'Online';
-$lang['Ammount'] = 'Ammount';
-$lang['Name'] = 'Name';
-$lang['Number'] = 'No.';
-$lang['Position'] = 'Status';
-$lang['Points'] = 'Points';
-$lang['Coordinated'] = 'Coord';
-$lang['Member_from'] = 'Membership';
-$lang['Function'] = 'Online';
-$lang['Write_a_message'] = 'Write a message';
-$lang['On'] = 'Online';
-$lang['15_min'] = '15 min';
-$lang['Off'] = 'Offline';
-
-//Admin
-$lang['Transfer_alliance'] = 'Delete / Transfer Alliance';
-$lang['Texts'] = 'Administration of text';
-$lang['External_text'] = 'External Text';
-$lang['Internal_text'] = 'Internal Text';
-$lang['Request_text'] = 'Full Application';
-$lang['Show_of_request_text'] = 'Number of application\'s';
-
-$lang['Law_settings'] = 'Configure Rights';
-$lang['Members_administrate'] = 'Manager Members';
-
-$lang['Return_to_overview'] = 'Back to overview';
-$lang['Configure_laws'] = 'Configure Rights';
-$lang['Range_name'] = 'Name of Rank';
-$lang['Range_make'] = 'Create a new rank';
-$lang['Delete_range'] = '<img src="/images/ally/delete.gif"';
-$lang['Make'] = 'Create';
-$lang['Law_leyends'] = 'List of rights';
-$lang['Alliance_dissolve'] = 'Dissolve the alliance';
-$lang['Expel_users'] = 'Delete player';
-$lang['See_the_requests'] = 'View applications';
-$lang['See_the_list_members'] = 'List of members';
-$lang['Check_the_requests'] = 'Manage Applications';
-$lang['See_the_online_list_member'] = 'See online status in the list of members';
-$lang['Make_a_circular_message'] = 'Send circular mail';
-$lang['Left_hand_text'] = "Right hand (Needed to exchange founder position.)";
-$lang['Save'] = 'Save';
-$lang['There_is_not_range'] = 'There are no rights.';
-$lang['s'] = '[N/A]';
-
-$lang['Change_the_ally_tag'] = 'Change alliance TAG';
-$lang['Change_the_ally_name'] = 'Change alliance Name';
-$lang['Options'] = "Options";
-$lang['Alliance_logo'] = "Alliance Logo";
-$lang['Requests'] = 'Application';
-$lang['Allow_request'] = 'possible (alliance open)';
-$lang['No_allow_request'] = 'impossible (alliance closed)';
-$lang['Founder_name'] = 'Name of founder';
-$lang['Reset'] = "Reset";
-
-
-$lang['Apply_ally_overview'] = "View Applications";
-$lang['Candidate'] = "Name";
-
-$lang['Date_of_the_request'] = "Date of Application";
-$lang['Search'] = "Search";
-$lang['Request_responde'] = 'Respond to this request';
-$lang['Motive_optional'] = 'Reason\'s Optional';
-$lang['Go_out_welldone'] = 'Do you really want out of this alliance?';
-$lang['Want_go_out'] = 'Want to get out of this alliance?';
-
-
-
-$lang['Denied_access'] = 'Vous ne disposez pas des droits n&eacute;cessaires !';
-
-// Created by Ichigo. All rights reversed (C) 2006 
-?>
diff --git a/xnova-legacies_2009.3/language/en/announce.mo~ b/xnova-legacies_2009.3/language/en/announce.mo~
deleted file mode 100644
index 99b5c26..0000000
--- a/xnova-legacies_2009.3/language/en/announce.mo~
+++ /dev/null
@@ -1,23 +0,0 @@
-<?php
-
-$lang['add_announce']                = 'Add an announcement';
-$lang['metal']                       = 'Metal';
-$lang['crystal']                     = 'Crystal';
-$lang['deuterium']                   = 'Deuterium';
-$lang['Resources_to_be_sold']        = 'Resources to be sold';
-$lang['Desired_resources']           = 'Wanted resources';
-$lang['send']                        = 'Send';
-$lang['Your_announce_was_recorded']  = 'Your announce was sent successfully';
-$lang['return_to_announce']          = 'Return to announces';
-$lang['Classifieds']                 = 'Published announces';
-$lang['Action']                      = 'Action';
-$lang['Galaxy']                      = 'Galaxy';
-$lang['Solar_system']                = 'Solar system';
-$lang['Infos_of_delivery']           = 'Announcer information';
-$lang['Salesman']                    = 'User';
-$lang['Delete']                      = 'Delete';
-$lang['announce_status']             = 'Announce status';
-$lang['Your_announce_not_recorded']  = 'Your announce was not sent';
-$lang['Your_announce_was_deleted']   = 'Your announce was successfully deleted';
-
-?>
diff --git a/xnova-legacies_2009.3/language/en/banned.mo b/xnova-legacies_2009.4/language/en/banned.mo
index 633dbb1..7ab1bd8 100644
--- a/xnova-legacies_2009.3/language/en/banned.mo
+++ b/xnova-legacies_2009.4/language/en/banned.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/banned.mo~ b/xnova-legacies_2009.3/language/en/banned.mo~
deleted file mode 100644
index a4931a6..0000000
--- a/xnova-legacies_2009.3/language/en/banned.mo~
+++ /dev/null
@@ -1,41 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['ban_title']    = "List of banned player's";
-$lang['ban_name']     = "Name";
-$lang['ban_reason']   = "Reason for ban";
-$lang['ban_from']     = "From";
-$lang['ban_to']       = "To";
-$lang['ban_by']       = "By";
-$lang['ban_no']       = "There are no players banned";
-$lang['ban_thereare'] = "There is";
-$lang['ban_players']  = "player's banned";
-
-?>
diff --git a/xnova-legacies_2009.3/language/en/buddy.mo b/xnova-legacies_2009.4/language/en/buddy.mo
index 8ebedca..78c5e3a 100644
--- a/xnova-legacies_2009.3/language/en/buddy.mo
+++ b/xnova-legacies_2009.4/language/en/buddy.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/buddy.mo~ b/xnova-legacies_2009.3/language/en/buddy.mo~
deleted file mode 100644
index 4fb694e..0000000
--- a/xnova-legacies_2009.3/language/en/buddy.mo~
+++ /dev/null
@@ -1,61 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['Request_sent'] = 'Request send.';
-$lang['Buddy_request'] = 'Friend Request';
-$lang['A_request_exists_already_for_this_user'] = 'A friend request already exists for that user.';
-$lang['You_cannot_ask_yourself_for_a_request'] = 'You are not allowed to send yourself a buddy request...';
-$lang['Buddy_list'] = 'Liste d\'amis';
-$lang['There_is_no_request'] = 'Pas de requetes';
-$lang['Request_text'] = 'Texte de de requete';
-$lang['characters'] = 'caract&egrave;res';
-$lang['Back'] = 'Revenir en arri&egrave;re';
-$lang['Send'] = 'Envoyer';
-$lang['Delete_request'] = 'Supprimer la requete';
-$lang['Ok'] = 'Accepter';
-$lang['Reject'] = 'Rejeter';
-$lang['Delete'] = 'Supprimer';
-$lang['On'] = 'En ligne';
-$lang['15_min'] = '15 min';
-$lang['Off'] = 'Hors ligne';
-$lang['Player'] = 'Joueur';
-
-$lang['Name'] = 'Nombre';
-$lang['User'] = 'Utilisateur';
-$lang['Alliance'] = 'Alliance';
-$lang['Coordinates'] = 'Coordonnees';
-$lang['Position'] = 'Position';
-$lang['Text'] = 'Texte';
-$lang['Requests'] = 'Requetes';
-$lang['My_requests'] = 'Mes requetes';
-$lang['Anothers_requests'] = 'Autres requetes';
-
-// Created by Perberos. All rights reversed (C) 2006
-?>
diff --git a/xnova-legacies_2009.3/language/en/buildings.mo b/xnova-legacies_2009.4/language/en/buildings.mo
index 8ae0d88..6c9e5a0 100644
--- a/xnova-legacies_2009.3/language/en/buildings.mo
+++ b/xnova-legacies_2009.4/language/en/buildings.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/buildings.mo~ b/xnova-legacies_2009.3/language/en/buildings.mo~
deleted file mode 100644
index afc8b9a..0000000
--- a/xnova-legacies_2009.3/language/en/buildings.mo~
+++ /dev/null
@@ -1,67 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['Fleet']            = "Fleet";
-$lang['Defense']          = "Defense";
-$lang['Research']         = "Research Laboratory";
-$lang['level']            = "level";
-$lang['dispo']            = "Available";
-$lang['Requirements']     = "Requirement\'s: ";
-$lang['Requires']         = "Resource requirements ";
-$lang['Rest_ress']        = "Remaining resources ";
-$lang['Rechercher']       = "Research";
-$lang['ConstructionTime'] = "Construction Duration ";
-$lang['Construire']       = " Build ";
-$lang['BuildFirstLevel']  = "Build";
-$lang['BuildNextLevel']   = "Build level ";
-$lang['completed']        = "Completed";
-$lang['in_working']       = "Working";
-$lang['work_todo']        = "Work";
-$lang['total_left_time']  = "Time left";
-$lang['only_one']         = "You can only build a single shield";
-$lang['Build_lab']        = "Standard Building's";
-$lang['NoMoreSpace']      = "Planet full!";
-$lang['InBuildQueue']     = "In build queue";
-$lang['bld_usedcells']    = "Slots used";
-$lang['bld_theyare']      = "It remains";
-$lang['bld_cellfree']     = "Slots free";
-$lang['DelFromQueue']     = "Remove";
-$lang['DelFirstQueue']    = "Interrupt";
-$lang['cancel']           = "Cancel";
-$lang['continue']         = "Continue";
-$lang['ready']            = "Ready";
-$lang['destroy']          = "Destroy";
-$lang['on']               = "on";
-$lang['attention']        = "Attention banishment is close dirty cheater! Your action has been reported!";
-$lang['no_laboratory']    = "Requires Research Laboratory!";
-$lang['need_hangar']      = "Shipyard required";
-$lang['labo_on_update']   = "Impossible to research while upgrading Research Laboratory!";
-
-?>
diff --git a/xnova-legacies_2009.3/language/en/changelog.mo b/xnova-legacies_2009.4/language/en/changelog.mo
index 54caa44..279486e 100644
--- a/xnova-legacies_2009.3/language/en/changelog.mo
+++ b/xnova-legacies_2009.4/language/en/changelog.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/changelog.mo~ b/xnova-legacies_2009.3/language/en/changelog.mo~
deleted file mode 100644
index 200f6f1..0000000
--- a/xnova-legacies_2009.3/language/en/changelog.mo~
+++ /dev/null
@@ -1,234 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['Version']     = 'Version';
-$lang['Description'] = 'D&eacute;scription';
-$lang['changelog']   = array(
-
-
-'<font color="lime">0.8e</font>' => '- ADD : Fonction SecureArray() pour les variables POST et GET (Bono)
-- ADD : Les administrateurs choisissent desormais le fond de la baniere... (Bono)
-- ADD : Mode vacances + Production a 0 + Interdiction de construire(Prethorian)
-',
-
-'<font color="lime">0.8d</font>' => '- ADD : Les administrateurs voient d&eacute;sormais quelle page est consult&eacute;e par quel joueur (Bono)
-- ADD : Bot antimulticompte, personnalisation et activation/d&eacute;sactivation a volont&eacute;...  (Bono)
-- ADD : Politique de customisation du serveur entam&eacute;e...  (Bono)
-- ADD : Possibilit&eacute; d\'activer/personnaliser/customiser un lien personnalis&eacute; (Bono)
-- ADD : Possibilit&eacute; d\'afficher/desactiver des liens dans le menu (Bono)
-- FIX : Lien vers les alliances corrig&eacute;
-- NEW: Destruction des lunes (juju67)
-- NEW: Stationnement chez un alli&eacute; (juju67)
-- FIX: Lien vers la galaxie du joueur dans la fonction de recherche',
-
-
-
-'0.8c' => 'Modules et corrections (e-Zobar)
-- NEW: Fonction copyright &eacute;tendus
-- NEW: G&eacute;n&eacute;rateur de banni&egrave;re-profil (signatures pour forum) dans \'Vue g&eacute;n&eacute;rale\' (d&eacute;sactivable)
-- ADD: D&eacute;claration des multi-comptes
-- FIX: Nombreuses erreurs visuelles: admin chat, r&egrave;gles
-- FIX: Variable root_path sur toutes les pages
-- FIX: S&eacute;curit&eacute; panneau d\'administration
-- FIX: Illustrations officiers manquantes
-- ADD: Message d\'accueil &agrave; l\'inscription (Tom1991)
-- ADD: Affichage points raids (Tom1991)',
-
-'0.8b' => 'Correction de bugs (Chlorel)
-- ADD: Fonction de remise &agrave; z&eacute;ro du joueur qui triche
-- FIX: Liste des plan&egrave;tes tri&eacute;es dans la vue empire
-- FIX: Liste des plan&egrave;tes tri&eacute;es dans la vue g&eacute;n&eacute;rale aussi
-- FIX: Mise &agrave; de toutes les plan&egrave;tes au passage par la vue g&eacute;n&eacute;rale et la vue empire',
-
-'0.8a' => 'Correction de bugs (Chlorel)
-- FIX: message.php ne fait plus d\'erreurs SQL quand y pas de message
-- FIX: Correction page records pour pouvoir prendre en compte ou pas les admins
-- NEW: phalange version recod&eacute;e ... a tester sous toutes les coutures
-- FIX: Plus de possibilit&eacute; d\'espionner sans sondes
-- MOD: Mise en forme des chiffres dans les rapports de combat (avec des .)
-- MOD: Modification du template de login pour qu\'il passe par display avec 1 seul <body>
-- FIX: Suppression d\'une cause possible d\'erreurs MySQL
-- FIX: Extraction des dernieres chaines de la vue generale
-- FIX: Surprise pour les cheater au marchand !
-- FIX: Fonction DeleSelectedUser efface aussi les planetes maintenant
-- ADD: Page des r&egrave;gles (XxmangaxX)',
-
-'0.8' => 'Infos (Chlorel)
-- FIX: Skin sur nouvel installeur
-- DIV: Travaux esthetique sur l\'ensemble des fichiers
-- FIX: Oublie de modification d\'appel sur quelques functions nouvellement modifiees',
-
-'0.7m' => 'Correction de bugs (Chlorel)
-- ADD: Interface d\'activation de protection des plan&egrave;tes
-- FIX: Les lunes vont a nouveau au bon joueur et pas a "un" joueur quand elles sont crees depuis l\'administration
-- FIX: Overview Evenements de flottes (les personnelles pour le moment) utilisent a present le css (default.css)
-- MOD: Adaption de diverses fonctions a l\'utilisation du css
-- FIX: Chat interne (divers ajustements) (e-Zobar)',
-
-'0.7k' => 'Correction de bugs (Chlorel)
-- FIX: Retour de flotte en transport
-- ADD: Protection des planetes d\'administration
-- MOD: Liste des joueurs dans la section admin liens sur les ent&ecirc;tes pour tri
-- MOD: Page g&eacute;n&eacute;rale section admin avec liens sur les ent&ecirc;tes pour tri
-- FIX: Lors de l\'utilisation d\'un skin autre que celui d\'XNova, il s\'applique aussi en section admin
-- FIX: Ajout du lune dans le panneau d\'administration (e-Zobar)
-- ADD: Mode transf&egrave;re dans l\'installateur (e-Zobar)',
-
-'0.7j' => 'Correction de bugs (Chlorel)
-- FIX: On peut a nouveau retirer une construction de la queue de fabrication
-- FIX: On peut a nouveau envoyer une flotte en transport entre deux planetes
-- FIX: La liste des raccourcis dans la selection de la cible fonctionne a nouveau
-- FIX: On ne peut plus detruire un batiment que l\'on ne possede pas
-- ADD: Tout beau tout nouveau installeur (e-Zobar)
-- FIX: Rarcellage de hieroglyphes (e-Zobar)',
-
-'0.7i' => 'Correction de bugs (Chlorel)
-- Suppression cheat +1
-- Ajustement des dur&eacute;e de vols / consommation des flottes entre le code PHP et le code JAVA
-- Tri des colonies par le joueur dans options
-- Preparation du multiskin dans options
-- Divers amenagements dans le code pour les Administrateurs (Liste de messages, Liste de Joueurs)
-- Travaux sur le skin (e-Zobar)
-- Travaux sur l\'installeur (e-Zobar)',
-
-'0.7h' => 'Correction de bugs (Chlorel)
-- Interface Officier refaite
-- Ajout blocage des "refresh meta"
-- Ajustement de divers Bugs
-- Correction de divers textes (flousedid)
-- Correction de defauts visuels (e-Zobar)',
-
-'0.7g' => 'Correction diverses (Chlorel)
-- Modification de l\'ordre du traitement de la liste de construction de batiments
-- Mise en conformit&eacute; du code pour une seule commande "echo"
-- Quelques modules de r&eacute;&eacute;crits
-- Correction bug de d&eacute;doublement de flotte
-- Mise &agrave; jour dynamique de la taille des silos, production des mines et de l\'&eacute;nergie
-- Divers adaptations dans la section admin (e-Zobar)
-- Modification lourde du style XNova (e-Zobar)',
-
-'0.7f' => 'Informations et porte de saut: (Chlorel)
-- Nouvelle page d\'information completement repens&eacute;e
-- Nouvelle interface porte de saut int&eacute,gr&eacute;e a la page d\'information
-- Nouvelle gestion de l\'affichage des rapid fire dans la page d\'information
-- Multitude de correction faites par e-Zobar',
-
-'0.7e' => 'Partout et nulle part : (Chlorel)
-- Nouvelle page registration (mise au standard)
-- Nouvelle page records (mise en conformit&eacute; avec le site)
-- Modif kernel (y en a pas mal mais pas possible de toutes les expliquer l&agrave; et de toutes maniere pas
-  grand monde ne serait capable de les comprendre',
-
-'0.7d' => 'Partie admin : (e-Zobar)
-- menage dans pas mal de modules
-- alignement du menu au style de fonctionnement du site
-- traduction complete de ce qui n\'etait pas encore en francais',
-
-'0.7c' => 'Statistiques : (Chlorel)
-- Suppression des appels base de donn&eacute;es de l\ancien systeme de Statistiques
-- Bug Impossibilit&eacute; de fabriquer des defenses ou des elements de flotte n\'utilisant pas de metal
-- Bug Comme certains petits rigolos s\'amusent a lancer des quantit&eacute;es enormes de vaisseau dans
-  une meme ligne de la queue de construction vaisseau, nous en sommes arriv&eacute;s a limiter le nombre
-  d\'element fabriquable par ligne donc maximum 1000 vaisseaux ou defenses a la fois !!
-- Bug erreur lors de la selection planete par la combo
-- Mise a jour de l\'installeur',
-
-'0.7b' => 'Statistiques : (Chlorel)
-- Reecriture de la page de Statistique (appell&eacute;e par l\'utilisateur)
-- Les stat alliance s\'affichent !
-- Ecriture du generateur admin des stats
-- Separation des stats de l\'enregistrement utilisateur (les stats on leur propre base de donn&eacute;es)',
-
-'0.7a' => 'Divers : (Chlorel)
-- Bug Technologies (la duree de recherche apparait a nouveau quand on revient dans le laboratoire
-- Bug Missiles (mis a plat de la port&eacute;e des missiles interplanetaires, et mise en place de la limite de fabrication par rapport a la taille du silo)
-- Bug Port&eacute;e des phalange corrig&eacute; (on ne peut plus phalanger toute la galaxie)
-- Bug Correction de la conssomation de deuterium quand on passe par le menu galaxie',
-
-'0.7' => 'Building :
-- Reecriture de la page
-- Modularisation
-- Correction bugs de statistiques
-- Debugage de la liste de construction batiments
-- Diverses retouches (Chlorel)
-- Divers debug (au fil de l\'eau) (e-Zobar)
-- Ajout de fonction sur la vue principale (Tom1991)',
-
-'0.6b' => 'Divers :
-- Correction & Ajouts de fonctions pour les officiers (Tom1991)
-- Menage dans les scripts java inclus (Chlorel)
-- Correction divers bug (Chlorel)
-- Mise en place version 0.5 de la liste de construction batiments (Chlorel)',
-
-'0.6a' => 'Graphisme :
-- Ajout Skin XNova (e-Zobar)
-- Correction d\'effets nefastes (e-Zobar)
-- Ajout de bugs involotaires (Chlorel)',
-
-'0.6' => 'Galaxy (suite): (by Chlorel)
-- Modification et reecriture de flottenajax.php
-- Modification des routine javascript et ajax pour permettre les modification dynamiques de la galaxie
-- Corrections bug dans certains liens des popups
-- Definition nouveau protocole d\'appel, dorenavant meme sur une lune, la galaxie s\'affiche a partir de la bonne position
-- Correction des appels de recyclage
-- Ajout module "Officier" (by Tom1991)',
-
-'0.5' => 'Galaxy: (by Chlorel)
-- Decoupage ancien module
-- Modification systeme de generation des popup dans la vue de la galaxie
-- Modularisation de la generation de page',
-
-'0.4' => 'Overview: (by Chlorel)
-- Mise en forme ancien module
-- Gestion de l\'affichage des flotte personnelle 100%
-- Modification affichage des lunes quand presentes
-- Correction bug renommer les lunes (pour qu\'elles soient effectivement renomm&eacute;es)',
-
-'0.3' => 'Gestion de flottes: (by Chlorel)
-- Modification / modularisation / documentation de la boucle de gestion des vols 100%
-- Modification Mission d\'espionnage 100%
-- Modification Mission de Colonisation 100%
-- Modification Mission Transport 100%
-- Modification Mission Stationnement 100%
-- Modification Mission Recyclage 100%',
-
-'0.2' => 'Corrections
-- Ajouts de la version 0.5 des Exploration (by Tom1991)
-- Modification de la boucle de controle des flottes 10% (by Chlorel)',
-
-'0.1' => 'Merge des version flotte:
-- Mise en place de la strat&eacute;gie de developpement
-- Mise en place de nouvelles pages de gestion de flotte',
-
-'0.0' => 'Version de depart:
-- Base du repack a Tom1991',
-);
-
-?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/language/en/chat.mo b/xnova-legacies_2009.4/language/en/chat.mo
index a54b66d..8106fce 100644
--- a/xnova-legacies_2009.3/language/en/chat.mo
+++ b/xnova-legacies_2009.4/language/en/chat.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/chat.mo~ b/xnova-legacies_2009.3/language/en/chat.mo~
deleted file mode 100644
index 5710f32..0000000
--- a/xnova-legacies_2009.3/language/en/chat.mo~
+++ /dev/null
@@ -1,39 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['Chat']  = "Tchat";
-$lang['chat_loading']  = "Chargement en cours...";
-$lang['chat_disc']     = "Discution en direct";
-$lang['chat_message']  = "Message";
-$lang['chat_short']    = "Raccourcis";
-$lang['chat_text']     = "Texte";
-$lang['chat_send']     = "Envoyer";
-
-?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/language/en/contact.mo b/xnova-legacies_2009.4/language/en/contact.mo
index 0d6cdcb..5376b35 100644
--- a/xnova-legacies_2009.3/language/en/contact.mo
+++ b/xnova-legacies_2009.4/language/en/contact.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/contact.mo~ b/xnova-legacies_2009.3/language/en/contact.mo~
deleted file mode 100644
index 7c52de7..0000000
--- a/xnova-legacies_2009.3/language/en/contact.mo~
+++ /dev/null
@@ -1,37 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['ctc_title'] = "Contact";
-$lang['ctc_intro'] = "Ici vous trouverez les adresses pour contacter les op&eacute;rateurs";
-$lang['ctc_name']  = "Name";
-$lang['ctc_rank']  = "Rank";
-$lang['ctc_mail']  = "E-Mail";
-
-?>
diff --git a/xnova-legacies_2009.3/language/en/cookies.mo b/xnova-legacies_2009.4/language/en/cookies.mo
index 86c6d2f..a7217dd 100644
--- a/xnova-legacies_2009.3/language/en/cookies.mo
+++ b/xnova-legacies_2009.4/language/en/cookies.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/cookies.mo~ b/xnova-legacies_2009.3/language/en/cookies.mo~
deleted file mode 100644
index 435c8e7..0000000
--- a/xnova-legacies_2009.3/language/en/cookies.mo~
+++ /dev/null
@@ -1,35 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['cookies']['Error1'] = 'Erreur de cookies ! Il y a plusieur utilisateurs de ce nom !<a href=login.php>Login</a> Veuillez supprimer vos cookies. En cas de probl&egrave;mes contactez l\'admin';
-$lang['cookies']['Error2'] = 'Erreur de cookies ! Votre cookie ne correspond pas a l\'utilisateur !<a href=login.php>Login</a> Veuillez supprimer vos cookies. En cas de probl&egrave;mes contactez l\'admin';
-$lang['cookies']['Error3'] = 'Erreur de cookies ! Erreur de session, vous devez vous reconnecter !<a href=login.php>Login</a> Veuillez supprimer vos cookies. En cas de probl&egrave;mes contactez l\'admin';
-
-?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/language/en/credit.mo b/xnova-legacies_2009.4/language/en/credit.mo
index 1fd0d51..84c14b3 100644
--- a/xnova-legacies_2009.3/language/en/credit.mo
+++ b/xnova-legacies_2009.4/language/en/credit.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/credit.mo~ b/xnova-legacies_2009.3/language/en/credit.mo~
deleted file mode 100644
index a73157f..0000000
--- a/xnova-legacies_2009.3/language/en/credit.mo~
+++ /dev/null
@@ -1,53 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['cred_link']    = 'Liens';
-$lang['cred_site']    = 'Site';
-$lang['cred_forum']   = 'Forum';
-$lang['cred_credit']  = 'Cr&eacute;dits';
-$lang['cred_creat']   = 'Fondateur';
-$lang['cred_prog']    = 'Programmeur';
-$lang['cred_master']  = 'Chef';
-$lang['cred_design']  = 'Designer';
-$lang['cred_web']     = 'Webmaster';
-$lang['cred_thx']     = 'Remerciements';
-$lang['cred_based']   = 'Qui a servi de base &agrave; XNova';
-$lang['cred_start']   = 'Pour avoir accueilli XNova &agrave; ses d&eacute;buts';
-
-$lang['cred_ext']     = 'Copyright &eacute;tendus';
-$lang['cred_info']    = 'Informations';
-$lang['cred_infotxt'] = 'La page de cr&eacute;dit n\'a pas vocation d\'&ecirc;tre modifi&eacute;e  car elle garantie votre droit d\'utiliser XNova pour votre propre serveur. Vous n\'avez donc pas la permission de changer ce qu\'elle contient par d&eacute;faut. Cependant, gr&acirc;ce au syst&egrave;me de copyright &eacute;tendus, vous avez la possibilit&eacute; d\'afficher votre nom en dessous des d&eacute;veloppeurs officiels et ainsi prot&eacute;ger vos innovations.';
-$lang['cred_added']   = 'Seront visibles sur la page cr&eacute;dit';
-$lang['cred_name']    = 'Pseudos (une ligne par pseudo)';
-$lang['cred_funct']   = 'Fonctions (une ligne par fonction)';
-$lang['cred_save']    = 'Sauvegarder';
-$lang['cred_done']    = 'Copyright chang&eacute;s avec succ&egrave;s!';
-
-?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/language/en/fleet.mo b/xnova-legacies_2009.4/language/en/fleet.mo
index 8ef7450..93b768b 100644
--- a/xnova-legacies_2009.3/language/en/fleet.mo
+++ b/xnova-legacies_2009.4/language/en/fleet.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/fleet.mo~ b/xnova-legacies_2009.3/language/en/fleet.mo~
deleted file mode 100644
index 4101841..0000000
--- a/xnova-legacies_2009.3/language/en/fleet.mo~
+++ /dev/null
@@ -1,152 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['fl_title'] = "Fleet: ";
-$lang['fl_expttl'] = "Expeditions";
-$lang['fl_id'] = "No.";
-$lang['fl_mission'] = "Mission";
-$lang['fl_count'] = "Number";
-$lang['fl_from'] = "Departure";
-$lang['fl_start_t'] = "Time Sent";
-$lang['fl_dest'] = "Destination";
-$lang['fl_dest_t'] = "Time<br>target";
-$lang['fl_back_t'] = "Time<br>back";
-$lang['fl_back_in'] = "Back In";
-$lang['fl_order'] = "Order";
-$lang['fl_get_to'] = "(A)";
-$lang['fl_get_to_ttl'] = "Go";
-$lang['fl_back_to'] = "(R)";
-$lang['fl_back_to_ttl'] = "Back";
-$lang['fl_associate'] = "Linking";
-$lang['fl_noslotfree'] = "All fleet slot's are used";
-$lang['fl_notback'] = "This fleet has not returned!";
-$lang['fl_onlyyours'] = "You may only recall your fleets!";
-$lang['fl_isback'] = "The fleet is back!";
-$lang['fl_sback'] = "Back";
-$lang['fl_error'] = "Error";
-$lang['fl_new_miss'] = "New misson: select the ship's";
-$lang['fl_fleet_typ'] = "Ship Type";
-$lang['fl_fleet_disp'] = "Available";
-$lang['fl_noplanetrow'] = "An internal problem occured!";
-$lang['fl_fleetspeed'] = "Speed: ";
-$lang['fl_selmax'] = "max";
-$lang['fl_sur'] = "/";
-$lang['fl_continue'] = "Continue";
-$lang['fl_noships'] = "No ship's";
-$lang['fl_unselectall'] = "Unselect All";
-$lang['fl_selectall'] = "Select All";
-
-// floten1.php
-$lang['fl_floten1_ttl'] = "Send Fleet";
-$lang['fl_noenought'] = "Not enough ship's available!";
-$lang['fl_speed'] = "Speed";
-$lang['fl_planet'] = "Planet";
-$lang['fl_ruins'] = "Debris";
-$lang['fl_moon'] = "Moon";
-$lang['fl_dist'] = "Distance";
-$lang['fl_fltime'] = "Time (One way)";
-$lang['fl_time_go'] = "Time (One way)";
-$lang['fl_time_back'] = "Time of arrival (Return)";
-$lang['fl_deute_need'] = "Fuel consumption";
-$lang['fl_speed_max'] = "Max speed.";
-$lang['fl_max_load'] = "Load capacity";
-$lang['fl_shortcut'] = "Shortcuts";
-$lang['fl_shortlnk'] = "(Add / Edit)";
-$lang['fl_shrtcup1'] = "(P)";
-$lang['fl_shrtcup2'] = "(D)";
-$lang['fl_shrtcup3'] = "(M)";
-$lang['fl_noshortc'] = "No shortcuts";
-$lang['fl_myplanets'] = "My Planet's";
-$lang['fl_nocolonies'] = "No colonies";
-$lang['fl_grattack'] = "Grouped Attack's";
-
-// floten2.php
-$lang['fl_ressources'] = "Ressources";
-$lang['fl_allressources'] = "Toutes les ressources";
-$lang['fl_space_left'] = "Restant";
-
-// floten3.php
-$lang['fl_fleet_err'] = "Fleet Error!";
-$lang['fl_fleet_err_pl'] = "Invalid Planet Destination!";
-$lang['fl_ownpl_err'] = "Action impossible!";
-$lang['fl_unknow_target'] = "Action impossible!";
-$lang['fl_used_target'] = "Action impossible!";
-$lang['fl_bad_mission'] = "Misson invalid!";
-$lang['fl_vacation_ttl'] = "Vacation Mode";
-$lang['fl_vacation_pla'] = "The player is in vacation mode!";
-$lang['fl_noob_title'] = "Noobie Protection";
-$lang['fl_noob_mess_n'] = "The player is still a noobie!";
-$lang['fl_noenoughtgoods'] = "Not enough resources!";
-$lang['fl_bad_planet01'] = "This planet is inhabited!";
-$lang['fl_bad_planet02'] = "This planet is already busy!";
-$lang['fl_dont_stay_here'] = "You may not park your fleet at a enemy base!";
-$lang['fl_no_allydeposit'] = "There is no alliance depot!";
-$lang['fl_no_self_attack'] = "You may not attack yourself!";
-$lang['fl_no_self_spy'] = "You may not probe yourself!";
-$lang['fl_only_stay_at_home'] = "You may not park a fleet away from home!";
-$lang['fl_cheat_speed'] = "You may not cheat the fleet speed!";
-$lang['fl_cheat_origine'] = "Attempted to cheat the world out!";
-$lang['fl_limit_planet'] = "<li>Wrong Planet!</li>";
-$lang['fl_limit_system'] = "<li>Wrong System!</li>";
-$lang['fl_limit_galaxy'] = "<li>Wrong Galaxy!</li>";
-$lang['fl_no_planet_type'] = "Wrong Destination!";
-$lang['fl_no_fleetarray'] = "Invalid fleet array!";
-$lang['fl_noressources'] = "You do not have enough resources. Consumption of deuterium: ";
-$lang['fl_nostoragespa'] = "You do not have enough cargo space. Available ";
-$lang['fl_fleet_send'] = "Fleet Send";
-$lang['fl_expe_warning'] = "Warning! Expedition's are risky missions, it is not recommended to use this feature for your fleet!";
-$lang['fl_expe_staytime'] = "Parking time";
-$lang['fl_expe_hours'] = "Time (h)";
-$lang['fl_expe_notech'] = "You do not have the right tecnology's for the expedition";
-$lang['fl_expe_max'] = "You can not send no more fleet's on this expedition !";
-$lang['fl_adm_attak'] = "You are about to attacking an administrator.  Your fleet could possibly be destroyed in retaliation.";
-$lang['fl_warning'] = "Warning";
-
-$lang['res']['fleet'] = array(
-//Naves
-202 => "Small Cargo",
-203 => "Large Cargo",
-204 => "Light Fighter",
-205 => "Large Fighter",
-206 => "Cruiser",
-207 => "Battleship",
-208 => "Colony Ship",
-209 => "Recycler",
-210 => "Espionage Probe",
-211 => "Bomber",
-212 => "Solar Satellite",
-213 => "Destroyer",
-214 => "Deathstar",
-215 => "Tracker",
-);
-
-
-// Created by Ichigo. All rights reversed (C) 2006
-?>
diff --git a/xnova-legacies_2009.3/language/en/galaxy.mo b/xnova-legacies_2009.4/language/en/galaxy.mo
index d51a478..4928fb9 100644
--- a/xnova-legacies_2009.3/language/en/galaxy.mo
+++ b/xnova-legacies_2009.4/language/en/galaxy.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/galaxy.mo~ b/xnova-legacies_2009.3/language/en/galaxy.mo~
deleted file mode 100644
index 73b77d7..0000000
--- a/xnova-legacies_2009.3/language/en/galaxy.mo~
+++ /dev/null
@@ -1,133 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['Galaxy'] = 'Galaxy';
-$lang['Solar_system'] = 'Solar System';
-$lang['Afficher'] = "Display";
-$lang['Show'] = 'Show';
-$lang['vacation_shortcut'] = "v";
-$lang['banned_shortcut'] = "b";
-$lang['inactif_7_shortcut'] = "i";
-$lang['inactif_28_shortcut'] = "I";
-$lang['strong_player_shortcut'] = "f";
-$lang['weak_player_shortcut'] = "d";
-
-$lang['Legend'] = 'Legend';
-$lang['Strong_player'] = 'Strong player';
-$lang['Weak_player'] = 'Weak player(noobie protection)';
-$lang['Way_vacation'] = 'Vacation Mode';
-$lang['Pendent_user'] = 'Blocked';
-$lang['Inactive_7_days'] = 'Inactive +7';
-$lang['Inactive_28_days'] = 'Inactive +28';
-
-$lang['Solar_system_at'] = 'Solar System';
-
-$lang['Pos'] = 'Pos';
-$lang['Planet'] = 'Planet';
-$lang['Name'] = 'Name (Activity)';
-$lang['Moon'] = 'Moon';
-$lang['Debris'] = 'Debris';
-$lang['caracters'] = "Features";
-$lang['diameter'] = "Diameter";
-$lang['temperature'] = "Temperature";
-$lang['Player'] = 'Player (Status)';
-$lang['Place'] = 'Place';
-$lang['State'] = 'Status';
-$lang['Alliance'] = 'Alliance';
-$lang['Actions'] = 'Actions';
-//info tips (galaxy_row_ally)
-$lang['AllyInfoText'] = 'Alliance %n';//%n = ally_name ; %r = ally_rank ; %m = ally_members ;
-$lang['Planets_count'] = '( Inhabited Planet: %n (s) )';
-//Sackando la flota
-$lang['Sending_fleet'] = 'Send Fleet';
-$lang['Sent_fleet'] = 'Fleet sent';
-$lang['Obtaining_data'] = 'Waiting for data';
-//Errores en sackando
-$lang['an_error_has_happened_while_it_was_sent'] = 'An error has occurred';
-$lang['error_there_is_no_moon'] = 'There is no moon';
-$lang['error_the_player_is_under_the_protection_of_beginners'] = 'Under noobie protection';
-$lang['error_the_player_is_too_strong'] = 'This player is to strong!';
-$lang['error_the_player_is_in_way_vacation'] = 'This player is on vacation!';
-$lang['error_only_x_available_probes_sending'] = 'Not enough probes';
-$lang['error_there_are_no_available_probes_of_spying'] = 'There are no probes';
-$lang['error_you_cannot_send_any_more_fleets'] = 'THere are no empty fleet slot!';
-$lang['error_you_do_not_have_sufficient_deuterium'] = 'Not a sufficient amount of deuterium!';
-$lang['There_is_not_planet'] = 'There is no planet!';
-$lang['error_there_is_no_sufficient_fuel'] = 'There is not a sufficient amount of fuel!';
-$lang['multialarm'] = 'Alarm';
-
-$lang['gm_all'] = "Everything";
-$lang['gm_launch'] = "Launching Missles";
-$lang['gm_send'] = "Send";
-$lang['gm_target'] = "Target: ";
-$lang['gm_restmi'] = "Number of missle's (<b>%d</b> remaining): ";
-$lang['gl_espionner'] = "Spy";
-$lang['gl_mipattack'] = "Attack with inplanetary missles";
-$lang['gl_with'] = "with";
-$lang['gl_membre'] = "Member";
-$lang['gl_ally_internal'] = "Aliance Page";
-$lang['gl_ally_web'] = "Alliance Website";
-$lang['gl_sendmess'] = "Write a message";
-$lang['gl_buddy'] = "Friends List";
-$lang['gl_buddyreq'] = "Send a buddy request";
-$lang['gl_stats'] = "Statistic's";
-$lang['gl_planet'] = "Planet";
-$lang['gl_destroyedplanet'] = "Destroyed Planet";
-$lang['gl_phalanx'] = "Phalanx";
-$lang['gl_ressource'] = "Resources";
-$lang['gl_action'] = "Action";
-$lang['gs_c601'] = "Error, no planet";
-$lang['gs_c602'] = "Error, data outside the known universe";
-$lang['gs_c603'] = "Error, the player cant be attacked because of the noobie protection.";
-$lang['gs_c604'] = "Error, the player cant be attacked and is far too strong for you.";
-$lang['gs_c605'] = "Error, the player is in vacation mode.";
-$lang['gs_c610a'] = "Error, with";
-$lang['gs_c610b'] = " probes.  You do not have enough probes";
-$lang['gs_c611'] = "Error, You do not have enough ships available";
-$lang['gs_c612'] = "Error, Not enough fleet slots.";
-$lang['gs_c613'] = "Error, Not enough deuterium available.";
-$lang['gs_c616'] = "Error, Multialarm!";
-$lang['gs_c618'] = "Error, Vous essayez visiblement de vous attaquer vous meme!";
-$lang['gs_c619'] = "Error, Vous n'etes pas de taille!";
-$lang['gs_sending'] = "Shipping";
-$lang['gs_to'] = "toward";
-$lang['Sending'] = 'Send';
-
-$lang['gf_cntmone'] = "Planets colonized";
-$lang['gf_cntmnone'] = "Planet is not populated";
-$lang['gf_cntmsome'] = "Populated Planet's";
-$lang['gf_mi_title'] = "Interplanetary Missile";
-$lang['gf_fleetslt'] = "Fleet used slots";
-$lang['gf_rc_title'] = "Recycler Available";
-$lang['gf_sp_title'] = "Espionage Probe's available";
-$lang['gf_unknowsp'] = "Infinate Space";
-
-// Created by Perberos. All rights reversed (C) 2006
-?>
diff --git a/xnova-legacies_2009.3/language/en/imperium.mo b/xnova-legacies_2009.4/language/en/imperium.mo
index e73a8b3..ea48cc3 100644
--- a/xnova-legacies_2009.3/language/en/imperium.mo
+++ b/xnova-legacies_2009.4/language/en/imperium.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/imperium.mo~ b/xnova-legacies_2009.3/language/en/imperium.mo~
deleted file mode 100644
index f025de2..0000000
--- a/xnova-legacies_2009.3/language/en/imperium.mo~
+++ /dev/null
@@ -1,46 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['imperium_vision'] = "General oversight of the empire";
-$lang['name'] = "Name";
-$lang['coordinates'] = "Coordinates";
-$lang['fields'] = "fields";
-$lang['resources'] = "Resources";
-$lang['metal'] = "Metal";
-$lang['crystal'] = "Crystal";
-$lang['deuterium'] = "Deuterium";
-$lang['energy'] = "Energy";
-$lang['buildings'] = "Buildings";
-$lang['investigation'] = "Laboratory";
-$lang['ships'] = "Fleet";
-$lang['defense'] = "Defense";
-
-// Created by Perberos. All rights reserved (C) 2006 
-?>
diff --git a/xnova-legacies_2009.3/language/en/index.mo b/xnova-legacies_2009.4/language/en/index.mo
index 4b4035c..de56c28 100644
--- a/xnova-legacies_2009.3/language/en/index.mo
+++ b/xnova-legacies_2009.4/language/en/index.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/index.mo~ b/xnova-legacies_2009.3/language/en/index.mo~
deleted file mode 100644
index 517021b..0000000
--- a/xnova-legacies_2009.3/language/en/index.mo~
+++ /dev/null
@@ -1,34 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-
-$lang['NoFrames'] = "Ton navigateur n'accepte pas les frames.";
-
-?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/language/en/infos.mo b/xnova-legacies_2009.4/language/en/infos.mo
index 3a3eb9e..541e0b9 100644
--- a/xnova-legacies_2009.3/language/en/infos.mo
+++ b/xnova-legacies_2009.4/language/en/infos.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/infos.mo~ b/xnova-legacies_2009.3/language/en/infos.mo~
deleted file mode 100644
index e8eebbc..0000000
--- a/xnova-legacies_2009.3/language/en/infos.mo~
+++ /dev/null
@@ -1,245 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-// Interface !
-$lang['nfo_page_title']  = "Information";
-$lang['nfo_title_head']  = "Information regarding";
-$lang['nfo_name']        = "Name";
-$lang['nfo_destroy']     = "Destroy";
-$lang['nfo_level']       = "Level";
-$lang['nfo_range']       = "Phalanx range";
-$lang['nfo_used_energy'] = "Consumption of Energy";
-$lang['nfo_used_deuter'] = "Consumption of Deuterium";
-$lang['nfo_prod_energy'] = "Production of Energy";
-$lang['nfo_difference']  = "Difference";
-$lang['nfo_prod_p_hour'] = "Production/hour";
-$lang['nfo_needed']      = "Nessecary";
-$lang['nfo_dest_durati'] = "Time until Destruction";
-
-$lang['nfo_struct_pt']   = "Structure";
-$lang['nfo_shielf_pt']   = "Shield Power";
-$lang['nfo_attack_pt']   = "Attack Power";
-$lang['nfo_rf_again']    = "Rapidfire against";
-$lang['nfo_rf_from']     = "Rapidfire from";
-$lang['nfo_capacity']    = "Cargo Capacity";
-$lang['nfo_units']       = "Units";
-$lang['nfo_base_speed']  = "Base Speed";
-$lang['nfo_consumption'] = "Fuel Consumption (Deuterium)";
-
-// ----------------------------------------------------------------------------------------------------------
-// Interface porte de saut
-$lang['gate_start_moon'] = "Moon Departure";
-$lang['gate_dest_moon']  = "Destination moon:";
-$lang['gate_use_gate']   = "Use the Jump Gate";
-$lang['gate_ship_sel']   = "Selection of ship's";
-$lang['gate_ship_dispo'] = "available";
-$lang['gate_jump_btn']   = "Jump";
-$lang['gate_jump_done']  = "The jump was finished.  Next jump ready in: ";
-$lang['gate_wait_dest']  = "Please wait while the jump gate charges.  Next jump ready in: ";
-$lang['gate_no_dest_g']  = "There is no jump gate on planet that you want to jump to.";
-$lang['gate_wait_star']  = "Shipment of energy has not arrived at the jumpgate : ";
-$lang['gate_wait_data']  = "Error, there is no data for the jump!";
-
-// ----------------------------------------------------------------------------------------------------------
-// Batiments Mines!
-$lang['info'][1]['name']          = "Metal Mine";
-$lang['info'][1]['description']   = "	
-The metal used in building construction, the raw material is the cheapest but it is indispensable. Its production uses little energy.";
-$lang['info'][2]['name']          = "Crystal Mine";
-$lang['info'][2]['description']   = "All construction requires crystal, its extraction requires great energy. Its production is interdependent with the metal.";
-$lang['info'][3]['name']          = "Deuterium Synthesizer";
-$lang['info'][3]['description']   = "Deuterium is the fuel for ships. It has great economic value, its production generates profits that serve the research it provides for.";
-
-// ----------------------------------------------------------------------------------------------------------
-// Batiments Energie!
-$lang['info'][4]['name']          = "Solar Power";
-$lang['info'][4]['description']   = "Solar radiation is converted into energy. Thermal power plants are the main producers of electricity for operation of the industry.";
-$lang['info'][12]['name']         = "Fusion Power Plant";
-$lang['info'][12]['description']  = "The higher the level of your plant, the more you produce energy. Attention your fusion power planet will consume dueterium!";
-
-// ----------------------------------------------------------------------------------------------------------
-// Batiments Généraux!
-$lang['info'][14]['name']         = "Robotics Factory";
-$lang['info'][14]['description']  = "The development of this building will improve the speed of construction of buildings, ships, defense and research.";
-$lang['info'][15]['name']         = "Nanite Factory";
-$lang['info'][15]['description']  = "Improved twice as powerful robot that divides in half the time of construction of buildings and ships at each level.";
-$lang['info'][21]['name']         = "Shipyard";
-$lang['info'][21]['description']  = "Investiment in the shipyard will give you more ship's and defence and also reduce build time for current one's.";
-$lang['info'][22]['name']         = "Metal Storage";
-$lang['info'][22]['description']  = "Investing in the metal storage tank will allow for more stored metal and your tanks will not be over loaded and hault production of resource's.";
-$lang['info'][23]['name']         = "Crystal Storage";
-$lang['info'][23]['description']  = "Investing in the crystal storage tank will allow for more stored crystal and your tanks will not be over loaded and hault production of resource's.";
-$lang['info'][24]['name']         = "Deuterium Tank";
-$lang['info'][24]['description']  = "Investing in the deuterium tank will allow for more stored deuterium and you tanks will not be over loaded and hault production of resource's.";
-$lang['info'][31]['name']         = "Research Center";
-$lang['info'][31]['description']  = "The research center is needed to develop new technologies. By constructing the upper levels of the building you accelerate time to build your technology.";
-$lang['info'][33]['name']         = "Terraformer";
-$lang['info'][33]['description']  = "The continued development of the planets has rapidly raised the issue of limited living space. The construction methods and groundwater surface proved insufficient. A small group of physicists and engineers energy technology Nanite finally found the solution: terraforming. <br> Terraformer can make it habitable whole countries or even continents using huge amounts of energy. Nanite of specially developed, ensuring consistent quality of the soil, are produced continuously in this building. <br> Once built, the Terraformer can not be destroyed.";
-$lang['info'][34]['name']         = "Alliance Depot";
-$lang['info'][34]['description']  = "The supply depot parking permits extended fleet of other alliance members or fleet members to your friends list to enhance the defense of a planet. The fleets remain in orbit and receive the necessary fuel. Each level of deposit can deliver 10,000 units of deuterium with additional ships in orbit.";
-
-// ----------------------------------------------------------------------------------------------------------
-// Batiments Lune!
-$lang['info'][41]['name']         = "Lunar Base";
-$lang['info'][41]['description']  = "A moon with no atmosphere, a lunar base is needed to begin colonization. This creates an atmosphere and artificial gravity and keeps the atmosphere at a temperature bearable. A larger base increases the surface area covered by the biosphere. For each level of lunar base, three fields can be exploited to the maximum size of the moon. <br> Once built, the lunar base can not be destroyed.";
-$lang['info'][42]['name']         = "Sensor Phalanx";
-$lang['info'][42]['description']  = "Sensors of high definition scan the full spectrum of frequencies of all the radiation reaching the phalanx. The high-performance computers combine tiny energy fluctuations and thereby gain information about the movement of vessels on distant planets. This scanner requires energy as deuterium.";
-$lang['info'][43]['name']         = "Jump Gate";
-$lang['info'][43]['description']  = "The Jump Gate are huge emitters to carry ships through the galaxy without loss of time. This tranmission requires high technology and an enormous amount of energy.";
-
-$lang['info'][44]['name']         = "Missle Silo's";
-$lang['info'][44]['description']  = "Missle Silo is used to store missle's. Each silo can hold ten Anti-ballistic Missle's or five Inplentary Missle's.";
-
-// ----------------------------------------------------------------------------------------------------------
-// Laboratoire !
-$lang['info'][106]['name']        = "Espoinage Technology";
-$lang['info'][106]['description'] = "The technology of espionage focuses primarily on the comprehensive review of new sensors more efficient. This technique is more developed, more players may have information on what is happening in its environment. To the polls, the difference between the own level of intelligence and level opponent is crucial. A technical espionage higher allows more information in his report but also to have a lower probability of being discovered spying. By sending a large amount of probes, it increases the chance to discover the details but also the danger of being discovered. The technique also improves the intelligence of the fleets enemy observation. Only the level of intelligence is crucial. At level 2, the display of an attack includes the number of vessels attackers. Level 4 can see the type of vessels attackers and the total number of vessels, the level 8 the number of ships of each type. This technology is essential for the stiffness, because it allows us to see if the victim is given the means to defend the attack. It is best to develop this technology from the beginning, just after the detection of smaller carriers.";
-$lang['info'][108]['name']        = "Computer Techonology";
-$lang['info'][108]['description'] = "The technology allows computers to develop your IT infrastructure, systems become more effective and efficient. The speed and computing performance increase, thereby affording control over both fleets. Each level of computer technology increases the number of total fleet orders. A greater number of fleets allows you to raid more and therefore gain more resources. Naturally this technology serves as the merchants, they can handle more merchant fleets. Therefore it is recommended to further develop this technology throughout the course of the game";
-$lang['info'][109]['name']        = "Weapon Techonology";
-$lang['info'][109]['description'] = "The weapons technology focuses primarily on the development of weapons systems already exist. The main aim is to supply systems with more energy and focus it. This makes the weapon systems more efficient and more destructive. Each level of weapons technology increases the power of weapons units per 10% of the baseline. The weapons technology is important to keep its units competitive in the long term. An ongoing development is recommended.";
-$lang['info'][110]['name']        = "Shielding Techonology";
-$lang['info'][110]['description'] = "The shield technology focuses primarily on developing new opportunities to supply shields with energy and can therefore make them more efficient and resilient. Each level increases the efficiency of shields for every 10%.";
-$lang['info'][111]['name']        = "Armor Techonology";
-$lang['info'][111]['description'] = "Special alloys make spacecraft more resistant. Once a powerful alloy is developed, the molecular structure of the vessels is transformed by radiation and developed with the best alloy. The effectiveness of the protection increases to 10% level achieved.";
-$lang['info'][113]['name']        = "Energy Techonology";
-$lang['info'][113]['description'] = "The energy technology focuses primarily on the development of networks and energy storage. Such a well-developed technology can store more energy and more efficient transportation.";
-$lang['info'][114]['name']        = "Hyperspace Techonologu";
-$lang['info'][114]['description'] = "The integration of the 4th and 5th dimension allows the development of a new type of propulsion more powerful and effective.";
-$lang['info'][115]['name']        = "Combustion Drive";
-$lang['info'][115]['description'] = "The combustion engines operate by the principle approved of the reaction. Of matter at very high temperature is delayed and propels the ship in the opposite direction. The scope of these reactors is rather limited, but they are cheap, reliable and need little maintenance. In addition they require less space and are thus often on small vessels. The development of these reactors makes the ships faster but each level only increases speed by 10%. As the internal combustion engine are the basis of astronautics, it is best to develop them as soon as possible. After it is very important to improve for the carrier type vessels and recyclers faster.";
-$lang['info'][117]['name']        = "Impulse Drive";
-$lang['info'][117]['description'] = "The reactor pulse is based on the reaction principle saying that most of the mass of the radius is gained as a byproduct of the fusion of atoms used to produce energy required. The extra mass can be initiated.";
-$lang['info'][118]['name']        = "Hyperspace Drive";
-$lang['info'][118]['description'] = "In a spatial and temporal distortion in the environment of spacecraft, space is compressed which can travel long distances in a short time. A hyperspace propulsion highly developed allows to compress the space even more, which increases the speed of vessels of 30% per level. Requires: Hyperspace Technology (Level 3) Research Laboratory (Level 7)";
-$lang['info'][120]['name']        = "Laser Techonology";
-$lang['info'][120]['description'] = "The Laser (Light Capacity) creates a rich and intense beam energy of coherent light. These facilities are used in many areas, p. e. optical computers, laser weapons that can destroy the protection of a ship without problems and others. Laser technology is an important basis for developing other technologies for weapons. Requires: Research Lab (Level 1) Energy Technology (Level 2)";
-$lang['info'][121]['name']        = "Ion Techonology";
-$lang['info'][121]['description'] = "Death Ray consists of accelerated ions. By touching an object, it causes serious damage.";
-$lang['info'][122]['name']        = "Plasma Techonology";
-$lang['info'][122]['description'] = "A ray of evolving technology ions with devastating power.";
-$lang['info'][123]['name']        = "Intergalatic Research Network";
-$lang['info'][123]['description'] = "Researchers from several planets use this network to communicate. <br> Laboratory is added to the network for each search level. The most developed laboratories will be interconnected.";
-$lang['info'][124]['name']        = "Expedition Techonology";
-$lang['info'][124]['description'] = "Technology shipment contains various scanning technologies, allowing vessels of different sizes to be equipped with research modules. These contain a database and a small mobile laboratory. In order not to jeopardize the safety of the ship, the search is equipped with its own power and energy of an energy field generator which includes the search in case of emergency.";
-$lang['info'][199]['name']        = "Graviton Techonology";
-$lang['info'][199]['description'] = "The graviton is an energy field that allows a minimal gravity and movement easier.";
-
-// ----------------------------------------------------------------------------------------------------------
-// Flotte !
-$lang['info'][202]['name']        = "Small Cargo";
-$lang['info'][202]['description'] = "Smaller carriers have approximately the same size as the hunters, but not powerful propulsion or weapons, to have more space for cargo. The ship type small carrier can carry 5000 units of resources. The large carrier can carry five times more cargo. At the same time its protection and propulsion are more powerful. Because of their limited firepower, the type of vessels are often small carrier escorted by other vessels. <br> The development of the reactor pulse at 5 allows retool the small carrier with such reactors, while significantly accelerating the ship";
-$lang['info'][203]['name']        = "Large Cargo";
-$lang['info'][203]['description'] = "This vessel has little weapons or other technologies on board. It is therefore preferable to provide an escort who can take advantage of all its cargo capacity. With combustion engine high-performance, large carrier used for rapid transport of resources between the planets and of course he accompanied the fleet during their attacks on other planets in order to conquer maximum number of resources.";
-$lang['info'][204]['name']        = "Light Fighter";
-$lang['info'][204]['description'] = "The light fighter is very maneuverable ship that is stationed on almost all the planets. The costs are not very important, but the power of the shield and the cargo capacity is very limited.";
-$lang['info'][205]['name']        = "Heavy Fighter";
-$lang['info'][205]['description'] = "The conventionally powered no longer sufficient for the development of heavy fighter. To make future ships faster, the engineers resorted to the reactor pulse. This increases Admittedly, the costs of production, but expands the possibilities. The arrival of this propulsion can use more energy to weapons and protection, yet these vessels are produced with materials of better quality. This improves the structural integrity and firepower. The heavy fighter is a vessel much more threatening than his little brother, the light fighter. This change makes heavy fighter technology for technology cruisers.";
-$lang['info'][206]['name']        = "Crusier";
-$lang['info'][206]['description'] = "The development of lasers and heavy ion cannon sounded the death knell for the era of hunters. Despite many changes, the power of arms and the protection could not be improved enough to be able to beat those guns for defense. It was therefore decided to construct a new class of vessels with more protection and firepower. The Cruiser was created. The Cruisers have protection almost three times greater than that of hunters and their heavy firepower is more than twice as powerful. Moreover, they are very fast. There is no weapon more powerful defense against average. The Cruisers have dominated the area for nearly a century. The appearance of the electromagnetic artillery launchers and plasma ended their rule. Yet they still often used in battles against units of hunters.";
-$lang['info'][207]['name']        = "Battleship";
-$lang['info'][207]['description'] = "The Battleship play a central role in the fleet. With their heavy artillery, their considerable speed and large cargo capacity, they are respectable opponents.";
-$lang['info'][208]['name']        = "Colony Ship";
-$lang['info'][208]['description'] = "This vessel is well protected to conquer new planets, which is crucial for an empire ambitious. To colonize a new planet, the ship is dismantled and the materials used as resources for the conquest of the planet. For each empire the maximum number of planets can be colonized by more than the mother planet is 8.";
-$lang['info'][209]['name']        = "Recycler";
-$lang['info'][209]['description'] = "The dimensions of the space battles are constantly expanded. Thousands of vessels have been built, but the fields of debris appeared to be lost forever. The cargo could not approach the field of debris without the risk of being significantly damaged by debris. A new development in the technology shields helped build this new class of vessel comparable to large freighters, the recycler. Thanks to the recycler, the resources seemed to be lost can still be exploited. Even small debris did not threaten them with their new shields. Unfortunately these plants need space which limits cargo capacity of 20,000 units.";
-$lang['info'][210]['name']        = "Espionage Probe";
-$lang['info'][210]['description'] = "The probes are small spy drones to spy operable even planets at large distances. Their high performance engines allow them to travel long distances in a few seconds. Once they reach the orbit of a planet they settled there and spying. During this activity, the enemy can easily find and attack. To limit their size, they have no protection or shield of arms, that is why we can easily destroy them.";
-$lang['info'][211]['name']        = "Bomber";
-$lang['info'][211]['description'] = "Bombardier has been developed in order to destroy the defense facilities of the planets. With a telescope it launches laser plasma bombs targeted on the surface of planets and causing devastating damage. <br> Destroys Defense warming. <br> The development of the hyperspace propulsion at 8 allows the retrofit of Bombardier with this type of propellant, while significantly accelerating the ship.";
-$lang['info'][212]['name']        = "Solar Satellite";
-$lang['info'][212]['description'] = "The solar satellites are positioned in a geostationary orbit around a planet. They collect sunlight and transmit laser to the base station. The efficiency of solar satellites depends on sunlight. Naturally the amount of energy is greater when the orbit is close to the sun. With efficiency, solar satellites are the solution to the energy problems of many planets. Warning: The solar satellites can be destroyed during a battle.";
-$lang['info'][213]['name']        = "Destructer";
-$lang['info'][213]['description'] = "The Destroyer is the king of warships. His feats of war with artillery ion plasma and electromagnetic can, through its sensors target of hunters quick touch with almost 99% certainty. As they are very large, their ability to maneuver is very limited. During a battle they are therefore more comparable to a resort than a war ship of war. Their consumption of hydrogen is as great as their strength in battle.";
-$lang['info'][214]['name']        = "Death Star";
-$lang['info'][214]['description'] = "The Death Star is equipped with artillery giant gravitons which can destroy ships of the size of shredders or even a moon. As this requires a huge amount of energy it consists almost entirely of generators. A vessel of this size and that power requires a huge amount of resources and workers who can be provided only by large empires space.";
-$lang['info'][215]['name']        = "Tracker";
-$lang['info'][215]['description'] = "This vessel is the ideal elongated fuselage to destroy enemy convoys. Its new generation laser Armaments makes them capable of facing a large number of vessels at the same time. Because of its narrow body and its major weapon, the capacity available to transport resources are very limited. This is offset by the use of hyperspace propulsion reactors, fuel-efficient.";
-
-// ----------------------------------------------------------------------------------------------------------
-// Defenses !
-$lang['info'][401]['name']        = "Lanceur de Missilles";
-$lang['info'][401]['description'] = "Le Lanceur de missiles est une fa&ccedil;on simple et bon march&eacute; de se d&eacute;fendre. Comme il n'est qu'une &eacute;volution d'Armements balistiques habituelles, il n'a pas besoin de recherche. Ses faibles frais de production permettent de s'en servir pour la d&eacute;fense contre des petites flottes, par contre au fur et &agrave; mesure il perd de son importance. Apr&egrave;s il ne sert qu'&agrave; intercepter des missiles. Des rumeurs existent affirmant que les militaires sont en train de d&eacute;velopper de nouveaux lanceurs. Les installations de d&eacute;fense sont d&eacute;sactiv&eacute;es d&egrave;s qu'elles sont trop endommag&eacute;es. Apr&egrave;s une bataille, jusqu'&agrave; 70% des syst&egrave;mes endommag&eacute;s peuvent &ecirc;tre r&eacute;par&eacute;s.";
-$lang['info'][402]['name']        = "Artillerie laser l&eacute;ger";
-$lang['info'][402]['description'] = "Pour pouvoir compenser les d&eacute;veloppements &eacute;normes de la technologie Vaisseaux, les chercheurs ont d&ucirc; d&eacute;velopper un syst&egrave;me de d&eacute;fense capable de battre des vaisseaux plus grands et mieux &eacute;quip&eacute;s. Ceci &eacute;tait la naissance du blaster l&eacute;ger. Le bombardement concentr&eacute; de photons peut causer des d&eacute;g&acirc;ts nettement plus importants que les Armements balistiques habituelles. De plus, on l'a aussi &eacute;quip&eacute;e d'un bouclier plus puissant pour pouvoir r&eacute;sister aux nouvelles classes de vaisseaux. Pour garder des frais de production raisonnables, la structure n'a pas &eacute;t&eacute; renforc&eacute;e. Le laser l&eacute;ger offre une performance importante par rapport aux faibles frais et est donc est tr&egrave;s int&eacute;ressant, m&ecirc;me pour des civilisations plus d&eacute;velopp&eacute;es. Les installations de d&eacute;fense sont d&eacute;sactiv&eacute;es d&egrave;s qu'elles sont trop endommag&eacute;es. Apr&egrave;s une bataille, jusqu'&agrave; 70% des syst&egrave;mes endommag&eacute;s peuvent &ecirc;tre r&eacute;par&eacute;s.";
-$lang['info'][403]['name']        = "Artillerie laser lourde";
-$lang['info'][403]['description'] = "Le blaster lourd au laser est l'&eacute;volution cons&eacute;quente du blaster leger au laser. La structure est renforc&eacute;e et am&eacute;lior&eacute;e avec des nouveaux mat&eacute;riaux. La structure est donc plus r&eacute;sistante. En m&ecirc;me temps ont &eacute;t&eacute; aussi am&eacute;lior&eacute;s le syst&egrave;me d'&eacute;nergie et l'ordinateur de cible, ce qui permet de concentrer plus d'&eacute;nergie sur un objet. Les installations de d&eacute;fense sont d&eacute;sactiv&eacute;es d&egrave;s qu'elles sont trop endommag&eacute;es. Apr&egrave;s une bataille jusqu'&agrave; 70% des syst&egrave;mes endommag&eacute;s peuvent &ecirc;tre r&eacute;par&eacute;s.";
-$lang['info'][404]['name']        = "Canon de Gauss";
-$lang['info'][404]['description'] = "Pendant longtemps on a pens&eacute; que les Armements &agrave; projectiles seraient comme la technologie de la fusion et de l'&eacute;nergie, le d&eacute;veloppement de la propulsion de hyperespace et le d&eacute;veloppement de protections am&eacute;lior&eacute;es resteraient antiques jusqu'&agrave; ce que la technologie de l'&eacute;nergie, qui l'avait &eacute;vinc&eacute; &agrave; l'&eacute;poque, les a remises en jeu. Le principe &eacute;tait d&eacute;j&agrave; connu au 20i&egrave;me et au 21i&egrave;me si&egrave;cle - le principe d'acc&eacute;l&eacute;ration de particules. Un canon de Gauss (Canon &eacute;lectromagn&eacute;tique) n'est en fait rien d'autre qu'une version nettement plus grande du canon. Des projectiles qui p&egrave;sent des tonnes sont acc&eacute;l&eacute;r&eacute;s magn&eacute;tiquement et atteignent une vitesse telle que les particules de salet&eacute; autour du projectile br&ucirc;lent et le recul fait trembler la terre. M&ecirc;me les protections et boucliers modernes ont du mal &agrave; r&eacute;sister &agrave; cette force, ce n'est pas rare qu'un projectile traverse compl&egrave;tement un objet. Les installations de d&eacute;fense sont d&eacute;sactiv&eacute;es d&egrave;s qu'elles sont trop endommag&eacute;es. Apr&egrave;s une bataille, jusqu'&agrave; 70% des syst&egrave;mes endommag&eacute;s peuvent &ecirc;tre r&eacute;par&eacute;s.";
-$lang['info'][405]['name']        = "Artillerie &agrave; ions";
-$lang['info'][405]['description'] = "Au 21eme si&egrave;cle existait quelque chose qui se nommait PEM. Le PEM &eacute;tait le pouls &eacute;lectromagn&eacute;tique qui causait une tension suppl&eacute;mentaire dans chaque circuit, ce qui causait de nombreux incidents bloquants tous les appareils sensibles. &agrave; l'&eacute;poque, le PEM &eacute;tait bas&eacute; sur les missiles et les bombes, entre autre en relation avec des bombes atomiques. Ensuite, le PEM a &eacute;t&eacute; am&eacute;lior&eacute; pour rendre des objets incapables d'agir sans les d&eacute;truire et donc de les reprendre. Aujourd'hui, l'artillerie d'ions est la version la plus moderne du PEM. Elle lance une vague d'ions sur l'objet, ceci d&eacute;stabilise les boucliers et les parties &eacute;lectroniques - tant qu'il n'y a pas de bouclier &eacute;lectronique. Sa puissance kin&eacute;tique n'est pas importante. Les Croiseurs se servent eux aussi de la technologie d'ions, c'est d'ailleurs le seul type de vaisseau, les autres types ne disposant pas des quantit&eacute;s d'&eacute;nergie n&eacute;cessaires. Il est souvent int&eacute;ressant de ne pas d&eacute;truire un vaisseau mais de le paralyser. Les syst&egrave;mes de d&eacute;fense se d&eacute;sactivent d&egrave;s qu'ils sont trop endommag&eacute;s. Apr&egrave;s une bataille jusqu'&agrave; 70% des syst&egrave;mes endommag&eacute;s peuvent &ecirc;tre r&eacute;par&eacute;s.";
-$lang['info'][406]['name']        = "Lanceur de plasma";
-$lang['info'][406]['description'] = "La technologie laser a ensuite &eacute;t&eacute; perfectionn&eacute;e, la technologie d'ions a atteint sa phase finale. On pensait qu'il serait impossible de rendre les syst&egrave;mes d'Armements encore plus efficaces. La possibilit&eacute; de combiner les deux syst&egrave;mes a chang&eacute; la situation. D&eacute;j&agrave; connue de la technologie de fusion, des lasers chauffent des particules (le plus souvent Hydrog&eacute;ne) &agrave; une temp&eacute;rature extr&ecirc;me, parfois jusqu'&agrave; des millions de degr&eacute;s. La technologie d'ions permet le chargement &eacute;lectrique des particules, les r&eacute;seaux de stabilit&eacute; et l'acc&eacute;l&eacute;ration des particules. En &eacute;chauffant la charge, en la mettant sous pression et l'ionisant, on la lance par acc&eacute;l&eacute;ration dans l'espace en direction d'un objet. La balle de plasma est bleue et visuellement fascinante, par contre il est difficile de s'imaginer que l'&eacute;quipage du vaisseau cibl&eacute; soit tr&egrave;s heureux de la voir... Le lanceur de plasma est une des Armements les plus mena&ccedil;antes, mais cette technologie est assez ch&egrave;re. Les syst&egrave;mes de d&eacute;fense se d&eacute;sactivent d&egrave;s qu'ils sont trop endommag&eacute;s. Apr&egrave;s une bataille jusqu'&agrave; 70% des syst&egrave;mes endommag&eacute;s peuvent &ecirc;tre r&eacute;par&eacute;s.";
-$lang['info'][407]['name']        = "Petit bouclier";
-$lang['info'][407]['description'] = "Longtemps avant l'installation des g&eacute;n&eacute;rateurs de bouclier sur des vaisseaux, existaient d&eacute;j&agrave; des g&eacute;n&eacute;rateurs g&eacute;ants sur la surface des plan&egrave;tes. Ceux-ci permettaient de couvrir les plan&egrave;tes avec des champs infranchissables qui pouvaient absorber des quantit&eacute;s &eacute;normes avant de s'effondrer. Des petites flottes d'attaques &eacute;chouent souvent contre ces boucliers. Ces boucliers peuvent &ecirc;tre am&eacute;lior&eacute;s. Apr&egrave;s, on peut m&ecirc;me construire un grand bouclier qui est encore plus puissant. Pour chaque plan&egrave;te on ne peut construire qu'un seul bouclier.";
-$lang['info'][408]['name']        = "Grand bouclier";
-$lang['info'][408]['description'] = "L'am&eacute;lioration du petit bouclier. Il est bas&eacute; sur la m&ecirc;me technologie mais peut se servir de nettement plus d'&eacute;nergie pour se d&eacute;fendre.";
-
-// ----------------------------------------------------------------------------------------------------------
-// Missiles !
-$lang['info'][502]['name']        = "Missile Interception";
-$lang['info'][502]['description'] = "Le missile interception d&eacute;truit les missiles adverses. Chaque missile d'interception d&eacute;truit un missile interplan&eacute;taire.";
-$lang['info'][503]['name']        = "Missile Interplan&eacute;taire";
-$lang['info'][503]['description'] = "Les missiles interplan&eacute;taires d&eacute;truisent la d&eacute;fense adverse. Les syst&egrave;mes de d&eacute;fense d&eacute;truits par des missiles interplan&eacute;taires ne se r&eacute;parent pas.";
-
-// ----------------------------------------------------------------------------------------------------------
-// Officiers !
-$lang['info'][601]['name']        = "G&eacute;ologue";
-$lang['info'][601]['description'] = "Le g&eacute;ologue est un expert reconnu en astromin&eacute;ralogie et en astrocristallographie. Avec son &eacute;quipe d'experts en m&eacute;tallurgie et d'ing&eacute;nieurs chimiste, il assiste les gouvernements interplan&eacute;taires dans la recherche de nouvelles sources de mati&egrave;res premi&egrave;res et optimise le raffinage de celles-ci.<br><br>+5% de production. Niveau Max. : 20";
-$lang['info'][602]['name']        = "Amiral";
-$lang['info'][602]['description'] = "L'amiral de la flotte est un v&eacute;t&eacute;ran de guerre et un strat&egrave;ge redout&eacute;. M&ecirc;me lorsque le combat est acharn&eacute;, il garde le sang froid n&eacute;cessaire pour dominer la situation et est en contact permanent avec les amiraux sous ses ordres. Un empereur responsable ne saurait se passer de l'amiral de la flotte pour coordonner ses attaques et peut lui faire une telle confiance qu'il peut envoyer plus de flottes en combat.<br><br>+5% de bouclier, protection des vaisseaux et armes sur les vaisseaux. Niveau Max. : 20";
-$lang['info'][603]['name']        = "Ingenieur";
-$lang['info'][603]['description'] = "L'ing&eacute;nieur est un sp&eacute;cialiste de la gestion d'&eacute;nergie. En temps de paix, il optimise l'efficacit&eacute; des r&eacute;seaux d'&eacute;nergie des colonies.<br><br>+5% d'energie. Niveau Max. : 10";
-$lang['info'][604]['name']        = "Technocrate";
-$lang['info'][604]['description'] = "Les guildes de technocrates sont des scientifiques au g&eacute;nie reconnu. On les trouve aux endroits o&ugrave; la technique atteint ses limites. Personne ne parviendra &agrave; d&eacute;chiffrer le cryptage d'un technocrate, sa seule pr&eacute;sence inspire les chercheurs de tout l'empire.<br><br>-5% de temps de construction des vaisseaux. Niveau Max : 10";
-$lang['info'][605]['name']        = "Constructeur";
-$lang['info'][605]['description'] = "Le constructeur est un nouveau type de b&acirc;tisseur. Son ADN a &eacute;t&eacute; modifi&eacute;e pour lui conf&eacute;rer une force surhumaine. Un seul de ces \"homme\" peut construire une ville enti&egrave;re.<br><br>-10% de temps de construction. Niveau Max. : 3";
-$lang['info'][606]['name']        = "Scientifique";
-$lang['info'][606]['description'] = "Les scientifiques font partis d'une guilde concurente &agrave; celle des technocrates. Ils sont sp&eacute;cialis&eacute;s dans l'am&eacute;lioration des technologies.<br><br>-10% de temps de recherche. Niveau Max. : 3";
-$lang['info'][607]['name']        = "Stockeur";
-$lang['info'][607]['description'] = "Le stockeur fait parti de l'ancienne confr&eacute;rie de le plan&egrave;te Hsac. Sa devise est de gagner un maximum mais pour cel&agrave; il lui faut des espaces de stockage important. C'est pourquoi &agrave; l'aide du constructeur il a d&eacute;velopp&eacute; une nouvelle technique de stockage.<br><br>+50% de stockage. Niveau Max. : 2";
-$lang['info'][608]['name']        = "Defenseur";
-$lang['info'][608]['description'] = "Le defenseur est membre de l'arm&eacute;e imperiale. Son ardeur dans son travail lui permet de construire une d&eacute;fense redoutable en peu de temps dans les colonies hostile.<br><br>-50% de temps de construction de la d&eacute;fense.";
-$lang['info'][609]['name']        = "Bunker";
-$lang['info'][609]['description'] = "L'empereur a remarqu&eacute; le travail impressionnant que vous avez fournit &agrave; son empire. Pour vous remerciez il vous offre la chance de devenir Bunker. Le Bunker est la plus haute distinction de la branche Mini&egrave;re de l'arm&eacute;e imp&eacute;riale.<br><br>D&eacute;blocage du Protecteur Plan&egrave;taire";
-$lang['info'][610]['name']        = "Espion";
-$lang['info'][610]['description'] = "L'espion est une personne &eacute;nigmatique. Personne n'a jamais vu son visage r&eacute;el, a moins d'&ecirc;tre d&eacute;j&ageave; mort.<br><br>+5 Lvl D'espionnage. Niveau Max. : 2";
-$lang['info'][611]['name']        = "Commandant";
-$lang['info'][611]['description'] = "Le commandant de l'arm&eacute;e imp&eacute;riale est pass&eacute; ma&icirc;tre dans l'art du maniement des flottes. Son cerveau peut calculer les trajectoires de nombreuses flotte, beaucoup plus que celle d'un humain normal.<br><br>+3 slots de flottes. Niveau Max. : 3";
-$lang['info'][612]['name']        = "Destructeur";
-$lang['info'][612]['description'] = "Le destructeur est un officier sans piti&eacute;. Il a massacr&eacute; des plan&egrave;tes enti&egrave;res juste pour son plaisir. Il d&eacute;veloppe actuellement une nouvelle m&eacute;thode de production des &eacute;toiles de la mort.<br><br>2 RIP construites au lieu d'une. Niveau Max. : 1";
-$lang['info'][613]['name']        = "General";
-$lang['info'][613]['description'] = "Le General est une v&eacute;n&eacute;rable personne qui a servit de nombreuses ann&eacute;es dans l'arm&eacute;e. Les ouvrier constructeur de vaisseaux produisent plus vite en sa pr&eacute;sence.<br><br>+25% de vitesse des vaisseaux. Niveau Max. : 3";
-$lang['info'][614]['name']        = "Raideur";
-$lang['info'][614]['description'] = "L'empereur a rep&eacute;r&eacute; en vous des qualit&eacute;s ind&eacute;niable de conqu&eacute;rent. Il vous propose de devenir Raideur. Le Raideur est le grade le plus &eacute;lev&eacute; de la branche des raideurs de l'arm&eacute;e imp&eacute;riale<br><br>D&eacute;blocage de la SuperNova";
-$lang['info'][615]['name']        = "Empereur";
-$lang['info'][615]['description'] = "Vous avez montr&eacute; que vous &ecirc;tiez le plus grand conqu&eacute;rant de l'univers. Il est tant pour vous de prendre la place qui vous revient.<br><br>D&eacute;blocage du Destructeur Plan&egrave;taire";
-
-?>
diff --git a/xnova-legacies_2009.3/language/en/install/install.mo b/xnova-legacies_2009.4/language/en/install/install.mo
index 2ea76da..06707bf 100644
--- a/xnova-legacies_2009.3/language/en/install/install.mo
+++ b/xnova-legacies_2009.4/language/en/install/install.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/lang_info.cfg b/xnova-legacies_2009.4/language/en/lang_info.cfg
index b34609b..c108461 100644
--- a/xnova-legacies_2009.3/language/en/lang_info.cfg
+++ b/xnova-legacies_2009.4/language/en/lang_info.cfg
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/leftmenu.mo b/xnova-legacies_2009.4/language/en/leftmenu.mo
index bc199c2..1ddf9a4 100644
--- a/xnova-legacies_2009.3/language/en/leftmenu.mo
+++ b/xnova-legacies_2009.4/language/en/leftmenu.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/leftmenu.mo~ b/xnova-legacies_2009.3/language/en/leftmenu.mo~
deleted file mode 100644
index 7e95a62..0000000
--- a/xnova-legacies_2009.3/language/en/leftmenu.mo~
+++ /dev/null
@@ -1,130 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-
-// User menu links
-$lang['qry']   = 'Execute SQL command';
-
-
-$lang['Multiverse']   = '<b>XNova</b> Uni';
-
-$lang['Overview']     = 'Overview';
-$lang['Officiers']    = 'Officers';
-
-$lang['Buildings']    = 'Buildings';
-$lang['Research']     = 'Research';
-$lang['Shipyard']     = 'Shipyard';
-$lang['Defense']      = 'Defense';
-
-$lang['multi']      = 'Declaration of multi';
-
-$lang['Resources']    = 'Resources';
-$lang['Imperium']     = 'Empire';
-$lang['Marchand']     = 'Merchant';
-$lang['Annonces']     = 'Classified Ad\'';
-$lang['Technology']   = 'Technology';
-
-$lang['Galaxy']       = 'Galaxy';
-$lang['Fleet']        = 'Fleet';
-
-$lang['Alliance']     = 'Alliance';
-$lang['Chat']         = 'Chat';
-$lang['Statistics']   = 'Statistics';
-$lang['Search']       = 'Search';
-$lang['blocked']      = 'Pillories';
-$lang['Records']      = 'Records';
-
-$lang['Messages']     = 'Messages';
-$lang['Notes']        = 'Notes';
-$lang['Buddylist']    = 'Buddy List';
-
-$lang['Board']        = 'Forum';
-$lang['Contact']      = 'Contact';
-$lang['Options']      = 'Options';
-
-$lang['Logout']       = 'Logout';
-
-$lang['Help']         = 'Help';
-$lang['Rules']        = 'Rules';
-
-// User menu titles
-$lang['devlp']        = 'Development';
-$lang['navig']        = 'Navigation';
-$lang['observ']       = 'Observatory';
-$lang['commun']       = 'Community';
-$lang['infog']        = 'Information';
-
-// Administrator menu links
-$lang['adm_over']     = 'Overview';
-$lang['adm_conf']     = 'Configuration';
-$lang['adm_reset']    = 'Reset';
-$lang['adm_extcopy']  = 'Copyright extensive';
-
-$lang['adm_multi']    = 'Multi-accounts List';
-$lang['multis_declared']    = 'MCC declared';
-
-$lang['adm_plrlst']   = 'Players List';
-$lang['adm_plrsch']   = 'Search for player\'s';
-$lang['adm_addres']   = 'Add resources';
-
-$lang['adm_pltlst']   = 'List of planet\'s';
-$lang['adm_actplt']   = 'Active planet\'s';
-
-$lang['adm_moonlst']  = 'List of moon\'s';
-$lang['adm_addmoon']  = 'Add a moon';
-
-$lang['adm_fleet']    = 'Fleet in flight';
-
-$lang['adm_ban']      = 'Ban';
-$lang['adm_unban']    = 'Unban';
-
-$lang['adm_chat']     = 'Administration chat[<a href="http://translate.google.com">Translator</a>]';
-$lang['adm_updpt']    = 'Points Update';
-$lang['adm_msg']      = 'Message List';
-$lang['adm_md5']      = 'Encryption Tool';
-$lang['adm_build']    = 'Queue production';
-
-$lang['adm_error']    = 'Error\'s';
-$lang['change_pass']  = 'Change player\'s pass';
-$lang['adm_help']     = 'Forum Help';
-$lang['adm_back']     = 'Back';
-
-// Administrator menu titles
-$lang['admin']        = 'Administration';
-$lang['player']       = 'Player\'s';
-$lang['tool']         = 'Tool\'s';
-
-// Informations serveur
-$lang['lm_ifo_serv']  = "Resources";
-$lang['lm_ifo_game']  = "Game";
-$lang['lm_ifo_fleet'] = "Fleet";
-$lang['lm_ifo_queue'] = "Queues";
-
-?>
diff --git a/xnova-legacies_2009.3/language/en/login.mo b/xnova-legacies_2009.4/language/en/login.mo
index a6a5be2..1077cc5 100644
--- a/xnova-legacies_2009.3/language/en/login.mo
+++ b/xnova-legacies_2009.4/language/en/login.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/login.mo~ b/xnova-legacies_2009.3/language/en/login.mo~
deleted file mode 100644
index c7492c3..0000000
--- a/xnova-legacies_2009.3/language/en/login.mo~
+++ /dev/null
@@ -1,58 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-
-$lang['Login'] = 'Connect';
-$lang['User_name'] = 'Username:';
-$lang['Password'] = 'Password:';
-$lang['Please_Login'] = 'Merci de vous <a href="login.php" target="_main">logguer...</a>';
-$lang['Please_Wait'] = 'Please wait';
-$lang['Remember_me'] = 'Remember me';
-$lang['Register'] = 'Register';
-$lang['Login_Error'] = 'Error';
-$lang['PleaseWait'] = 'Please wait';
-
-$lang [ 'Login_Ok'] = 'Login successful, <a href="./"><blink>redirecting ...</blink></a><br><center><img src = "images/progressbar.gif"></center> ';
-$lang [ 'Login_FailPassword'] = 'Incorrect password<br/><a href="login.php" target="_top">Back</ a>';
-$lang [ 'Login_FailUser'] = 'This player does not exist.<br><a href=login.php>Back</ a> ';
-
-$lang['log_univ'] = 'Please select a universe!';
-$lang['log_reg'] = 'Register';
-$lang['log_cred'] = 'Credits';
-$lang['log_desc'] = 'is an online strategy game.  All you need to play is a browser.  Join now and discover the awesome game of';
-$lang['log_toreg'] = 'Please register';
-$lang['log_online'] = 'Player\'s online';
-$lang['log_lastreg'] = 'Last registered';
-$lang['log_numbreg'] = 'Total registered';
-$lang['log_welcome'] = 'Welcome to';
-
-$lang['PasswordLost'] = 'Have you forgot your password?';
-
-?>
diff --git a/xnova-legacies_2009.3/language/en/logout.mo b/xnova-legacies_2009.4/language/en/logout.mo
index a10aed0..32a674d 100644
--- a/xnova-legacies_2009.3/language/en/logout.mo
+++ b/xnova-legacies_2009.4/language/en/logout.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/logout.mo~ b/xnova-legacies_2009.3/language/en/logout.mo~
deleted file mode 100644
index 618691b..0000000
--- a/xnova-legacies_2009.3/language/en/logout.mo~
+++ /dev/null
@@ -1,35 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-
-$lang['see_you'] = 'En esp&eacute;rant vous revoir tr&egrave;s bientot. Le staff.';
-$lang['session_closed'] = "Session termin&eacute;e.";
-
-?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/language/en/lostpassword.mo b/xnova-legacies_2009.4/language/en/lostpassword.mo
index d2cd278..9b721cb 100644
--- a/xnova-legacies_2009.3/language/en/lostpassword.mo
+++ b/xnova-legacies_2009.4/language/en/lostpassword.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/lostpassword.mo~ b/xnova-legacies_2009.3/language/en/lostpassword.mo~
deleted file mode 100644
index 9720d25..0000000
--- a/xnova-legacies_2009.3/language/en/lostpassword.mo~
+++ /dev/null
@@ -1,40 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-
-$lang['ResetPass'] = "Restitution de mot-de-passe";
-$lang['TextPass1'] = "Veuillez saisir l'adresse mail de votre compte";
-$lang['TextPass2'] = "telle qu'elle est renseign&eacute;e dans vos Options. C'est aussi celle que vous avez utilis&eacute;e pour l'inscription. Si vous appuyez sur 'Envoyer', un nouveau mot-de-passe sera cr&eacute;&eacute;, vous le re&ccedil;everait alors par e-Mail &agrave; l'adresse indiqu&eacute;e.";
-$lang['pseudo']    = "Pseudo";
-$lang['email']    = "e-Mail";
-$lang['ButtonSendPass'] = "Envoyer";
-$lang['PassForm'] = "Formulaire";
-
-?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/language/en/marchand.mo b/xnova-legacies_2009.4/language/en/marchand.mo
index c426b33..adfd975 100644
--- a/xnova-legacies_2009.3/language/en/marchand.mo
+++ b/xnova-legacies_2009.4/language/en/marchand.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/marchand.mo~ b/xnova-legacies_2009.3/language/en/marchand.mo~
deleted file mode 100644
index 70e3114..0000000
--- a/xnova-legacies_2009.3/language/en/marchand.mo~
+++ /dev/null
@@ -1,44 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-
-$lang['mod_ma_title'] = "Appeler un marchand";
-$lang['mod_ma_typer'] = "Appeler un marchand qui ach&egrave;te du";
-$lang['mod_ma_rates'] = "Le taux d'&eacute;change est de 2/1/0.5";
-$lang['mod_ma_buton'] = "Appeler le Marchand";
-$lang['mod_ma_noten'] = "Pas Assez de";
-$lang['mod_ma_done']  = "L'&eacute;change s'est d&eacute;roul&eacute; avec succ&egrave;s !";
-$lang['mod_ma_error'] = "Erreur";
-$lang['mod_ma_donet'] = "Echange Ok";
-$lang['mod_ma_excha'] = "Echanger";
-$lang['mod_ma_cours'] = "Cours d'&eacute;change";
-$lang['mod_ma_nbre']  = "Un nombre !!!";
-
-?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/language/en/messages.mo b/xnova-legacies_2009.4/language/en/messages.mo
index af0e99d..f87e8c9 100644
--- a/xnova-legacies_2009.3/language/en/messages.mo
+++ b/xnova-legacies_2009.4/language/en/messages.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/messages.mo~ b/xnova-legacies_2009.3/language/en/messages.mo~
deleted file mode 100644
index cce26cc..0000000
--- a/xnova-legacies_2009.3/language/en/messages.mo~
+++ /dev/null
@@ -1,76 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-
-$lang['alliance']   = 'Alliance';
-$lang['title']      = "Message's";
-$lang['head_type']  = "Type of message";
-$lang['head_count'] = "Unread(s)";
-$lang['head_total'] = "Total";
-$lang['type'][0]    = "Espionage Report(s)";
-$lang['type'][1]    = "Player Message(s)";
-$lang['type'][2]    = "Alliance Message(s)";
-$lang['type'][3]    = "Combat Report(s)";
-$lang['type'][4]    = "Operating Report(s)";
-$lang['type'][5]    = "Fleet Transport(s)";
-$lang['type'][15]   = "Expedition Report(s)";
-$lang['type'][99]   = "Contruction Queue Report(s)";
-$lang['type'][100]  = "See all message's";
-
-$lang['mess_pagetitle']      = "Send a message";
-$lang['mess_error']          = "Error";
-$lang['mess_no_ownerid']     = "Error one parameter is wrong, contact system Administrator";
-$lang['mess_no_ownerpl']     = "An error occurred! The player you are trying to contact has no home planet!";
-$lang['mess_no_owner']       = "This player does not exist.";
-$lang['mess_recipient']      = "To";
-$lang['mess_message']        = "Message";
-$lang['mess_characters']     = "Character's";
-$lang['mess_subject']        = "Subject";
-$lang['mess_envoyer']        = " Send ";
-$lang['mess_no_subject']     = "No subject";
-$lang['mess_no_text']        = "Where is the message ?";
-$lang['mess_sended']         = "Message Sent !";
-$lang['mess_partialreport']  = "Show only a portion of the report of espionage";
-$lang['mess_deleteunmarked'] = "Delete messages not selected";
-$lang['mess_deletemarked']   = "Delete selected messages";
-$lang['mess_deleteall']      = "Delete All";
-$lang['mess_its_ok']         = " ok ";
-$lang['mess_from']           = "De";
-$lang['mess_action']         = "Action";
-$lang['mess_date']           = "Date";
-$lang['mess_answer']         = "Reply";
-$lang['mess_answer_prefix']  = "Re:";
-
-$lang['Player_say'] = '<font color="#7f7f7f">Le joueur</font> %s <font color="#7f7f7f">envoie le message suivant:</font><br>';
-
-
-
-// Created by Perberos. All rights reversed (C) 2006
-?>
diff --git a/xnova-legacies_2009.3/language/en/news.mo b/xnova-legacies_2009.4/language/en/news.mo
index cac7138..cf233c5 100644
--- a/xnova-legacies_2009.3/language/en/news.mo
+++ b/xnova-legacies_2009.4/language/en/news.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/notes.mo b/xnova-legacies_2009.4/language/en/notes.mo
index 2969730..1cf1edf 100644
--- a/xnova-legacies_2009.3/language/en/notes.mo
+++ b/xnova-legacies_2009.4/language/en/notes.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/notes.mo~ b/xnova-legacies_2009.3/language/en/notes.mo~
deleted file mode 100644
index d9d27b6..0000000
--- a/xnova-legacies_2009.3/language/en/notes.mo~
+++ /dev/null
@@ -1,72 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-
-$lang['Notes'] = 'Notes';
-
-$lang['Createnote'] = 'Create a note';
-$lang['MakeNewNote'] = 'Create a new note';
-$lang['Editnote'] = 'Edit note';
-
-$lang['Priority'] = 'Priority;';
-
-$lang['Important'] = 'high';
-$lang['Normal'] = 'normal';
-$lang['Unimportant'] = 'low';
-
-$lang['Subject'] = 'Subject';
-$lang['NoTitle'] = 'No title';
-$lang['NoText'] = 'No text';
-
-$lang['Date'] = 'Date';
-$lang['Size'] = 'Size';
-
-$lang['Note'] = 'Note';
-
-$lang['characters'] = 'Characters';
-
-$lang['Apply'] = 'Accept';
-$lang['Back'] = 'Back';
-$lang['Save'] = 'Save';
-$lang['Delete'] = 'Delete';
-$lang['Reset'] = 'Reset';
-
-//mensajes
-$lang['ThereIsNoNote'] = 'There are no note\'s';
-
-$lang['NoteUpdated'] = 'La note a &eacute;t&eacute; r&eacute;actualis&eacute;e, <a href="notes.php"><blink>redirection...</blink></a>';
-
-$lang['NoteAdded'] = 'La note s\'est bien cr&eacute;ee, <a href="notes.php"><blink>redirection...</blink></a>';
-
-$lang['NoteDeleted'] = 'La note a &eacute;t&eacute; supprim&eacute;e, <a href="notes.php"><blink>redirection...</blink></a>';
-$lang['NoteDeleteds'] = 'Les notes ont &eacute;t&eacute; supprim&eacute;, <a href="notes.php"><blink>redirection...</blink></a>';
-
-// Created by Perberos. All rights reversed (C) 2006 
-?>
diff --git a/xnova-legacies_2009.3/language/en/officier.mo b/xnova-legacies_2009.4/language/en/officier.mo
index f5c5866..1a3181f 100644
--- a/xnova-legacies_2009.3/language/en/officier.mo
+++ b/xnova-legacies_2009.4/language/en/officier.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/officier.mo~ b/xnova-legacies_2009.3/language/en/officier.mo~
deleted file mode 100644
index 54ae602..0000000
--- a/xnova-legacies_2009.3/language/en/officier.mo~
+++ /dev/null
@@ -1,90 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-
-$lang['NoPoints']     = "You do not have enough points for officer!";
-$lang['OffiRecrute']  = "The officer has been recruited!";
-$lang['off_tx_lvl']   = "Current Level : ";
-$lang['off_points']   = "Officer Point's available : ";
-
-$lang['Maxlvl']       = "Maximum Level Reached !";
-$lang['Officier']     = "Officer";
-
-$lang['ttle'][601] = "Geologist";
-$lang['ttle'][602] = "Admiral";
-$lang['ttle'][603] = "Engineneer";
-$lang['ttle'][604] = "Technocrat";
-$lang['ttle'][605] = "Manufacturer";
-$lang['ttle'][606] = "Scientific";
-$lang['ttle'][607] = "Storer";
-$lang['ttle'][608] = "Defender";
-$lang['ttle'][609] = "Bunker";
-$lang['ttle'][610] = "Spy";
-$lang['ttle'][611] = "Commander";
-$lang['ttle'][612] = "Destroyer";
-$lang['ttle'][613] = "General";
-$lang['ttle'][614] = "Raider";
-$lang['ttle'][615] = "Emperor";
-
-$lang['link'][601] = "Recruter le G&eacute;ologue";
-$lang['link'][602] = "Recruter l'Amiral";
-$lang['link'][603] = "Recruter l'Ing&eacute;nieur";
-$lang['link'][604] = "Recruter le Technocrate";
-$lang['link'][605] = "Recruter le Constructeur";
-$lang['link'][606] = "Recruter le Scientifique";
-$lang['link'][607] = "Recruter le Stockeur";
-$lang['link'][608] = "Recruter le Defenseur";
-$lang['link'][609] = "Devenir Bunker";
-$lang['link'][610] = "Recruter l'Espion";
-$lang['link'][611] = "Recruter le Commandant";
-$lang['link'][612] = "Recruter le Destructeur";
-$lang['link'][613] = "Recruter le General";
-$lang['link'][614] = "Devenir Raideur";
-$lang['link'][615] = "Devenir L'Empereur";
-
-$lang['Desc'][601] = "<br><br>The geologist is a recognized expert in astrominéralogie and astrocristallographie. With its team of experts in metallurgy and chemical engineering, he attended the interplanetary governments in finding new sources of raw materials and optimizing refining them. <br><br> <font color=\"red\"> +5% of production. Max Level: 20</font>";
-$lang['Desc'][602] = "<br><br>Admiral of the Fleet is a veteran strategist and feared. Even when the fight is hard, it retains the necessary composure to dominate the situation and is in constant contact with admirals under his command. An emperor can not be responsible without the admiral of the fleet to coordinate its attacks and can make him so confident that he can send more combat fleets. <br> <Font color = \"red \"> +5% shield, protection of ships and weapons on the vessels. Max Level: 20</font>";
-
-$lang['Desc'][603] = "<br><br>The engineer is a specialist in energy management. In peacetime, it optimizes the efficiency of energy networks of settlements. <br> <font Color=\"red\"> +5% of energy. Max Level: 10</font>";
-$lang['Desc'][604] = "<br><br>Guilds technocrats are recognized scientific genius. They are found in areas where technology reaches its limits. Nobody will succeed in deciphering the encryption of a technocrat, his mere presence inspires researchers across the empire. <br> <font Color=\"red\"> -5% of time construction of vessels. Max Level: 10</font>";
-$lang['Desc'][605] = "<br><br>	
-The manufacturer is a new type of builder. His DNA has been altered to give him superhuman strength. One of the \"man \" can build an entire city. <br> <font Color=\"red\"> -10% of construction time. Max Level: 3</font>";
-$lang['Desc'][606] = "<br><br>Scientists are part of a guild competitor than technocrats. They specialize in improving technology. <br> <font Color=\"red\"> -10% research time. Max Level: 3</font>";
-$lang['Desc'][607] = "<br><br>The storage is part of the ancient brotherhood of the planet Hsac. His motto is to save up for it but it needs significant storage space. Therefore, using the manufacturer has developed a new storage technique. <br> <font Color=\"red\"> 50% of storage. Max Level: 2</font>";
-$lang['Desc'][608] = "<br><br>The defender is a member of the imperial army. His zeal in his work allows him to build a formidable defense in a short time in the hostile colonies. <br> <font Color=\"red\"> -50% of construction time to defense.</font>";
-$lang['Desc'][609] = "<br><br>The Emperor noticed the impressive work that you provide to his empire. Thank you for it offers you the chance to become Bunker. The Bunker is the highest award of the mining section of the Imperial Army. <br> <font Color=\"red\"> Unblocking Planetary Protector</font> ";
-$lang['Desc'][610] = "<br><br>The spy is an enigmatic person. Nobody has ever seen his real face, unless a breakfast &ageave; death. <br> <font color=\"red\">+5 Lvl espionage. Max Level: 2 </font>";
-$lang['Desc'][611] = "<br><br>The commander of the Imperial Army has mastered the art of handling fleets. His brain can calculate the trajectories of many fleet, more than a normal human. <br> <font color=\"red\">+3 slots fleets. Max Level: 3 </font> ";
-$lang['Desc'][612] = "<br><br>The destroyer is a ruthless officer. He massacred entire planets just for fun. He is currently developing a new method of producing the stars of death. <br> <font color=\"red\">2 RIP built instead of one. Max Level: 1 </font>";
-$lang['Desc'][613] = "<br><br>The General is a venerable person who has served many years in the army. The constructor worker vessels occur faster in its presence. <br> <font color=\"red\">+25% speed vessels. Max Level: 3 </font>";
-$lang['Desc'][614] = "<br><br>The Emperor has found qualities in you conquérent undeniable. It offers you to become stiff. The stiffness is the highest degree of stiffness branch of the imperial army <br> <font color=\"red\">Unlocking the SuperNova </font>";
-$lang['Desc'][615] = "<br><br>Vous avez montr&eacute; que vous &ecirc;tiez le plus grand conqu&eacute;rant de l'univers. Il est tant pour vous de prendre la place qui vous revient.<br><br>D&eacute;blocage du Destructeur Plan&egrave;taire<font color=\"red\"></font>";
-
-?>
diff --git a/xnova-legacies_2009.3/language/en/options.mo b/xnova-legacies_2009.4/language/en/options.mo
index 637fe87..737973c 100644
--- a/xnova-legacies_2009.3/language/en/options.mo
+++ b/xnova-legacies_2009.4/language/en/options.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/options.mo~ b/xnova-legacies_2009.3/language/en/options.mo~
deleted file mode 100644
index d63a2a8..0000000
--- a/xnova-legacies_2009.3/language/en/options.mo~
+++ /dev/null
@@ -1,105 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-//Mode Vacances (Thx Prethorian)
-$lang['exit_vacations'] = "Back from vacation";
-$lang['Vaccation_mode'] = "Vaction mode active until: ";
-$lang['You_cant_exit_vmode'] = "You can not disable your vacation mode as the minimum date is not reached!";
-$lang['Error'] = "Error";
-
-
-// Messages
-$lang['changue_pass'] = "Change your password";
-$lang['Download'] = "Download";
-$lang['Search'] = "Search";
-$lang['succeful_changepass'] = "	
-The password has been changed. <br /> <a Href=\"login.php\" target=\"_top\"> Back </ a>";
-$lang['succeful_save'] = "The changes have been saved. <br /> <a Href=\"options.php\"> Back </ a>";
-$lang['Options'] = 'Options';
-
-// Form
-$lang['userdata'] = "Player Information";
-$lang['username'] = "Player Name";
-$lang['lastpassword'] = "Old Password";
-$lang['newpassword'] = "New Password (min. 8 Character's)";
-$lang['newpasswordagain'] = "New Password (same as above)";
-$lang['emaildir'] = "Email Address";
-$lang['emaildir_tip'] = "	
-This address can be changed at any time. The address will become permanent if no change during the 7 days.";
-$lang['permanentemaildir'] = "Email Permenant";
-
-$lang['opt_lst_ord']  = "Classify planet's in the following order:";
-$lang['opt_lst_ord0'] = "Date of colonization";
-$lang['opt_lst_ord1'] = "Coordinate's";
-$lang['opt_lst_ord2'] = "Alphabetic Order";
-$lang['opt_lst_cla']  = "Ranking:";
-$lang['opt_lst_cla0'] = "growing";
-$lang['opt_lst_cla1'] = "dcrossint";
-$lang['opt_chk_skin'] = "Use skin";
-
-// Admin Options
-$lang['opt_adm_title'] = "Admin Option's";
-$lang['opt_adm_planet_prot'] = "Protection of planet's";
-
-// General options
-$lang['thanksforregistry'] = "Thank you for your registration. <br /> You will receive in a moment, an e-mail with your password.";
-$lang['general_settings'] = "General Setting's";
-$lang['skins_example'] = "Skins (i.e. /css/)";
-$lang['avatar_example'] = "Avatar (i.e. /img/avatar.jpg)";
-$lang['untoggleip'] = "Disable IP Verification";
-$lang['untoggleip_tip'] = "Verification of IP means that you will conduct a safety logout automatically when there is a change of IP or when 2 people enter the same account using different IPs. Enable verification IP can be a safety plus!";
-
-// Option galaxy
-$lang['galaxyvision_options'] = "Galaxy View";
-$lang['spy_cant'] = "Number of probes";
-$lang['spy_cant_tip'] = "Number of probes sent spies from the menu galaxy every time you spy someone.";
-$lang['tooltip_time'] = "Show tooltips for";
-$lang['mess_ammount_max'] = "Maximum number of fleet message's";
-$lang['show_ally_logo'] = "Show alliance logo's";
-$lang['seconds'] = "Seconds";
-
-//Rapport acces
-$lang['shortcut'] = "Direct Access";
-$lang['show'] = "Show";
-$lang['write_a_messege'] = "Write message";
-$lang['spy'] = "Spy";
-$lang['add_to_buddylist'] = "Add to friend list";
-$lang['attack_with_missile'] = "Attack with missle";
-$lang['show_report'] = "Show report";
-
-//Vacations mod
-$lang['delete_vacations'] = "Mode vacances / Effacer le compte";
-$lang['mode_vacations'] = "Activer le mode vacances";
-$lang['vacations_tip'] = "Le mode vacances est l&agrave; pour vous prot&eacute;ger pendant votre absence.";
-$lang['deleteaccount'] = "Effacer le compte";
-$lang['deleteaccount_tip'] = "Ton compte sera compl&egrave;tement effac&eacute; dans 7 jours.";
-$lang['save_settings'] = "Sauvegarder les changements";
-
-?>
diff --git a/xnova-legacies_2009.3/language/en/overview.mo b/xnova-legacies_2009.4/language/en/overview.mo
index ea8b8a6..e1faa7b 100644
--- a/xnova-legacies_2009.3/language/en/overview.mo
+++ b/xnova-legacies_2009.4/language/en/overview.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/overview.mo~ b/xnova-legacies_2009.3/language/en/overview.mo~
deleted file mode 100644
index 41162c6..0000000
--- a/xnova-legacies_2009.3/language/en/overview.mo~
+++ /dev/null
@@ -1,133 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-
-// General
-$lang['cancel']                  = "cancel";
-$lang['Planet_menu']             = "Planet Menu";
-$lang['Planet']                  = "Planet";
-$lang['Have_new_message']        = "You have 1 new message";
-$lang['Have_new_messages']       = "you have %m new messages";
-$lang['Have_new_level_mineur']   = "You have gained 1 miner level!";
-$lang['Have_new_level_raid']     = "You have gained 1 raider level!";
-$lang['Server_time']             = "Time";
-$lang['Events']                  = "Events";
-$lang['Free']                    = "free";
-$lang['Diameter']                = "Diameter";
-$lang['fields']                  = "Fields";
-$lang['Developed_fields']        = "Fields occupied";
-$lang['max_eveloped_fields']     = "Maximum number of usable fields";
-$lang['Temperature']             = "Temperature";
-$lang['approx']                  = "env.";
-$lang['to']                      = "To";
-$lang['Centigrade']              = "C";
-$lang['Position']                = "Position";
-$lang['Points']                  = "Points";
-$lang['Rank']                    = "Rank";
-$lang['of']                      = "of";
-$lang['banner']                  = "Votre banni&egrave;re";
-$lang['InfoBanner']              = "Banni&egrave;re-profil pour forum (copier/coller l'adresse pour utilisation):";
-
-$lang['ov_off_expe']             = "Exp&eacute;rience";
-$lang['ov_off_level']            = "Niveau";
-$lang['ov_off_mines']            = "Mineur";
-$lang['ov_off_raids']            = "Raideur";
-
-$lang['ov_temp_from']            = "";
-$lang['ov_temp_unit']            = "&deg;C";
-$lang['ov_temp_to']              = "-";
-
-$lang['ov_local_cdr']            = "Debris Field";
-$lang['ov_pts_build']            = "Buildings";
-$lang['ov_pts_fleet']            = "Fleet";
-$lang['ov_pts_reche']            = "Research";
-$lang['ov_pts_total']            = "Total";
-
-
-// Colony
-$lang['colony_abandon']          = "Abandon Colony";
-$lang['ov_rena_dele']            = "Rename / Delete the planet";
-$lang['functions']               = "Function";
-$lang['coords']                  = "Coordinates";
-$lang['your_planet']             = "Your planet";
-$lang['colony_abandon']          = "Abandon Colony";
-$lang['deleteplanet']            = "Delete Planet!";
-$lang['security_query']          = "Player Security";
-$lang['name']                    = "Name";
-$lang['namer']                   = "Rename";
-$lang['password']                = "Password";
-$lang['confirm_planet_delete']   = "Confirm the deletion of the planet";
-$lang['confirmed_with_password'] = ", please confirm by entering your password below!";
-
-
-// Rename planet
-$lang['deletemessage_ok']    = "The colony was abandoned.";
-$lang['deletemessage_wrong'] = "The mother planet may not be deleted!";
-$lang['deletemessage_fail']  = "Incorrect password!";
-
-// Divers
-$lang['MembersOnline']       = "Member's online";
-$lang['ov_news_title']       = "News";
-$lang['Raids']               = "Raids";
-$lang['NumberOfRaids']       = "Number of Raids:";
-$lang['RaidsWin']            = "Rains Won:";
-$lang['RaidsLoose']          = "Raids Lost";
-
-// Gestion des flottes
-$lang['ov_fleet']            = "fleet";
-$lang['ov_une']              = "One of your ";
-$lang['ov_vennant']          = " from ";
-$lang['ov_planet_to']        = "to planet ";
-$lang['ov_moon_to']          = "to moon ";
-$lang['ov_atteint']          = " reached ";
-$lang['ov_planet_to_target'] = "to planet ";
-$lang['ov_moon_to_target']   = "to moon ";
-$lang['ov_debris_to_target'] = "to the debris ";
-$lang['ov_explo_to_target']  = "to position ";
-$lang['ov_mission']          = ". to the mission : ";
-
-$lang['ov_explo_stay']       = " explore ";
-$lang['ov_explo_mission']    = ". To the mission : ";
-
-$lang['ov_rentrant']         = " returns ";
-$lang['ov_planet_from']      = "from planet ";
-$lang['ov_moon_from']        = "from moon ";
-$lang['ov_debris_from']      = "from the debris ";
-$lang['ov_explo_from']       = "from position ";
-$lang['ov_back_planet']      = " the planet ";
-$lang['ov_back_moon']        = " the moon ";
-
-$lang['ov_une_hostile']      = "A ";
-$lang['ov_hostile']          = " hostile ";
-$lang['ov_message']          = "Send a message";
-
-// Created by Perberos. All rights reversed (C) 2006
-// Complet by XNova Team. All rights reversed (C) 2008
-?>
diff --git a/xnova-legacies_2009.3/language/en/phalanx.mo b/xnova-legacies_2009.4/language/en/phalanx.mo
index 64cb311..05ad31f 100644
--- a/xnova-legacies_2009.3/language/en/phalanx.mo
+++ b/xnova-legacies_2009.4/language/en/phalanx.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/phalanx.mo~ b/xnova-legacies_2009.3/language/en/phalanx.mo~
deleted file mode 100644
index 877bca5..0000000
--- a/xnova-legacies_2009.3/language/en/phalanx.mo~
+++ /dev/null
@@ -1,64 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-
-$lang['phl_tbl_title'] = "Scan de lune";
-$lang['phl_tbl_moves'] = "Mouvements de flotte actuels";
-$lang['phl_no_deuter'] = "Vous n'avez pas assez de deut&eacute;rium !";
-
-// Gestion des flottes
-$lang['ov_fleet']            = "flotte";
-$lang['ov_une']              = "Une ";
-$lang['ov_vennant']          = " venant ";
-$lang['ov_planet_to']        = "de la plan&egrave;te ";
-$lang['ov_moon_to']          = "de la lune ";
-$lang['ov_atteint']          = " atteint ";
-$lang['ov_planet_to_target'] = "la plan&egrave;te ";
-$lang['ov_moon_to_target']   = "la lune ";
-$lang['ov_debris_to_target'] = "le Champ de d&eacute;bris ";
-$lang['ov_explo_to_target']  = "la position ";
-$lang['ov_mission']          = ". Elle avait pour mission : ";
-
-$lang['ov_explo_stay']       = " explore ";
-$lang['ov_explo_mission']    = ". Elle a pour mission : ";
-
-$lang['ov_rentrant']         = " rentre ";
-$lang['ov_planet_from']      = "de la plan&egrave;te ";
-$lang['ov_moon_from']        = "de la lune ";
-$lang['ov_debris_from']      = "du Champ de d&eacute;bris ";
-$lang['ov_explo_from']       = "de la position ";
-$lang['ov_back_planet']      = " &agrave; la plan&egrave;te ";
-$lang['ov_back_moon']        = " &agrave; la lune ";
-
-$lang['ov_une_hostile']      = "Une ";
-$lang['ov_hostile']          = " hostile de ";
-$lang['ov_message']          = "Envoyer un message";
-
-?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/language/en/player.mo b/xnova-legacies_2009.4/language/en/player.mo
index 2c0b6e5..8fa7837 100644
--- a/xnova-legacies_2009.3/language/en/player.mo
+++ b/xnova-legacies_2009.4/language/en/player.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/player.mo~ b/xnova-legacies_2009.3/language/en/player.mo~
deleted file mode 100644
index cec0361..0000000
--- a/xnova-legacies_2009.3/language/en/player.mo~
+++ /dev/null
@@ -1,37 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-
-//Player search
-$lang['SearchPlayer'] = "Entrer le nom du joueur";
-
-// Created by Perberos. All rights reversed (C) 2006
-// Complet by XNova. All rights reversed (C) 2008
-?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/language/en/records.mo b/xnova-legacies_2009.4/language/en/records.mo
index e0c8f2d..56ce54a 100644
--- a/xnova-legacies_2009.3/language/en/records.mo
+++ b/xnova-legacies_2009.4/language/en/records.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/records.mo~ b/xnova-legacies_2009.3/language/en/records.mo~
deleted file mode 100644
index e477010..0000000
--- a/xnova-legacies_2009.3/language/en/records.mo~
+++ /dev/null
@@ -1,44 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-
-//Record
-$lang['rec_title']  = "Records of universe";
-$lang['rec_build']  = "Buildings";
-$lang['rec_specb']  = "Special Buildings";
-$lang['rec_playe']  = "Player";
-$lang['rec_defes']  = "Defenses";
-$lang['rec_fleet']  = "Fleet";
-$lang['rec_techn']  = "Technologies";
-$lang['rec_level']  = "Lever";
-$lang['rec_nbre']   = "Number";
-$lang['rec_rien']   = "-";
-
-?>
diff --git a/xnova-legacies_2009.3/language/en/reg.mo b/xnova-legacies_2009.4/language/en/reg.mo
index 47c1a49..b10f4ad 100644
--- a/xnova-legacies_2009.3/language/en/reg.mo
+++ b/xnova-legacies_2009.4/language/en/reg.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/reg.mo~ b/xnova-legacies_2009.3/language/en/reg.mo~
deleted file mode 100644
index f88b8c2..0000000
--- a/xnova-legacies_2009.3/language/en/reg.mo~
+++ /dev/null
@@ -1,79 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-
-if (!defined('INSIDE')) {
-	die("attemp hacking");
-}
-
-// Registration form
-$lang['registry']          = 'Register';
-$lang['form']              = 'Registration Form';
-$lang['Register']          = 'SteadGame Registration';
-$lang['Undefined']         = '- Undefined -';
-$lang['Male']              = 'Male';
-$lang['Female']            = 'Female';
-$lang['Multiverse']        = 'XNova';
-$lang['E-Mail']            = 'E-Mail address';
-$lang['MainPlanet']        = 'Main planet\'s name';
-$lang['GameName']          = 'In-Game Name';
-$lang['Sex']               = 'Sex';
-$lang['accept']            = 'I accept the agreement';
-$lang['signup']            = ' Signup ';
-$lang['neededpass']        = 'Password';
-$lang['code_secu']          = 'Security';
-
-// Send
-$lang['mail_welcome']      = 'Thank you for registering at SteadGame({gameurl}) \nYour password is: {password}\n\nHave fun!\n{gameurl}';
-$lang['mail_title']        = 'Registration';
-$lang['thanksforregistry'] = 'Thank you for signing up! You will receive an email with your password.';
-$lang['sender_message_ig'] = 'Admin';
-$lang['subject_message_ig']= 'Welcome';
-$lang['text_message_ig']   = 'Welcome to SteadGame, we wish you all the best and goodluck!';
-
-
-// Errors
-$lang['error_secu']        = 'Security code invalid!<br />';
-$lang['error_mail']        = 'E-mail invalid!<br />';
-$lang['error_planet']      = 'Error in planet name!<br />';
-$lang['error_hplanetnum']  = 'You must use alphanumeric characters to name your planet!<br />';
-$lang['error_character']   = 'Error in your name!<br />';
-$lang['error_charalpha']   = 'The username must be alphanumeric characters!<br />';
-$lang['error_password']    = 'Your password must be 4 character\'s minimum!<br />';
-$lang['error_rgt']         = 'Vous devez accepter les conditions d\'utilisation.<<br />';
-$lang['error_userexist']   = 'Ce nom de joueur existe d&eacute;j&agrave; !<br />';
-$lang['error_emailexist']  = 'Cet e-mail est d&eacute;j&agrave; utilis&eacute; !<br />';
-$lang['error_sex']         = 'Erreur dans le sexe !<br />';
-$lang['error_mailsend']    = 'Une erreur s\'est produite lors de l\'envoi du courriel! Votre mot de passe est : ';
-$lang['reg_welldone']      = 'Inscription termin&eacute;e !';
-
-// Created by Perberos. All rights reversed (C) 2006
-// Complet by XNova Team. All rights reversed (C) 2008
-?>
diff --git a/xnova-legacies_2009.3/language/en/resources.mo b/xnova-legacies_2009.4/language/en/resources.mo
index 8257380..4134ec3 100644
--- a/xnova-legacies_2009.3/language/en/resources.mo
+++ b/xnova-legacies_2009.4/language/en/resources.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/resources.mo~ b/xnova-legacies_2009.3/language/en/resources.mo~
deleted file mode 100644
index 9645db5..0000000
--- a/xnova-legacies_2009.3/language/en/resources.mo~
+++ /dev/null
@@ -1,49 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-
-$lang['Production_of_resources_in_the_planet'] = 'Production de mati&egrave;res premi&egrave;res sur la plan&egrave;te  "%s"';
-$lang['Production_level'] = 'Niveau de Production';
-$lang['Basic_income'] = 'Revenu de base';
-$lang['quantity'] = 'Quantit&eacute;';
-$lang['level'] = 'Niveau';
-$lang['Stores_capacity'] = 'Capacit&eacute; des d&eacute;p&ocirc;ts';
-$lang['Widespread_production'] = 'Production &eacute;tendue';
-$lang['Daily'] = 'Journali&egrave;re';
-$lang['Weekly'] = 'Hebdomadaire';
-$lang['Monthly'] = 'Mensuelle';
-$lang['Storage_state'] = 'Etat des d&eacute;p&ocirc;ts';
-$lang['Calcule'] = 'Calculer';
-$lang['o/o'] = '%';
-$lang['k'] = 'k';
-
-// Created by Perberos. All rights reserved (C) 2006 
-// Complet by XNova Team. All rights reversed (C) 2008
-?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/language/en/rules.mo b/xnova-legacies_2009.4/language/en/rules.mo
index b1b2c71..fe2e1bd 100644
--- a/xnova-legacies_2009.3/language/en/rules.mo
+++ b/xnova-legacies_2009.4/language/en/rules.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/search.mo b/xnova-legacies_2009.4/language/en/search.mo
index 4ce9fb6..37ecdb9 100644
--- a/xnova-legacies_2009.3/language/en/search.mo
+++ b/xnova-legacies_2009.4/language/en/search.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/search.mo~ b/xnova-legacies_2009.3/language/en/search.mo~
deleted file mode 100644
index e7f3dc5..0000000
--- a/xnova-legacies_2009.3/language/en/search.mo~
+++ /dev/null
@@ -1,55 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['Position'] = 'Position';
-$lang['Player'] = 'Player';
-$lang['Name'] = 'Name';
-$lang['Player_name'] = 'Player Name';
-$lang['Planet'] = 'Planet';
-$lang['Planet_name'] = 'Planet Name';
-$lang['Alliance'] = 'Alliance';
-$lang['Alliance_name'] = 'Alliance Name';
-$lang['Tag'] = 'Tag';
-$lang['Alliance_tag'] = 'Alliance tag';
-$lang['Members'] = 'Members';
-$lang['Points'] = 'Points';
-$lang['PerMember'] = 'Per membres';
-$lang['Coordinated'] = 'Coordinates';
-$lang['Position'] = 'Position';
-$lang['Search'] = 'Search';
-$lang['Search_in_all_game'] = "Search the server";
-$lang['Back'] = 'Back';
-$lang['Search'] = 'Search';
-$lang['write_a_messege'] = 'Write a message';
-$lang['buddy_request'] = 'Request to be friend';
-
-// Created by Perberos. All rights reversed (C) 2006
-// Complet by XNova Team. All rights reversed (C) 2008
-?>
diff --git a/xnova-legacies_2009.3/language/en/stat.mo b/xnova-legacies_2009.4/language/en/stat.mo
index c89f73c..6d3c5a6 100644
--- a/xnova-legacies_2009.3/language/en/stat.mo
+++ b/xnova-legacies_2009.4/language/en/stat.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/stat.mo~ b/xnova-legacies_2009.3/language/en/stat.mo~
deleted file mode 100644
index e0a299b..0000000
--- a/xnova-legacies_2009.3/language/en/stat.mo~
+++ /dev/null
@@ -1,54 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['stat_title']    = "Statistics";
-$lang['stat_show']     = "Rankings";
-$lang['stat_by']       = "by";
-$lang['stat_range']    = "Place";
-
-$lang['stat_player']   = "Players";
-$lang['stat_allys']    = "Alliances";
-$lang['stat_main']     = "General";
-$lang['stat_fleet']    = "Fleet";
-$lang['stat_research'] = "Research";
-$lang['stat_building'] = "Building";
-$lang['stat_defenses'] = "Defense";
-
-$lang['Position']      = "Place";
-$lang['Difference']    = "Diff.";
-$lang['Player']        = "Poueur";
-$lang['Alliance']      = "Alliance";
-$lang['Points']        = "Points";
-$lang['Members']       = "Members";
-$lang['PerMember']     = "Per Membres";
-$lang['Ecrire']        = "Write a message";
-
-// Created by Chlorel (XNova Team). All rights reversed (C) 2008
-?>
diff --git a/xnova-legacies_2009.3/language/en/system.mo b/xnova-legacies_2009.4/language/en/system.mo
index f3210b8..ea4b1b4 100644
--- a/xnova-legacies_2009.3/language/en/system.mo
+++ b/xnova-legacies_2009.4/language/en/system.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/system.mo~ b/xnova-legacies_2009.3/language/en/system.mo~
deleted file mode 100644
index 116b8c2..0000000
--- a/xnova-legacies_2009.3/language/en/system.mo~
+++ /dev/null
@@ -1,138 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['user_level'] = array (
-	'0' => 'Player',
-	'1' => 'Moderater',
-	'2' => 'Operator',
-	'3' => 'Administrator',
-);
-
-$lang['sys_phalanx'] = "Phalanx";
-$lang['sys_overview'] = "General View";
-$lang['mod_marchand'] = "Merchant";
-$lang['sys_moon'] = "Moon";
-$lang['sys_error'] = "Error";
-$lang['sys_no_vars'] = "Vars.php The file is not present, please contact an administrator!";
-$lang['sys_attacker_lostunits'] = "The attack lost a total of %s units.";
-$lang['sys_defender_lostunits'] = "The defender lost a total of %s units.";
-$lang['sys_gcdrunits'] = "A debris field containg %s units of %s and %s units of %s formed in the orbit of this planet";
-$lang['sys_moonproba'] = "The Probabilities of creating a moon is: %d %% ";
-$lang['sys_moonbuilt'] = "A moon made its appearence around the planet %s [%d:%d:%d] !";
-$lang['sys_attack_title']    = "The following fleets crashed on %s :";
-$lang['sys_attack_attacker_pos'] = "Attacker %s [%s:%s:%s]";
-$lang['sys_attack_techologies'] = "Weapons: %d %% Sheilds: %d %% Armor: %d %% ";
-$lang['sys_attack_defender_pos'] = "Defender %s [%s:%s:%s]";
-$lang['sys_ship_type'] = "Type";
-$lang['sys_ship_count'] = "Number";
-$lang['sys_ship_weapon'] = "Weapon";
-$lang['sys_ship_shield'] = "Sheild";
-$lang['sys_ship_armour'] = "Armor";
-$lang['sys_destroyed'] = "Destroyed!";
-$lang['sys_attack_attack_wave'] = "The attacking fires with a total firepower of %s.  The defender's sheilds absorb %s damage.";
-$lang['sys_attack_defend_wave'] = "The defender fires with a total firepower of %s.  The attack's sheilds absorb %s damage.";
-$lang['sys_attacker_won'] = "The attacker has won the battle!";
-$lang['sys_defender_won'] = "The defender has won the battle!";
-$lang['sys_both_won'] = "The battle has ended in a draw.  Attacker's remaing fleets return home!";
-$lang['sys_stealed_ressources'] = "You stole %s units of %s, %s units of %s and %s units of %s.";
-$lang['sys_rapport_build_time'] = "Report simulated in %s seconds!";
-$lang['sys_mess_tower'] = "Control Tower";
-$lang['sys_mess_attack_report'] = "Combat Report";
-$lang['sys_spy_maretials'] = "Raw materials";
-$lang['sys_spy_fleet'] = "Fleete";
-$lang['sys_spy_defenses'] = "Defenses";
-$lang['sys_mess_qg'] = "Headquarter's";
-$lang['sys_mess_spy_report'] = "Espionage Report";
-$lang['sys_mess_spy_lostproba'] = "Probability of counter attack: %d %% ";
-$lang['sys_mess_spy_control'] = "Aerospace Control";
-$lang['sys_mess_spy_activity'] = "Espionage Activity";
-$lang['sys_mess_spy_ennemyfleet'] = "An enemy fleet";
-$lang['sys_mess_spy_seen_at'] = "was spotted near your planet";
-$lang['sys_mess_spy_destroyed'] = "Your fleet has been destroyed!";
-$lang['sys_object_arrival'] = "Arriving at planet";
-$lang['sys_stay_mess_stay'] = "Parking fleet";
-$lang['sys_stay_mess_start'] = "Your fleet has reached the planet ";
-$lang['sys_stay_mess_back'] = "Your fleet returns to planet ";
-$lang['sys_stay_mess_end'] = " and it deliver's the folowing resources:";
-$lang['sys_stay_mess_bend'] = " and will return the following resources:";
-$lang['sys_adress_planet'] = "[%s:%s:%s]";
-$lang['sys_stay_mess_goods'] = "%s : %s, %s : %s, %s : %s";
-$lang['sys_colo_mess_from'] = "Colonization";
-$lang['sys_colo_mess_report'] = "Colonization Report";
-$lang['sys_colo_defaultname'] = "Colony";
-$lang['sys_colo_arrival'] = "The fleet has arrived at the coordinates ";
-$lang['sys_colo_maxcolo'] = ", but unfortunatly, colonization cannot happen because you are not allowed to have more than ";
-$lang['sys_colo_allisok'] = ", and engineer's have started to develope on the colony.";
-$lang['sys_colo_badpos']  = ", have found a poor enviroment for you empire, they turned back disgusted!";
-$lang['sys_colo_notfree'] = ", and the settlers have not found and planet at these coordinates and turn back completely confused.";
-$lang['sys_colo_planet']  = " planets!";
-$lang['sys_expe_report'] = "Expedition Report";
-$lang['sys_recy_report'] = "Recycler Report";
-$lang['sys_expe_blackholl_1'] = "The fleet has been sucked into a black hole and was partially destroyed!";
-$lang['sys_expe_blackholl_2'] = "The fleet has been sucked into a black hole and is completely destroyed!";
-$lang['sys_expe_nothing_1'] = "Your explorers missed a superb SuperNova and took great pictures. But they have found no resources";
-$lang['sys_expe_nothing_2'] = "Your explorers have gone all the time allotted in the selected area. But they have found no resources or planet.";
-$lang['sys_expe_found_goods'] = "The fleet has discovered an uninhabited planet! <br> Your explorers have recovered %s of %s, %s of %s and %s of %s";
-$lang['sys_expe_found_ships'] = "Your explorers found abandoned vessels in perfect condition. <br> They found: ";
-$lang['sys_expe_back_home'] = "Your expedition fleet has returned";
-$lang['sys_mess_transport'] = "Fleet Transport";
-$lang['sys_tran_mess_owner'] = "One of your fleet's arrived on %s %s. It contains %s units of %s, %s units of %s and %s units of %s.";
-$lang['sys_tran_mess_user']  = "An allied fleet from %s %s reaches %s %s carrying %s units of %s, %s units of %s and %s units of %s.";
-$lang['sys_mess_fleetback'] = "Fleet Back";
-$lang['sys_tran_mess_back'] = "One of your fleets returned %s %s. The fleet does not deliver resource's";
-$lang['sys_recy_gotten'] = "You have collected %s units of %s and %s units of %s.";
-$lang['sys_notenough_money'] = "You do not have enough resources to start building %s. You have %s of %s, %s of %s and %s of %s the cost of the building was %s of %s, %s of %s and %s of %s.";
-$lang['sys_nomore_level'] = "You try to destroy a building you no longer have ( %s ).";
-$lang['sys_buildlist'] = "Build list";
-$lang['sys_buildlist_fail'] = "Construction impossible";
-$lang['sys_gain'] = "Gains";
-$lang['sys_perte_attaquant'] = "Loss Attacker";
-$lang['sys_perte_defenseur'] = "Loss Defender";
-$lang['sys_debris'] = "Debris";
-$lang['sys_noaccess'] = "Access denied";
-$lang['sys_noalloaw'] = "You do not have access to this page";
-$lang['sys_request_ok'] = "Your request has been sent!";
-$lang['sys_ok'] = "OK";
-
-//Destruction de lune
-$lang['sys_destruc_title']    = "Tentative de destruction lunaire du %s :";
-$lang['sys_mess_destruc_report'] = "Rapport de destruction";
-$lang['sys_destruc_lune'] = "La probabilit&eacute;e de destruction de lune est de : %d %% ";
-$lang['sys_destruc_rip'] = "La probabilit&eacute;e de destruction de la flotte d\'&eacute;toile de la mort est de : %d %% ";
-$lang['sys_destruc_stop'] = "Le d&eacute;fenseur a r&eacute;ussi a bloquer la tentative de destruction de lune";
-$lang['sys_destruc_mess1'] = "Cette flotte d\'&eacute;toile de la mort concentre leurs chocs de gravitons alternants sur cette lune";
-$lang['sys_destruc_mess'] = "Une flotte de la plan&egrave;te %s [%d:%d:%d] atteint la lune de la plan&egrave;te en [%d:%d:%d]";
-$lang['sys_destruc_echec'] = ". Des tremblements secouent la surface de la lune. Mais quelque chose se passe mal. Les canons de gravitons secouent la flotte d\'&eacute;toile de la mort, il y a retour fatal. H&eacute;las ! La flotte d\'&eacute;toile de la mort explose en millions de fragments! L\'explosion d&eacute;truit enti&egrave;rement la flotte.";
-$lang['sys_destruc_reussi'] = ", provoquant un tremblement puis un d&eacute;chirement total de celle-ci. Tous les b&agrave;timents sont d&eacute;truits - Mission accomplie !La lune est d&eacute;truite! La flotte rentre &agrave; la plan&egrave;te de d&eacute;part.";
-$lang['sys_destruc_null'] = ", visiblement la flotte ne d&eacute;veloppe pas la puissance n&eacute;cessaire - Echec de la mission! La flotte rentre &agrave; la plan&egrave;te de d&eacute;part.";
-
-// Created by Perberos. All rights reversed (C) 2006
-// Complet by XNova Team. All rights reversed (C) 2008
-?>
diff --git a/xnova-legacies_2009.3/language/en/tech.mo b/xnova-legacies_2009.4/language/en/tech.mo
index 9336fcd..2735e27 100644
--- a/xnova-legacies_2009.3/language/en/tech.mo
+++ b/xnova-legacies_2009.4/language/en/tech.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/tech.mo~ b/xnova-legacies_2009.3/language/en/tech.mo~
deleted file mode 100644
index 2b690e2..0000000
--- a/xnova-legacies_2009.3/language/en/tech.mo~
+++ /dev/null
@@ -1,239 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['Tech']         = "Technologies";
-$lang['Requirements'] = "Requirements";
-$lang['Metal']        = "Metal";
-$lang['Crystal']      = "Crystal";
-$lang['Deuterium']    = "Deuterium";
-$lang['Energy']       = "Energy";
-$lang['Message']      = "Message";
-$lang['level']        = "Level";
-$lang['treeinfo']     = "[i]";
-$lang['comingsoon']   = "Coming Soon";
-$lang['te_dt_tx_pre'] = "Prerequisites for";
-
-
-$lang['type_mission'][1]  = "Attack";
-$lang['type_mission'][2]  = "Attack - Group";
-$lang['type_mission'][3]  = "Transport";
-$lang['type_mission'][4]  = "Station";
-$lang['type_mission'][5]  = "Station at ally";
-$lang['type_mission'][6]  = "Spy";
-$lang['type_mission'][7]  = "Colonize";
-$lang['type_mission'][8]  = "Recycler";
-$lang['type_mission'][9]  = "Destroy";
-$lang['type_mission'][15] = "Expeditions";
-
-// Short names for fight rapport
-$lang['tech_rc'] = array (
-202 => 'Small Car.',
-203 => 'Large Car.',
-204 => 'Light Ft.',
-205 => 'Heavy Ft.',
-206 => 'Cruiser',
-207 => 'Battle',
-208 => 'Colony Ship',
-209 => 'Recycler',
-210 => 'Probe',
-211 => 'Bombarder',
-212 => 'Sol. Sat..',
-213 => 'Destr.',
-214 => 'Rip',
-215 => 'Tracker',
-
-401 => 'Missile',
-402 => 'L.l&eacute;ger.',
-403 => 'L.lourd',
-404 => 'Can.Gauss',
-405 => 'Art.ions',
-406 => 'Lanc.plasma',
-407 => 'P.bouclier',
-408 => 'G.bouclier',
-);
-
-$lang['tech'] = array(
-  0 => "Buildings",
-  1 => "Metal Mine",
-  2 => "Crystal Mine",
-  3 => "Deuterium Synthesizer",
-  4 => "Solar Power Plant",
- 12 => "Fusion Power Plant",
- 14 => "Robot Factory",
- 15 => "Nanite Factory",
- 21 => "Shipyard",
- 22 => "Metal Storage",
- 23 => "Crystal Storage",
- 24 => "Deuterium Reservoir",
- 31 => "Research Laboratory",
- 33 => "Terraformer",
- 34 => "Alliance Depot",
-
- 40 => 'Special Buildings',
- 41 => 'Lunar Base',
- 42 => 'Sensor Phalanx',
- 43 => 'Jump Gate',
-
- 44 => "Missle Silo",
-
-// Technologies
-100 => 'Technology',
-106 => 'Espionage Technology',
-108 => 'Computer Techonology',
-109 => 'Weapon\'s Techonology',
-110 => 'Sheilding Techonology',
-111 => 'Armor Technology',
-113 => 'Energy Technology',
-114 => 'Hyperspace Technology',
-115 => 'Combustion Drive',
-117 => 'Impulsion Drive',
-118 => 'Hyperspace Drive',
-120 => 'Laser Techonology',
-121 => 'Ion Techonology',
-122 => 'Plasma Technology',
-123 => 'Intergalatic Research Network(IRN)',
-124 => 'Expedition Technology',
-199 => 'Graviton Techonology',
-
-200 => 'Spaceships',
-202 => 'Small Cargo',
-203 => 'Large Cargo',
-204 => 'Small Fighter',
-205 => 'Large Fighter',
-206 => 'Crusier',
-207 => 'Battleship',
-208 => 'Colony Ship',
-209 => 'Recycler',
-210 => 'Espionage Probe',
-211 => 'Bomber',
-212 => 'Solar Satalite',
-213 => 'Destructer',
-214 => 'Death Star',
-215 => 'Tracker',
-
-400 => 'Defense',
-401 => 'Rocket Luancher',
-402 => 'Light Laser',
-403 => 'Large Laser',
-404 => 'Gauss Cannon',
-405 => 'Ion Cannon',
-406 => 'Plasma Turret',
-407 => 'Small Shield',
-408 => 'Large Shield',
-502 => 'Anti-Ballistic Missle',
-503 => 'Interplantery Missle',
-
-600 => "Officer",
-601 => "Geologist",
-602 => "Admiral",
-603 => "Engineer",
-604 => "Technocrat",
-605 => "Manufacturer",
-606 => "Scientist",
-607 => "Stocker",
-608 => "Defender",
-609 => "Bunker",
-610 => "Spy",
-611 => "Commander",
-612 => "Destroyer",
-613 => "General",
-614 => "Raidur",
-615 => "Emperor"
-
-);
-
-$lang['res']['descriptions'] = array(
-1 => "Main supplier of raw materials for the construction of bearing structures and ships.",
-2 => "Major supplier of resources for facilities and electronic alloys.",
-3 => "Extract the small amount of deuterium water from a planet.",
-4 => "The solar power plants transform sunlight into energy. Almost all buildings require energy to operate.",
-12 => "The fusion power plant produces energy by fusing 2 Hydrogen atoms into a helium atom.",
-14 => "The plants produce robots robots workers used to build the global infrastructure. Each level increases the speed of construction of various buildings.",
-15 => "It is the development of robot technology. Each level increases the speed of building ships and buildings.",
-21 => "The Shipyard can build ships and defense installations.",
-22 => "Extra storage for metal.",
-23 => "Extra storage for crystal.",
-24 => "Extra storage for deuterium",
-31 => "The laboratory research is needed to develop new technologies.",
-33 => "The Terraformer can extend the usable surface of planets.",
-34 => "The supply depot parking permits extended fleet of other alliance members or fleet members to your friends list to enhance the defense of a planet. The fleets remain in orbit and receiving the fuel required for this filing.",
-41 => "A moon with no atmosphere, a lunar base is needed to begin colonization.",
-42 => "The phalanx of sensor can observe the movements of the fleet. A phalanx of high level has a greater scope.",
-43 => "The Jump Gate are huge emitters to carry vessels through the galaxy without loss of time.",
-44 => "The missile silos used to store the missiles.",
-
-106 => "Cette technologie permet d'obtenir des informations sur les autres plan&egrave;tes de l'univers.",
-108 => "Avec l'augmentation des capacit&eacute;s des ordinateurs, plus de flottes peuvent &ecirc;tre command&eacute;es. Chaque niveau de technologie ordinateur augmente d'une le nombre total de flottes commandables.",
-109 => "La technologie armes rend les syst&egrave;mes d'armes plus efficaces. Chaque niveau de technologie armes augmente la puissance des armes des unit&eacute;s par tranche de 10% de la valeur de base.",
-110 => "Chaque niveau de la technologie de bouclier augmente l'efficacit&eacute; des boucliers par tranche de 10%.",
-111 => "Des alliages sp&eacute;ciaux rendent les vaisseaux spatiaux de plus en plus r&eacute;sistants. L'efficacit&eacute; des protections peut &ecirc;tre augment&eacute;e de 10% par niveau.",
-113 => "Maîtriser les diff&eacute;rents types d'&eacute;nergie est n&eacute;cessaire pour de nombreuses technologies.",
-114 => "L'int&eacute;gration de la 4eme et de la 5eme dimension permet le d&eacute;veloppement d'un nouveau genre de propulsion plus puissant et efficace.",
-115 => "Le d&eacute;veloppement de ces r&eacute;acteurs rend les vaisseaux plus rapides mais chaque niveau n'augmente la vitesse que de 10%.",
-117 => "Le r&eacute;acteur &agrave; impulsion est bas&eacute; sur le principe de r&eacute;action disant que la plus grande part de la masse du rayon est gagn&eacute;e comme sous-produit de la fusion d'atomes qui sert &agrave; produire l'&eacute;nergie n&eacute;cessaire.",
-118 => "Par une d&eacute;formation spatiale et temporelle dans l'environnement du vaisseau, l'espace est comprim&eacute; ce qui permet de parcourir de longues distances dans un minimum de temps.",
-120 => "La concentration de lumi&egrave;re cr&eacute;e un rayon pouvant cr&eacute;er des d&eacute;g&acirc;ts importants  en touchant un objet.",
-121 => "Rayon mortel compos&eacute; d'ions acc&eacute;l&eacute;r&eacute;s. En touchant un objet, il cause des d&eacute;g&acirc;ts importants.",
-122 => "Une am&eacute;lioration de la technologie d'ions qui n'acc&eacute;l&egrave;re pas des ions mais du plasma tr&egrave;s &eacute;nerg&eacute;tique. Ceci a un effet d&eacute;vastateur en touchant un objet.",
-123 => "Les chercheurs de plusieurs plan&egrave;tes utilisent ce r&eacute;seau pour communiquer.",
-124 => "Les vaisseaux peuvent dor&eacute;navant &ecirc;tre &eacute;quip&eacute;s de modules de recherche qui permettent l'&eacute;valuation scientifique des donn&eacute;es recueillies lors de longues exp&eacute;ditions.",
-199 => "Une quantit&eacute; concentr&eacute;e de particules de graviton, r&eacute;seau artificiel de gravitation, est propuls&eacute;e, capable de d&eacute;truire des vaisseaux ou m&ecirc;me des lunes.",
-
-202 => "Le petit transporteur est un vaisseau tr&egrave;s maniable et capable de transporter des mati&egrave;res premi&egrave;res sur d'autres plan&egrave;tes rapidement.",
-203 => "Le d&eacute;veloppement du transporteur augmente la capacit&eacute; de fret et rend le vaisseau plus rapide que le petit transporteur.",
-204 => "Le chasseur l&eacute;ger est un vaisseau tr&egrave;s manoeuvrable qui est stationn&eacute; sur presque toutes les plan&egrave;tes. Les co&ucirc;ts ne sont pas tr&egrave;s importants, mais la puissance du bouclier et la capacit&eacute; de fret sont tr&egrave;s limit&eacute;es.",
-205 => "Cette version am&eacute;lior&eacute;e du chasseur l&eacute;ger poss&egrave;de une meilleure protection et une capacit&eacute; d'attaque plus importante.",
-206 => "Les croiseurs ont une protection presque trois fois plus importante que celle des chasseurs lourds et leur puissance de tir est plus de deux fois plus grande. De plus, ils sont tr&egrave;s rapides.",
-207 => "Les vaisseaux de bataille jouent un r&ocirc;le central dans les flottes. Avec leur artillerie lourde, leur vitesse consid&eacute;rable et la grande capacit&eacute; de fret, ils sont des adversaires respectables.",
-208 => "Les nouvelles plan&egrave;tes peuvent &ecirc;tre colonis&eacute;es avec ce vaisseau.",
-209 => "Le recycleur collecte les ressources dans les Champs de d&eacute;bris.",
-210 => "Les sondes d'espionnage sont des petits drones manoeuvrables qui espionnent les plan&egrave;tes m&ecirc;me &agrave; grande distance.",
-211 => "Le bombardier a &eacute;t&eacute; d&eacute;velopp&eacute; pour pouvoir d&eacute;truire les installations de d&eacute;fense des plan&egrave;tes.",
-212 => "Les satellites solaires sont des plates-formes couvertes de cellules solaires, qui se trouvent dans une orbite tr&egrave;s &eacute;lev&eacute;e et stationnaire. Ils collectent la lumi&egrave;re du soleil et la transmettent par laser &agrave; la station de base.",
-213 => "Le destructeur est le roi des vaisseaux de guerre.",
-214 => "La puissance de destruction de l'&eacute;toile de la mort est imbattable.",
-215 => "Le traqueur est sp&eacute;cialis&eacute; dans l'interception de flottes ennemies.",
-
-401 => "Le lanceur de missiles est une fa&ccedil;on simple et bon march&eacute; de se d&eacute;fendre.",
-402 => "Le bombardement concentr&eacute; de photons peut causer des d&eacute;g&acirc;ts nettement plus important que les armes balistiques habituelles.",
-403 => "L'artillerie lourde au laser est l'&eacute;volution cons&eacute;quente de l'artillerie l&eacute;g&egrave;re au laser.",
-404 => "Le canon de Gauss (canon &eacute;lectromagn&eacute;tique) acc&eacute;l&egrave;re un projectile pesant des tonnes en consommant une gigantesque quantit&eacute; d'&eacute;nergie.",
-405 => "L'artillerie d'ions lance des vagues d'ions sur l'objet, ce qui d&eacute;stabilise les boucliers et endommage l'&eacute;lectronique.",
-406 => "Les lanceurs de plasma disposent de la puissance d'une &eacute;ruption solaire et peuvent donc &ecirc;tre plus destructeurs que les destructeurs eux-m&ecirc;mes.",
-407 => "Le petit bouclier couvre toute une plan&egrave;te avec un champ infranchissable qui peut absorber une quantit&eacute; &eacute;norme d'&eacute;nergie.",
-408 => "L'am&eacute;lioration du petit bouclier peut se servir de nettement plus d'&eacute;nergie pour se d&eacute;fendre.",
-502 => "Le missile interception d&eacute;truit les missiles adverses.",
-503 => "Les missiles interplan&eacute;taires d&eacute;truisent la d&eacute;fense adverse.",
-
-);
-
-// Created by Perberos. All rights reversed (C) 2006
-// Complet by XNova Team. All rights reversed (C) 2008
-?>
diff --git a/xnova-legacies_2009.3/language/en/tradingscrapmetal.mo b/xnova-legacies_2009.4/language/en/tradingscrapmetal.mo
index 72a3141..8dfb3aa 100644
--- a/xnova-legacies_2009.3/language/en/tradingscrapmetal.mo
+++ b/xnova-legacies_2009.4/language/en/tradingscrapmetal.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/en/tradingscrapmetal.mo~ b/xnova-legacies_2009.3/language/en/tradingscrapmetal.mo~
deleted file mode 100644
index 72a3141..0000000
--- a/xnova-legacies_2009.3/language/en/tradingscrapmetal.mo~
+++ /dev/null
@@ -1,38 +0,0 @@
-<?php
-/**
- * Tis file is part of XNova:Legacies
- *
- * @license http://www.gnu.org/licenses/gpl-3.0.txt
- * @see http://www.xnova-ng.org/
- *
- * Copyright (c) 2009-Present, XNova Support Team <http://www.xnova-ng.org>
- * All rights reserved.
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- *                                --> NOTICE <--
- *  This file is part of the core development branch, changing its contents will
- * make you unable to use the automatic updates manager. Please refer to the
- * documentation for further information about customizing XNova.
- *
- */
-
-$lang['Intergalactic_merchant'] = 'Intergalactic Trader';
-$lang['Merchant_text_decript'] = 'A intergalatic trader is by.  You may sell him espionage probe\'s for 1k crystal.';
-$lang['How_much_want_exchange'] = 'How many probes do you exchange';
-$lang['Merchant_give_you'] = 'The trader offer\'s you %n crystal';
-$lang['Spionagesonde'] = 'Espionage Probe';
-$lang['Exchange'] = 'Exchange';
-
-?>
diff --git a/xnova-legacies_2009.3/language/fr/admin/Queries.mo b/xnova-legacies_2009.4/language/fr/admin/Queries.mo
index a50ee42..5cdcc79 100644
--- a/xnova-legacies_2009.3/language/fr/admin/Queries.mo
+++ b/xnova-legacies_2009.4/language/fr/admin/Queries.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/admin/add_fleet.mo b/xnova-legacies_2009.4/language/fr/admin/add_fleet.mo
index ea439ed..9e83418 100644
--- a/xnova-legacies_2009.3/language/fr/admin/add_fleet.mo
+++ b/xnova-legacies_2009.4/language/fr/admin/add_fleet.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/admin/addmoon.mo b/xnova-legacies_2009.4/language/fr/admin/addmoon.mo
index 8939382..8d0b3a2 100644
--- a/xnova-legacies_2009.3/language/fr/admin/addmoon.mo
+++ b/xnova-legacies_2009.4/language/fr/admin/addmoon.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/admin/adminpanel.mo b/xnova-legacies_2009.4/language/fr/admin/adminpanel.mo
index 6f6254d..0103779 100644
--- a/xnova-legacies_2009.3/language/fr/admin/adminpanel.mo
+++ b/xnova-legacies_2009.4/language/fr/admin/adminpanel.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -29,8 +29,8 @@
  */
 
 $lang['adm_usr_level'][0] = "Joueur";
-$lang['adm_usr_level'][1] = "Op&eacute;rateur";
-$lang['adm_usr_level'][2] = "Mod&eacute;rateur";
+$lang['adm_usr_level'][1] = "Mod&eacute;rateur";
+$lang['adm_usr_level'][2] = "Op&eacute;rateur";
 $lang['adm_usr_level'][3] = "Administrateur";
 $lang['adm_usr_genre']['M'] = "Homme";
 $lang['adm_usr_genre']['F'] = "Femme";
diff --git a/xnova-legacies_2009.3/language/fr/admin/changepass.mo b/xnova-legacies_2009.4/language/fr/admin/changepass.mo
index 859fe62..47a9159 100644
--- a/xnova-legacies_2009.3/language/fr/admin/changepass.mo
+++ b/xnova-legacies_2009.4/language/fr/admin/changepass.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/admin/fleets.mo b/xnova-legacies_2009.4/language/fr/admin/fleets.mo
index 8c8db2d..897af77 100644
--- a/xnova-legacies_2009.3/language/fr/admin/fleets.mo
+++ b/xnova-legacies_2009.4/language/fr/admin/fleets.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/admin/md5enc.mo b/xnova-legacies_2009.4/language/fr/admin/md5enc.mo
index b0ce8f3..951d587 100644
--- a/xnova-legacies_2009.3/language/fr/admin/md5enc.mo
+++ b/xnova-legacies_2009.4/language/fr/admin/md5enc.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/admin/messagelist.mo b/xnova-legacies_2009.4/language/fr/admin/messagelist.mo
index 8ce4633..e52e2a3 100644
--- a/xnova-legacies_2009.3/language/fr/admin/messagelist.mo
+++ b/xnova-legacies_2009.4/language/fr/admin/messagelist.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/admin/multi.mo b/xnova-legacies_2009.4/language/fr/admin/multi.mo
index ed9b5c9..68e6117 100644
--- a/xnova-legacies_2009.3/language/fr/admin/multi.mo
+++ b/xnova-legacies_2009.4/language/fr/admin/multi.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/admin/settings.mo b/xnova-legacies_2009.4/language/fr/admin/settings.mo
index 21836d0..5bae71e 100644
--- a/xnova-legacies_2009.3/language/fr/admin/settings.mo
+++ b/xnova-legacies_2009.4/language/fr/admin/settings.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/admin/statconfig.mo b/xnova-legacies_2009.4/language/fr/admin/statconfig.mo
index 3481851..3860b3a 100644
--- a/xnova-legacies_2009.3/language/fr/admin/statconfig.mo
+++ b/xnova-legacies_2009.4/language/fr/admin/statconfig.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/admin.mo b/xnova-legacies_2009.4/language/fr/admin.mo
index abfeebb..de630c6 100644
--- a/xnova-legacies_2009.3/language/fr/admin.mo
+++ b/xnova-legacies_2009.4/language/fr/admin.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/alliance.mo b/xnova-legacies_2009.4/language/fr/alliance.mo
index 2d8d359..b68fa8a 100644
--- a/xnova-legacies_2009.3/language/fr/alliance.mo
+++ b/xnova-legacies_2009.4/language/fr/alliance.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/banned.mo b/xnova-legacies_2009.4/language/fr/banned.mo
index 75661c9..42ae83e 100644
--- a/xnova-legacies_2009.3/language/fr/banned.mo
+++ b/xnova-legacies_2009.4/language/fr/banned.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/buddy.mo b/xnova-legacies_2009.4/language/fr/buddy.mo
index 658cb6e..122747f 100644
--- a/xnova-legacies_2009.3/language/fr/buddy.mo
+++ b/xnova-legacies_2009.4/language/fr/buddy.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/buildings.mo b/xnova-legacies_2009.4/language/fr/buildings.mo
index 1c04c91..6a7d773 100644
--- a/xnova-legacies_2009.3/language/fr/buildings.mo
+++ b/xnova-legacies_2009.4/language/fr/buildings.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/changelog.mo b/xnova-legacies_2009.4/language/fr/changelog.mo
index 200f6f1..5ca9a0e 100644
--- a/xnova-legacies_2009.3/language/fr/changelog.mo
+++ b/xnova-legacies_2009.4/language/fr/changelog.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/chat.mo b/xnova-legacies_2009.4/language/fr/chat.mo
index 5710f32..95f0930 100644
--- a/xnova-legacies_2009.3/language/fr/chat.mo
+++ b/xnova-legacies_2009.4/language/fr/chat.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/contact.mo b/xnova-legacies_2009.4/language/fr/contact.mo
index 468a063..3e0c3ab 100644
--- a/xnova-legacies_2009.3/language/fr/contact.mo
+++ b/xnova-legacies_2009.4/language/fr/contact.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/cookies.mo b/xnova-legacies_2009.4/language/fr/cookies.mo
index 435c8e7..bf21928 100644
--- a/xnova-legacies_2009.3/language/fr/cookies.mo
+++ b/xnova-legacies_2009.4/language/fr/cookies.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/credit.mo b/xnova-legacies_2009.4/language/fr/credit.mo
index a73157f..97973e3 100644
--- a/xnova-legacies_2009.3/language/fr/credit.mo
+++ b/xnova-legacies_2009.4/language/fr/credit.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/fleet.mo b/xnova-legacies_2009.4/language/fr/fleet.mo
index be6363d..5d4b982 100644
--- a/xnova-legacies_2009.3/language/fr/fleet.mo
+++ b/xnova-legacies_2009.4/language/fr/fleet.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -145,6 +145,7 @@ $lang['res']['fleet'] = array(
 213 => "Destructeur",
 214 => "&eacute;toile de la mort",
 215 => "Traqueur",
+216 => "Supernova",
 );
 
 
diff --git a/xnova-legacies_2009.3/language/fr/galaxy.mo b/xnova-legacies_2009.4/language/fr/galaxy.mo
index ef3fbc5..afd35fd 100644
--- a/xnova-legacies_2009.3/language/fr/galaxy.mo
+++ b/xnova-legacies_2009.4/language/fr/galaxy.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/imperium.mo b/xnova-legacies_2009.4/language/fr/imperium.mo
index 8cd2202..eb4c51b 100644
--- a/xnova-legacies_2009.3/language/fr/imperium.mo
+++ b/xnova-legacies_2009.4/language/fr/imperium.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/index.mo b/xnova-legacies_2009.4/language/fr/index.mo
index 517021b..b4c66a4 100644
--- a/xnova-legacies_2009.3/language/fr/index.mo
+++ b/xnova-legacies_2009.4/language/fr/index.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/infos.mo b/xnova-legacies_2009.4/language/fr/infos.mo
index f9cc825..26dcd69 100644
--- a/xnova-legacies_2009.3/language/fr/infos.mo
+++ b/xnova-legacies_2009.4/language/fr/infos.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/install/install.mo b/xnova-legacies_2009.4/language/fr/install/install.mo
index 2d86729..61bbaa8 100644
--- a/xnova-legacies_2009.3/language/fr/install/install.mo
+++ b/xnova-legacies_2009.4/language/fr/install/install.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/lang_info.cfg b/xnova-legacies_2009.4/language/fr/lang_info.cfg
index b34609b..c108461 100644
--- a/xnova-legacies_2009.3/language/fr/lang_info.cfg
+++ b/xnova-legacies_2009.4/language/fr/lang_info.cfg
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/leftmenu.mo b/xnova-legacies_2009.4/language/fr/leftmenu.mo
index c692f24..bf5474f 100644
--- a/xnova-legacies_2009.3/language/fr/leftmenu.mo
+++ b/xnova-legacies_2009.4/language/fr/leftmenu.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/login.mo b/xnova-legacies_2009.4/language/fr/login.mo
index 96fd6f4..9df9d70 100644
--- a/xnova-legacies_2009.3/language/fr/login.mo
+++ b/xnova-legacies_2009.4/language/fr/login.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/logout.mo b/xnova-legacies_2009.4/language/fr/logout.mo
index 618691b..c0894ac 100644
--- a/xnova-legacies_2009.3/language/fr/logout.mo
+++ b/xnova-legacies_2009.4/language/fr/logout.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/lostpassword.mo b/xnova-legacies_2009.4/language/fr/lostpassword.mo
index 9720d25..acb7523 100644
--- a/xnova-legacies_2009.3/language/fr/lostpassword.mo
+++ b/xnova-legacies_2009.4/language/fr/lostpassword.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/marchand.mo b/xnova-legacies_2009.4/language/fr/marchand.mo
index 70e3114..e9f9208 100644
--- a/xnova-legacies_2009.3/language/fr/marchand.mo
+++ b/xnova-legacies_2009.4/language/fr/marchand.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/messages.mo b/xnova-legacies_2009.4/language/fr/messages.mo
index 5ddf448..23f5cd0 100644
--- a/xnova-legacies_2009.3/language/fr/messages.mo
+++ b/xnova-legacies_2009.4/language/fr/messages.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/news.mo b/xnova-legacies_2009.4/language/fr/news.mo
index cac7138..cf233c5 100644
--- a/xnova-legacies_2009.3/language/fr/news.mo
+++ b/xnova-legacies_2009.4/language/fr/news.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/notes.mo b/xnova-legacies_2009.4/language/fr/notes.mo
index 1aad8f6..b7c1d23 100644
--- a/xnova-legacies_2009.3/language/fr/notes.mo
+++ b/xnova-legacies_2009.4/language/fr/notes.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/officier.mo b/xnova-legacies_2009.4/language/fr/officier.mo
index bce94a1..7ec5d12 100644
--- a/xnova-legacies_2009.3/language/fr/officier.mo
+++ b/xnova-legacies_2009.4/language/fr/officier.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/options.mo b/xnova-legacies_2009.4/language/fr/options.mo
index 0a39dfb..1e0d95d 100644
--- a/xnova-legacies_2009.3/language/fr/options.mo
+++ b/xnova-legacies_2009.4/language/fr/options.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/overview.mo b/xnova-legacies_2009.4/language/fr/overview.mo
index af880ff..98d5098 100644
--- a/xnova-legacies_2009.3/language/fr/overview.mo
+++ b/xnova-legacies_2009.4/language/fr/overview.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/phalanx.mo b/xnova-legacies_2009.4/language/fr/phalanx.mo
index 877bca5..cf33d0e 100644
--- a/xnova-legacies_2009.3/language/fr/phalanx.mo
+++ b/xnova-legacies_2009.4/language/fr/phalanx.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/player.mo b/xnova-legacies_2009.4/language/fr/player.mo
index cec0361..fdc39a0 100644
--- a/xnova-legacies_2009.3/language/fr/player.mo
+++ b/xnova-legacies_2009.4/language/fr/player.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/records.mo b/xnova-legacies_2009.4/language/fr/records.mo
index 922d61d..93f482f 100644
--- a/xnova-legacies_2009.3/language/fr/records.mo
+++ b/xnova-legacies_2009.4/language/fr/records.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/reg.mo b/xnova-legacies_2009.4/language/fr/reg.mo
index e6ee957..5ab53d1 100644
--- a/xnova-legacies_2009.3/language/fr/reg.mo
+++ b/xnova-legacies_2009.4/language/fr/reg.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/resources.mo b/xnova-legacies_2009.4/language/fr/resources.mo
index 9645db5..8ab5e12 100644
--- a/xnova-legacies_2009.3/language/fr/resources.mo
+++ b/xnova-legacies_2009.4/language/fr/resources.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/rules.mo b/xnova-legacies_2009.4/language/fr/rules.mo
index b1b2c71..fe2e1bd 100644
--- a/xnova-legacies_2009.3/language/fr/rules.mo
+++ b/xnova-legacies_2009.4/language/fr/rules.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/search.mo b/xnova-legacies_2009.4/language/fr/search.mo
index 27473a5..9b65918 100644
--- a/xnova-legacies_2009.3/language/fr/search.mo
+++ b/xnova-legacies_2009.4/language/fr/search.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/stat.mo b/xnova-legacies_2009.4/language/fr/stat.mo
index c05877f..e7579ab 100644
--- a/xnova-legacies_2009.3/language/fr/stat.mo
+++ b/xnova-legacies_2009.4/language/fr/stat.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/system.mo b/xnova-legacies_2009.4/language/fr/system.mo
index 0117007..4ac3c92 100644
--- a/xnova-legacies_2009.3/language/fr/system.mo
+++ b/xnova-legacies_2009.4/language/fr/system.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/fr/tech.mo b/xnova-legacies_2009.4/language/fr/tech.mo
index d832711..bf2e1fe 100644
--- a/xnova-legacies_2009.3/language/fr/tech.mo
+++ b/xnova-legacies_2009.4/language/fr/tech.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -29,34 +29,34 @@
  */
 
 $lang['Tech']         = "Technologies";
-$lang['Requirements'] = "N&eacute;cessite";
-$lang['Metal']        = "M&eacute;tal";
+$lang['Requirements'] = "Nécessite";
+$lang['Metal']        = "Métal";
 $lang['Crystal']      = "Cristal";
-$lang['Deuterium']    = "Deut&eacute;rium";
-$lang['Energy']       = "&Eacute;nergie";
+$lang['Deuterium']    = "Deutérium";
+$lang['Energy']       = "énergie";
 $lang['Message']      = "Message";
 $lang['level']        = "Niveau";
 $lang['treeinfo']     = "[i]";
 $lang['comingsoon']   = "Bientot";
-$lang['te_dt_tx_pre'] = "Pr&eacute;requis pour";
+$lang['te_dt_tx_pre'] = "Prérequis pour";
 
 
 $lang['type_mission'][1]  = "Attaquer";
-$lang['type_mission'][2]  = "Attaque group&eacute;e";
+$lang['type_mission'][2]  = "Attaque groupée";
 $lang['type_mission'][3]  = "Transporter";
 $lang['type_mission'][4]  = "Stationner";
-$lang['type_mission'][5]  = "Stationner chez un alli&eacute;";
+$lang['type_mission'][5]  = "Stationner chez un allié";
 $lang['type_mission'][6]  = "Espionner";
 $lang['type_mission'][7]  = "Coloniser";
 $lang['type_mission'][8]  = "Recycler";
-$lang['type_mission'][9]  = "D&eacute;truire";
-$lang['type_mission'][15] = "Exp&eacute;ditions";
+$lang['type_mission'][9]  = "Détruire";
+$lang['type_mission'][15] = "Expéditions";
 
-// Short names for fight rapport
+// Short names for fight report
 $lang['tech_rc'] = array (
 202 => 'P.transp.',
 203 => 'G.transp.',
-204 => 'Ch.l&eacute;ger',
+204 => 'Ch.léger',
 205 => 'Ch.lourd',
 206 => 'Croiseur',
 207 => 'V.bataille',
@@ -68,9 +68,10 @@ $lang['tech_rc'] = array (
 213 => 'Destr.',
 214 => 'Rip',
 215 => 'Traqueur',
+216 => 'Supernova',
 
 401 => 'Missile',
-402 => 'L.l&eacute;ger.',
+402 => 'L.léger.',
 403 => 'L.lourd',
 404 => 'Can.Gauss',
 405 => 'Art.ions',
@@ -80,23 +81,23 @@ $lang['tech_rc'] = array (
 );
 
 $lang['tech'] = array(
-  0 => "B&acirc;timents",
-  1 => "Mine de m&eacute;tal",
+  0 => "Bâtiments",
+  1 => "Mine de métal",
   2 => "Mine de cristal",
-  3 => "Synth&eacute;tiseur de deut&eacute;rium",
-  4 => "Centrale &eacute;lectrique solaire",
- 12 => "Centrale &eacute;lectrique de fusion",
+  3 => "Synthétiseur de deutérium",
+  4 => "Centrale électrique solaire",
+ 12 => "Centrale électrique de fusion",
  14 => "Usine de robots",
  15 => "Usine de nanites",
  21 => "Chantier spatial",
- 22 => "Hangar de m&eacute;tal",
+ 22 => "Hangar de métal",
  23 => "Hangar de cristal",
- 24 => "R&eacute;servoir de deut&eacute;rium",
+ 24 => "Réservoir de deutérium",
  31 => "Laboratoire de recherche",
  33 => "Terraformeur",
- 34 => "D&eacute;p&ocirc;t de ravitaillement",
+ 34 => "Dépôt de ravitaillement",
 
- 40 => 'B&acirc;timents sp&eacute;ciaux',
+ 40 => 'Bâtiments spéciaux',
  41 => 'Base lunaire',
  42 => 'Phalange de capteur',
  43 => 'Porte de saut spatial',
@@ -112,20 +113,20 @@ $lang['tech'] = array(
 111 => 'Technologie Protection des vaisseaux spatiaux',
 113 => 'Technologie Energie',
 114 => 'Technologie Hyperespace',
-115 => 'R&eacute;acteur &agrave; combustion',
-117 => 'R&eacute;acteur &agrave; impulsion',
+115 => 'Réacteur à combustion',
+117 => 'Réacteur à impulsion',
 118 => 'Propulsion hyperespace',
 120 => 'Technologie Laser',
 121 => 'Technologie Ions',
 122 => 'Technologie Plasma',
-123 => 'R&eacute;seau de recherche intergalactique',
-124 => 'Technologie Exp&eacute;ditions',
+123 => 'Réseau de recherche intergalactique',
+124 => 'Technologie Expéditions',
 199 => 'Technologie Graviton',
 
 200 => 'Vaisseaux',
 202 => 'Petit transporteur',
 203 => 'Grand transporteur',
-204 => 'Chasseur l&eacute;ger',
+204 => 'Chasseur léger',
 205 => 'Chasseur lourd',
 206 => 'Croiseur',
 207 => 'Vaisseau de bataille',
@@ -137,21 +138,22 @@ $lang['tech'] = array(
 213 => 'Destructeur',
 214 => 'Etoile de la mort',
 215 => 'Traqueur',
+216 => 'Supernova',
 
-400 => 'D&eacute;fense',
+400 => 'Défense',
 401 => 'Lanceur de missiles',
-402 => 'Artillerie laser l&eacute;g&egrave;re',
+402 => 'Artillerie laser légère',
 403 => 'Artillerie laser lourde',
 404 => 'Canon de Gauss',
-405 => 'Artillerie &agrave; ions',
+405 => 'Artillerie à ions',
 406 => 'Lanceur de plasma',
 407 => 'Petit bouclier',
 408 => 'Grand bouclier',
 502 => 'Missile Interception',
-503 => 'Missile Interplan&eacute;taire',
+503 => 'Missile Interplanétaire',
 
 600 => "Officier",
-601 => "G&eacute;ologue",
+601 => "Géologue",
 602 => "Amiral",
 603 => "Ingenieur",
 604 => "Technocrate",
@@ -170,70 +172,69 @@ $lang['tech'] = array(
 );
 
 $lang['res']['descriptions'] = array(
-1 => "Principal fournisseur de mati&egrave;res premi&egrave;res pour la construction de structures portantes et de vaisseaux.",
-2 => "Fournisseur principal de ressources pour les installations &eacute;lectroniques et pour les alliages.",
-3 => "Extrait la petite quantit&eacute; de deut&eacute;rium de l'eau d'une plan&egrave;te.",
-4 => "Les centrales &eacute;lectriques solaires transforment les rayons de soleil en &eacute;nergie. Presque tous les b&acirc;timents ont besoin d'&eacute;nergie pour fonctionner.",
-12 => "La centrale &eacute;lectrique de fusion produit de l'&eacute;nergie en fusionnant 2 atomes d'hydrog&egrave;ne en un atome d'h&eacute;lium.",
-14 => "Les usines de robots produisent des robots ouvriers qui servent &agrave; la construction de l'infrastructure plan&eacute;taire. Chaque niveau augmente la vitesse de construction des diff&eacute;rents b&acirc;timents.",
-15 => "C'est le perfectionnement de la technologie de robots. Chaque niveau augmente la vitesse de construction des vaisseaux et des b&acirc;timents.",
-21 => "Le chantier spatial permet de construire les vaisseaux et les installations de d&eacute;fense.",
+1 => "Principal fournisseur de matières premières pour la construction de structures portantes et de vaisseaux.",
+2 => "Fournisseur principal de ressources pour les installations électroniques et pour les alliages.",
+3 => "Extrait la petite quantité de deutérium de l'eau d'une planète.",
+4 => "Les centrales électriques solaires transforment les rayons de soleil en énergie. Presque tous les bâtiments ont besoin d'énergie pour fonctionner.",
+12 => "La centrale électrique de fusion produit de l'énergie en fusionnant 2 atomes d'hydrogène en un atome d'hélium.",
+14 => "Les usines de robots produisent des robots ouvriers qui servent à la construction de l'infrastructure planétaire. Chaque niveau augmente la vitesse de construction des différents bâtiments.",
+15 => "C'est le perfectionnement de la technologie de robots. Chaque niveau augmente la vitesse de construction des vaisseaux et des bâtiments.",
+21 => "Le chantier spatial permet de construire les vaisseaux et les installations de défense.",
 22 => "Hangar pour minerai avant le traitement.",
 23 => "Hangar pour cristal avant le traitement.",
-24 => "R&eacute;servoirs g&eacute;ants pour le stockage de deut&eacute;rium.",
-31 => "Le laboratoire de recherche est n&eacute;cessaire pour d&eacute;velopper de nouvelles technologies.",
-33 => "Le terraformeur permet d'agrandir la surface utile des plan&egrave;tes.",
-34 => "Le d&eacute;p&ocirc;t de ravitaillement permet le stationnement prolong&eacute; de flottes d'autres membres de l'alliance ou de flottes de membres de votre liste d'amis pour augmenter la d&eacute;fense d'une plan&egrave;te. Les flottes restent en orbite et re&ccedil;oivent le carburant n&eacute;cessaire depuis ce d&eacute;p&ocirc;t.",
-41 => "Une lune n'ayant pas d'atmosph&egrave;re, une base lunaire est n&eacute;cessaire pour pouvoir commencer la colonisation.",
-42 => "La phalange de capteur permet d'observer les mouvements de flotte. Une phalange de niveau &eacute;lev&eacute; a une plus grande port&eacute;e.",
-43 => "Les portes de saut spatial sont d'immenses &eacute;metteurs permettant de transporter des vaisseaux &agrave; travers la galaxie sans perte de temps.",
-44 => "Les silos de missiles servent &agrave; stocker les missiles.",
-
-106 => "Cette technologie permet d'obtenir des informations sur les autres plan&egrave;tes de l'univers.",
-108 => "Avec l'augmentation des capacit&eacute;s des ordinateurs, plus de flottes peuvent &ecirc;tre command&eacute;es. Chaque niveau de technologie ordinateur augmente d'une le nombre total de flottes commandables.",
-109 => "La technologie armes rend les syst&egrave;mes d'armes plus efficaces. Chaque niveau de technologie armes augmente la puissance des armes des unit&eacute;s par tranche de 10% de la valeur de base.",
-110 => "Chaque niveau de la technologie de bouclier augmente l'efficacit&eacute; des boucliers par tranche de 10%.",
-111 => "Des alliages sp&eacute;ciaux rendent les vaisseaux spatiaux de plus en plus r&eacute;sistants. L'efficacit&eacute; des protections peut &ecirc;tre augment&eacute;e de 10% par niveau.",
-113 => "Maîtriser les diff&eacute;rents types d'&eacute;nergie est n&eacute;cessaire pour de nombreuses technologies.",
-114 => "L'int&eacute;gration de la 4eme et de la 5eme dimension permet le d&eacute;veloppement d'un nouveau genre de propulsion plus puissant et efficace.",
-115 => "Le d&eacute;veloppement de ces r&eacute;acteurs rend les vaisseaux plus rapides mais chaque niveau n'augmente la vitesse que de 10%.",
-117 => "Le r&eacute;acteur &agrave; impulsion est bas&eacute; sur le principe de r&eacute;action disant que la plus grande part de la masse du rayon est gagn&eacute;e comme sous-produit de la fusion d'atomes qui sert &agrave; produire l'&eacute;nergie n&eacute;cessaire.",
-118 => "Par une d&eacute;formation spatiale et temporelle dans l'environnement du vaisseau, l'espace est comprim&eacute; ce qui permet de parcourir de longues distances dans un minimum de temps.",
-120 => "La concentration de lumi&egrave;re cr&eacute;e un rayon pouvant cr&eacute;er des d&eacute;g&acirc;ts importants  en touchant un objet.",
-121 => "Rayon mortel compos&eacute; d'ions acc&eacute;l&eacute;r&eacute;s. En touchant un objet, il cause des d&eacute;g&acirc;ts importants.",
-122 => "Une am&eacute;lioration de la technologie d'ions qui n'acc&eacute;l&egrave;re pas des ions mais du plasma tr&egrave;s &eacute;nerg&eacute;tique. Ceci a un effet d&eacute;vastateur en touchant un objet.",
-123 => "Les chercheurs de plusieurs plan&egrave;tes utilisent ce r&eacute;seau pour communiquer.",
-124 => "Les vaisseaux peuvent dor&eacute;navant &ecirc;tre &eacute;quip&eacute;s de modules de recherche qui permettent l'&eacute;valuation scientifique des donn&eacute;es recueillies lors de longues exp&eacute;ditions.",
-199 => "Une quantit&eacute; concentr&eacute;e de particules de graviton, r&eacute;seau artificiel de gravitation, est propuls&eacute;e, capable de d&eacute;truire des vaisseaux ou m&ecirc;me des lunes.",
-
-202 => "Le petit transporteur est un vaisseau tr&egrave;s maniable et capable de transporter des mati&egrave;res premi&egrave;res sur d'autres plan&egrave;tes rapidement.",
-203 => "Le d&eacute;veloppement du transporteur augmente la capacit&eacute; de fret et rend le vaisseau plus rapide que le petit transporteur.",
-204 => "Le chasseur l&eacute;ger est un vaisseau tr&egrave;s manoeuvrable qui est stationn&eacute; sur presque toutes les plan&egrave;tes. Les co&ucirc;ts ne sont pas tr&egrave;s importants, mais la puissance du bouclier et la capacit&eacute; de fret sont tr&egrave;s limit&eacute;es.",
-205 => "Cette version am&eacute;lior&eacute;e du chasseur l&eacute;ger poss&egrave;de une meilleure protection et une capacit&eacute; d'attaque plus importante.",
-206 => "Les croiseurs ont une protection presque trois fois plus importante que celle des chasseurs lourds et leur puissance de tir est plus de deux fois plus grande. De plus, ils sont tr&egrave;s rapides.",
-207 => "Les vaisseaux de bataille jouent un r&ocirc;le central dans les flottes. Avec leur artillerie lourde, leur vitesse consid&eacute;rable et la grande capacit&eacute; de fret, ils sont des adversaires respectables.",
-208 => "Les nouvelles plan&egrave;tes peuvent &ecirc;tre colonis&eacute;es avec ce vaisseau.",
-209 => "Le recycleur collecte les ressources dans les Champs de d&eacute;bris.",
-210 => "Les sondes d'espionnage sont des petits drones manoeuvrables qui espionnent les plan&egrave;tes m&ecirc;me &agrave; grande distance.",
-211 => "Le bombardier a &eacute;t&eacute; d&eacute;velopp&eacute; pour pouvoir d&eacute;truire les installations de d&eacute;fense des plan&egrave;tes.",
-212 => "Les satellites solaires sont des plates-formes couvertes de cellules solaires, qui se trouvent dans une orbite tr&egrave;s &eacute;lev&eacute;e et stationnaire. Ils collectent la lumi&egrave;re du soleil et la transmettent par laser &agrave; la station de base.",
+24 => "Réservoirs géants pour le stockage de deutérium.",
+31 => "Le laboratoire de recherche est nécessaire pour développer de nouvelles technologies.",
+33 => "Le terraformeur permet d'agrandir la surface utile des planètes.",
+34 => "Le dépôt de ravitaillement permet le stationnement prolongé de flottes d'autres membres de l'alliance ou de flottes de membres de votre liste d'amis pour augmenter la défense d'une planète. Les flottes restent en orbite et reçoivent le carburant nécessaire depuis ce dépôt.",
+41 => "Une lune n'ayant pas d'atmosphère, une base lunaire est nécessaire pour pouvoir commencer la colonisation.",
+42 => "La phalange de capteur permet d'observer les mouvements de flotte. Une phalange de niveau élevé a une plus grande portée.",
+43 => "Les portes de saut spatial sont d'immenses émetteurs permettant de transporter des vaisseaux à travers la galaxie sans perte de temps.",
+44 => "Les silos de missiles servent à stocker les missiles.",
+
+106 => "Cette technologie permet d'obtenir des informations sur les autres planètes de l'univers.",
+108 => "Avec l'augmentation des capacités des ordinateurs, plus de flottes peuvent être commandées. Chaque niveau de technologie ordinateur augmente d'une le nombre total de flottes commandables.",
+109 => "La technologie armes rend les systèmes d'armes plus efficaces. Chaque niveau de technologie armes augmente la puissance des armes des unités par tranche de 10% de la valeur de base.",
+110 => "Chaque niveau de la technologie de bouclier augmente l'efficacité des boucliers par tranche de 10%.",
+111 => "Des alliages spéciaux rendent les vaisseaux spatiaux de plus en plus résistants. L'efficacité des protections peut être augmentée de 10% par niveau.",
+113 => "Maîtriser les différents types d'énergie est nécessaire pour de nombreuses technologies.",
+114 => "L'intégration de la 4eme et de la 5eme dimension permet le développement d'un nouveau genre de propulsion plus puissant et efficace.",
+115 => "Le développement de ces réacteurs rend les vaisseaux plus rapides mais chaque niveau n'augmente la vitesse que de 10%.",
+117 => "Le réacteur à impulsion est basé sur le principe de réaction disant que la plus grande part de la masse du rayon est gagnée comme sous-produit de la fusion d'atomes qui sert à produire l'énergie nécessaire.",
+118 => "Par une déformation spatiale et temporelle dans l'environnement du vaisseau, l'espace est comprimé ce qui permet de parcourir de longues distances dans un minimum de temps.",
+120 => "La concentration de lumière crée un rayon pouvant créer des dégâts importants  en touchant un objet.",
+121 => "Rayon mortel composé d'ions accélérés. En touchant un objet, il cause des dégâts importants.",
+122 => "Une amélioration de la technologie d'ions qui n'accélère pas des ions mais du plasma très énergétique. Ceci a un effet dévastateur en touchant un objet.",
+123 => "Les chercheurs de plusieurs planètes utilisent ce réseau pour communiquer.",
+124 => "Les vaisseaux peuvent dorénavant être équipés de modules de recherche qui permettent l'évaluation scientifique des données recueillies lors de longues expéditions.",
+199 => "Une quantité concentrée de particules de graviton, réseau artificiel de gravitation, est propulsée, capable de détruire des vaisseaux ou même des lunes.",
+
+202 => "Le petit transporteur est un vaisseau très maniable et capable de transporter des matières premières sur d'autres planètes rapidement.",
+203 => "Le développement du transporteur augmente la capacité de fret et rend le vaisseau plus rapide que le petit transporteur.",
+204 => "Le chasseur léger est un vaisseau très manoeuvrable qui est stationné sur presque toutes les planètes. Les coûts ne sont pas très importants, mais la puissance du bouclier et la capacité de fret sont très limitées.",
+205 => "Cette version améliorée du chasseur léger possède une meilleure protection et une capacité d'attaque plus importante.",
+206 => "Les croiseurs ont une protection presque trois fois plus importante que celle des chasseurs lourds et leur puissance de tir est plus de deux fois plus grande. De plus, ils sont très rapides.",
+207 => "Les vaisseaux de bataille jouent un rôle central dans les flottes. Avec leur artillerie lourde, leur vitesse considérable et la grande capacité de fret, ils sont des adversaires respectables.",
+208 => "Les nouvelles planètes peuvent être colonisées avec ce vaisseau.",
+209 => "Le recycleur collecte les ressources dans les Champs de débris.",
+210 => "Les sondes d'espionnage sont des petits drones manoeuvrables qui espionnent les planètes même à grande distance.",
+211 => "Le bombardier a été développé pour pouvoir détruire les installations de défense des planètes.",
+212 => "Les satellites solaires sont des plates-formes couvertes de cellules solaires, qui se trouvent dans une orbite très élevée et stationnaire. Ils collectent la lumière du soleil et la transmettent par laser à la station de base.",
 213 => "Le destructeur est le roi des vaisseaux de guerre.",
-214 => "La puissance de destruction de l'&eacute;toile de la mort est imbattable.",
-215 => "Le traqueur est sp&eacute;cialis&eacute; dans l'interception de flottes ennemies.",
-
-401 => "Le lanceur de missiles est une fa&ccedil;on simple et bon march&eacute; de se d&eacute;fendre.",
-402 => "Le bombardement concentr&eacute; de photons peut causer des d&eacute;g&acirc;ts nettement plus important que les armes balistiques habituelles.",
-403 => "L'artillerie lourde au laser est l'&eacute;volution cons&eacute;quente de l'artillerie l&eacute;g&egrave;re au laser.",
-404 => "Le canon de Gauss (canon &eacute;lectromagn&eacute;tique) acc&eacute;l&egrave;re un projectile pesant des tonnes en consommant une gigantesque quantit&eacute; d'&eacute;nergie.",
-405 => "L'artillerie d'ions lance des vagues d'ions sur l'objet, ce qui d&eacute;stabilise les boucliers et endommage l'&eacute;lectronique.",
-406 => "Les lanceurs de plasma disposent de la puissance d'une &eacute;ruption solaire et peuvent donc &ecirc;tre plus destructeurs que les destructeurs eux-m&ecirc;mes.",
-407 => "Le petit bouclier couvre toute une plan&egrave;te avec un champ infranchissable qui peut absorber une quantit&eacute; &eacute;norme d'&eacute;nergie.",
-408 => "L'am&eacute;lioration du petit bouclier peut se servir de nettement plus d'&eacute;nergie pour se d&eacute;fendre.",
-502 => "Le missile interception d&eacute;truit les missiles adverses.",
-503 => "Les missiles interplan&eacute;taires d&eacute;truisent la d&eacute;fense adverse.",
+214 => "La puissance de destruction de l'étoile de la mort est imbattable.",
+215 => "Le traqueur est spécialisé dans l'interception de flottes ennemies.",
+216 => "La supernova est le vaisseau ultime, construit par les admins pour punir les joueurs indisciplinés. Sa puissance et sa vitesse sont inégalables, seule une supernova peut battre une supernova.",
+
+401 => "Le lanceur de missiles est une façon simple et bon marché de se défendre.",
+402 => "Le bombardement concentré de photons peut causer des dégâts nettement plus important que les armes balistiques habituelles.",
+403 => "L'artillerie lourde au laser est l'évolution conséquente de l'artillerie légère au laser.",
+404 => "Le canon de Gauss (canon électromagnétique) accélère un projectile pesant des tonnes en consommant une gigantesque quantité d'énergie.",
+405 => "L'artillerie d'ions lance des vagues d'ions sur l'objet, ce qui déstabilise les boucliers et endommage l'électronique.",
+406 => "Les lanceurs de plasma disposent de la puissance d'une éruption solaire et peuvent donc être plus destructeurs que les destructeurs eux-mêmes.",
+407 => "Le petit bouclier couvre toute une planète avec un champ infranchissable qui peut absorber une quantité énorme d'énergie.",
+408 => "L'amélioration du petit bouclier peut se servir de nettement plus d'énergie pour se défendre.",
+502 => "Le missile interception détruit les missiles adverses.",
+503 => "Les missiles interplanétaires détruisent la défense adverse.",
 
 );
 
-// Created by Perberos. All rights reversed (C) 2006
-// Complet by XNova Team. All rights reversed (C) 2008
 ?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/language/fr/tradingscrapmetal.mo b/xnova-legacies_2009.4/language/fr/tradingscrapmetal.mo
index 875baae..070ebff 100644
--- a/xnova-legacies_2009.3/language/fr/tradingscrapmetal.mo
+++ b/xnova-legacies_2009.4/language/fr/tradingscrapmetal.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/admin/Queries.mo b/xnova-legacies_2009.4/language/it/admin/Queries.mo
index 9777dca..dfb3332 100644
--- a/xnova-legacies_2009.3/language/it/admin/Queries.mo
+++ b/xnova-legacies_2009.4/language/it/admin/Queries.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/admin/add_fleet.mo b/xnova-legacies_2009.4/language/it/admin/add_fleet.mo
index 73fd444..685bdf8 100644
--- a/xnova-legacies_2009.3/language/it/admin/add_fleet.mo
+++ b/xnova-legacies_2009.4/language/it/admin/add_fleet.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/admin/addmoon.mo b/xnova-legacies_2009.4/language/it/admin/addmoon.mo
index cba5a9d..d33be7d 100644
--- a/xnova-legacies_2009.3/language/it/admin/addmoon.mo
+++ b/xnova-legacies_2009.4/language/it/admin/addmoon.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/admin/adminpanel.mo b/xnova-legacies_2009.4/language/it/admin/adminpanel.mo
index 4704348..361aca1 100644
--- a/xnova-legacies_2009.3/language/it/admin/adminpanel.mo
+++ b/xnova-legacies_2009.4/language/it/admin/adminpanel.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -29,8 +29,8 @@
  */
 
 $lang['adm_usr_level'][0] = "Gioco";
-$lang['adm_usr_level'][1] = "Game Operator";
-$lang['adm_usr_level'][2] = "Moderatore";
+$lang['adm_usr_level'][2] = "Game Operator";
+$lang['adm_usr_level'][1] = "Moderatore";
 $lang['adm_usr_level'][3] = "Amministratore";
 $lang['adm_usr_genre']['M'] = "Maschio";
 $lang['adm_usr_genre']['F'] = "Femmina";
diff --git a/xnova-legacies_2009.3/language/it/admin/changepass.mo b/xnova-legacies_2009.4/language/it/admin/changepass.mo
index 4727750..a908cfb 100644
--- a/xnova-legacies_2009.3/language/it/admin/changepass.mo
+++ b/xnova-legacies_2009.4/language/it/admin/changepass.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/admin/fleets.mo b/xnova-legacies_2009.4/language/it/admin/fleets.mo
index b30e735..579e9df 100644
--- a/xnova-legacies_2009.3/language/it/admin/fleets.mo
+++ b/xnova-legacies_2009.4/language/it/admin/fleets.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/admin/md5enc.mo b/xnova-legacies_2009.4/language/it/admin/md5enc.mo
index e992ac3..c69bf64 100644
--- a/xnova-legacies_2009.3/language/it/admin/md5enc.mo
+++ b/xnova-legacies_2009.4/language/it/admin/md5enc.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/admin/messagelist.mo b/xnova-legacies_2009.4/language/it/admin/messagelist.mo
index b035909..780b81e 100644
--- a/xnova-legacies_2009.3/language/it/admin/messagelist.mo
+++ b/xnova-legacies_2009.4/language/it/admin/messagelist.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/admin/multi.mo b/xnova-legacies_2009.4/language/it/admin/multi.mo
index b68c49e..de0dff0 100644
--- a/xnova-legacies_2009.3/language/it/admin/multi.mo
+++ b/xnova-legacies_2009.4/language/it/admin/multi.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/admin/settings.mo b/xnova-legacies_2009.4/language/it/admin/settings.mo
index 8ace7a0..d6a2cf3 100644
--- a/xnova-legacies_2009.3/language/it/admin/settings.mo
+++ b/xnova-legacies_2009.4/language/it/admin/settings.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/admin/statconfig.mo b/xnova-legacies_2009.4/language/it/admin/statconfig.mo
index c3f0977..0cdcd13 100644
--- a/xnova-legacies_2009.3/language/it/admin/statconfig.mo
+++ b/xnova-legacies_2009.4/language/it/admin/statconfig.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/admin.mo b/xnova-legacies_2009.4/language/it/admin.mo
index 3480635..6b97684 100644
--- a/xnova-legacies_2009.3/language/it/admin.mo
+++ b/xnova-legacies_2009.4/language/it/admin.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/alliance.mo b/xnova-legacies_2009.4/language/it/alliance.mo
index 0d7a0f8..97206ff 100644
--- a/xnova-legacies_2009.3/language/it/alliance.mo
+++ b/xnova-legacies_2009.4/language/it/alliance.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -72,7 +72,7 @@ $lang['Circular_sended'] = 'I seguenti giocatori hanno ricevuto il messaggio';
 $lang['it_is_not_posible_to_apply'] = "Impossibile in questo modo";
 $lang['write_apply'] = "Testo della richiesta";
 $lang['your_apply'] = 'Propria richiesta';
-$lang['apply_registered'] = 'La tua richiesta  stata inoltrata. Si visualizzer&agrave; un messaggio alla risposta<br><br><a href=alliance.php>Torna indietro</a>';
+$lang['apply_registered'] = 'La tua richiesta � stata inoltrata. Si visualizzer&agrave; un messaggio alla risposta<br><br><a href=alliance.php>Torna indietro</a>';
 $lang['apply_cantbeadded'] = 'La richiesta non pu&oacute; essere inviata!';
 
 $lang['Exit_of_this_alliance'] = "Esci dall\'alleanza";
@@ -94,7 +94,7 @@ $lang['Write_to_alliance'] = 'Invia richiesta di partecipazione [%s]';
 
 $lang['There_is_no_a_text_apply'] = 'La direzione di questa alleanza non ha creato un testo';
 $lang['Waiting_a_request_text'] = 'Avete gi&agrave; inviato una richiesta all\'alleanza[%s]. Attendere la risposta o ritirare la domanda.';
-$lang['Canceled_a_request_text'] = 'L\'alleanza [%s] non ha  accettato la richiesta,  possibile inviare una nuova richiesta o creare una propria alleanza.';
+$lang['Canceled_a_request_text'] = 'L\'alleanza [%s] non ha  accettato la richiesta, � possibile inviare una nuova richiesta o creare una propria alleanza.';
 
 $lang['Online'] = 'Online';
 $lang['Ammount'] = 'Numero';
diff --git a/xnova-legacies_2009.3/language/it/banned.mo b/xnova-legacies_2009.4/language/it/banned.mo
index 97c7141..db61be1 100644
--- a/xnova-legacies_2009.3/language/it/banned.mo
+++ b/xnova-legacies_2009.4/language/it/banned.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/buddy.mo b/xnova-legacies_2009.4/language/it/buddy.mo
index 9983dc4..30f49e4 100644
--- a/xnova-legacies_2009.3/language/it/buddy.mo
+++ b/xnova-legacies_2009.4/language/it/buddy.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/buildings.mo b/xnova-legacies_2009.4/language/it/buildings.mo
index 9ad6f8b..55bcd6f 100644
--- a/xnova-legacies_2009.3/language/it/buildings.mo
+++ b/xnova-legacies_2009.4/language/it/buildings.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/changelog.mo b/xnova-legacies_2009.4/language/it/changelog.mo
index f04ab98..99e7c44 100644
--- a/xnova-legacies_2009.3/language/it/changelog.mo
+++ b/xnova-legacies_2009.4/language/it/changelog.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/chat.mo b/xnova-legacies_2009.4/language/it/chat.mo
index 1268f13..f1a5013 100644
--- a/xnova-legacies_2009.3/language/it/chat.mo
+++ b/xnova-legacies_2009.4/language/it/chat.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/contact.mo b/xnova-legacies_2009.4/language/it/contact.mo
index 477c773..c3e4722 100644
--- a/xnova-legacies_2009.3/language/it/contact.mo
+++ b/xnova-legacies_2009.4/language/it/contact.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/cookies.mo b/xnova-legacies_2009.4/language/it/cookies.mo
index 93f29f5..93cdb86 100644
--- a/xnova-legacies_2009.3/language/it/cookies.mo
+++ b/xnova-legacies_2009.4/language/it/cookies.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/credit.mo b/xnova-legacies_2009.4/language/it/credit.mo
index 5e74619..57c08e6 100644
--- a/xnova-legacies_2009.3/language/it/credit.mo
+++ b/xnova-legacies_2009.4/language/it/credit.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/fleet.mo b/xnova-legacies_2009.4/language/it/fleet.mo
index 4c02f2c..e580be6 100644
--- a/xnova-legacies_2009.3/language/it/fleet.mo
+++ b/xnova-legacies_2009.4/language/it/fleet.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/galaxy.mo b/xnova-legacies_2009.4/language/it/galaxy.mo
index c48df50..c94301c 100644
--- a/xnova-legacies_2009.3/language/it/galaxy.mo
+++ b/xnova-legacies_2009.4/language/it/galaxy.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/imperium.mo b/xnova-legacies_2009.4/language/it/imperium.mo
index 8b2627d..9991b04 100644
--- a/xnova-legacies_2009.3/language/it/imperium.mo
+++ b/xnova-legacies_2009.4/language/it/imperium.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/index.mo b/xnova-legacies_2009.4/language/it/index.mo
index d998b22..c24c0d6 100644
--- a/xnova-legacies_2009.3/language/it/index.mo
+++ b/xnova-legacies_2009.4/language/it/index.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/infos.mo b/xnova-legacies_2009.4/language/it/infos.mo
index 1aa7bbd..6518907 100644
--- a/xnova-legacies_2009.3/language/it/infos.mo
+++ b/xnova-legacies_2009.4/language/it/infos.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/admin.mo b/xnova-legacies_2009.4/language/it/install/admin.mo
index 4de52ab..c83d32c 100644
--- a/xnova-legacies_2009.3/language/it/install/admin.mo
+++ b/xnova-legacies_2009.4/language/it/install/admin.mo
@@ -1,6 +1,6 @@
 ﻿<?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/alliance.mo b/xnova-legacies_2009.4/language/it/install/alliance.mo
index 38a9915..0e3d8ac 100644
--- a/xnova-legacies_2009.3/language/it/install/alliance.mo
+++ b/xnova-legacies_2009.4/language/it/install/alliance.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  
 * @license http://www.gnu.org/licenses/gpl-3.0.txt
@@ -81,7 +81,7 @@ $lang['Novate'] = 'Novizio';
 
 $lang['Founder'] = 'Fondatore';
 
-$lang['Circular_sended'] = 'Il messaggio  stato inviato agli altri giocatori';
+$lang['Circular_sended'] = 'Il messaggio � stato inviato agli altri giocatori';
 
 //Solicitud
 $lang['it_is_not_posible_to_apply'] = "Impossibile applicare";
@@ -109,7 +109,7 @@ $lang['Write_to_alliance'] = 'Invia una richiesta all\'alleanza [%s]';
 
 $lang['There_is_no_a_text_apply'] = 'L\'alleanza non ha ancora creato un testo';
 $lang['Waiting_a_request_text'] = 'Avete gi&agrave; inviato una richiesta all\'alleanza [%s]. Attendete una risposta.';
-$lang['Canceled_a_request_text'] = 'L\'alleanza [%s] non ha  accettato la richiesta,  possibile inviare una nuova richiesta o creare una propria alleanza.';
+$lang['Canceled_a_request_text'] = 'L\'alleanza [%s] non ha  accettato la richiesta, � possibile inviare una nuova richiesta o creare una propria alleanza.';
 
 $lang['Online'] = 'Online';
 $lang['Ammount'] = 'Numero';
diff --git a/xnova-legacies_2009.3/language/it/install/banned.mo b/xnova-legacies_2009.4/language/it/install/banned.mo
index 8386438..26b8c5f 100644
--- a/xnova-legacies_2009.3/language/it/install/banned.mo
+++ b/xnova-legacies_2009.4/language/it/install/banned.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/buddy.mo b/xnova-legacies_2009.4/language/it/install/buddy.mo
index 9983dc4..30f49e4 100644
--- a/xnova-legacies_2009.3/language/it/install/buddy.mo
+++ b/xnova-legacies_2009.4/language/it/install/buddy.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/buildings.mo b/xnova-legacies_2009.4/language/it/install/buildings.mo
index e77562b..ecfb4c9 100644
--- a/xnova-legacies_2009.3/language/it/install/buildings.mo
+++ b/xnova-legacies_2009.4/language/it/install/buildings.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/changelog.mo b/xnova-legacies_2009.4/language/it/install/changelog.mo
index 0d7755e..d40507d 100644
--- a/xnova-legacies_2009.3/language/it/install/changelog.mo
+++ b/xnova-legacies_2009.4/language/it/install/changelog.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -120,7 +120,7 @@ $lang['changelog']   = array(
 '0.7a' => 'Diversi : (di Chlorel)
 - Bug Tecnologia (la durata delle ricerche appare nuovamente quando si ritorna al Laboratorio)
 - Bug Missili (corretta la portata dei missili interplanetari ed inserito il limite di costruzione in base alla dimensione del silo missilistico)
-- Corretto il bug della portata della Falange; (non si pu pi&ugrave; falangiare tutta la galassia)
+- Corretto il bug della portata della Falange; (non si pu� pi&ugrave; falangiare tutta la galassia)
 - Corretto il bug del consumo di deuterio quando si passa nel men&ugrave; galassia',
 
 '0.7' => 'Edifici :
diff --git a/xnova-legacies_2009.3/language/it/install/chat.mo b/xnova-legacies_2009.4/language/it/install/chat.mo
index 0257766..d1e07d7 100644
--- a/xnova-legacies_2009.3/language/it/install/chat.mo
+++ b/xnova-legacies_2009.4/language/it/install/chat.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/contact.mo b/xnova-legacies_2009.4/language/it/install/contact.mo
index 1837512..4e85c5d 100644
--- a/xnova-legacies_2009.3/language/it/install/contact.mo
+++ b/xnova-legacies_2009.4/language/it/install/contact.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/cookies.mo b/xnova-legacies_2009.4/language/it/install/cookies.mo
index 93f29f5..93cdb86 100644
--- a/xnova-legacies_2009.3/language/it/install/cookies.mo
+++ b/xnova-legacies_2009.4/language/it/install/cookies.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/credit.mo b/xnova-legacies_2009.4/language/it/install/credit.mo
index 4befe47..4bba0e3 100644
--- a/xnova-legacies_2009.3/language/it/install/credit.mo
+++ b/xnova-legacies_2009.4/language/it/install/credit.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/fleet.mo b/xnova-legacies_2009.4/language/it/install/fleet.mo
index 4c02f2c..e580be6 100644
--- a/xnova-legacies_2009.3/language/it/install/fleet.mo
+++ b/xnova-legacies_2009.4/language/it/install/fleet.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/galaxy.mo b/xnova-legacies_2009.4/language/it/install/galaxy.mo
index 753932f..bc4a927 100644
--- a/xnova-legacies_2009.3/language/it/install/galaxy.mo
+++ b/xnova-legacies_2009.4/language/it/install/galaxy.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/imperium.mo b/xnova-legacies_2009.4/language/it/install/imperium.mo
index a61f91e..6d94ff1 100644
--- a/xnova-legacies_2009.3/language/it/install/imperium.mo
+++ b/xnova-legacies_2009.4/language/it/install/imperium.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/index.mo b/xnova-legacies_2009.4/language/it/install/index.mo
index 6fcbfaf..01a8154 100644
--- a/xnova-legacies_2009.3/language/it/install/index.mo
+++ b/xnova-legacies_2009.4/language/it/install/index.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/infos.mo b/xnova-legacies_2009.4/language/it/install/infos.mo
index bee9471..3701629 100644
--- a/xnova-legacies_2009.3/language/it/install/infos.mo
+++ b/xnova-legacies_2009.4/language/it/install/infos.mo
@@ -1,6 +1,6 @@
 ﻿<?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/install.mo b/xnova-legacies_2009.4/language/it/install/install.mo
index 14dc324..9879784 100644
--- a/xnova-legacies_2009.3/language/it/install/install.mo
+++ b/xnova-legacies_2009.4/language/it/install/install.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -49,22 +49,22 @@ $lang['ins_error2']       = "Il file config.php non puO&grave essere sostituito"
 
 $lang['ins_tx_welco']     = "Benvenuti alla installazione di XNova";
 $lang['ins_tx_intr1']     = "Il progetto XNova ti permette di installare un clone quasi perfetto ogame";
-$lang['ins_tx_intr2']     = "Il progetto XNova  libero, gratuito ed open source. Grazie di non fare un uso commerciale";
+$lang['ins_tx_intr2']     = "Il progetto XNova � libero, gratuito ed open source. Grazie di non fare un uso commerciale";
 $lang['ins_tx_intr3']     = "In segno di rispetto per il team che sviluppa questo progetto, siete pregati di non rimuovere il materiale protetto da copyright dai file sorgente.";
 $lang['ins_tx_inst1']     = "Il file config.php deve essere CHMOD 777";
-$lang['ins_tx_inst2']     = " necessario disporre di un database MySQL";
-$lang['ins_tx_inst3']     = " necessario compilare correttamente il modulo sottostante per continuare l'installazione: ";
+$lang['ins_tx_inst2']     = "� necessario disporre di un database MySQL";
+$lang['ins_tx_inst3']     = "� necessario compilare correttamente il modulo sottostante per continuare l'installazione: ";
 $lang['ins_tx_acc1']      = "Si sta per creare un account amministratore ";
 $lang['ins_tx_acc2']      = "Compila il modulo con le informazioni account: ";
 $lang['ins_tx_goto1']     = "Scegliendo questa metodo  d'installazione, potrete trasformare una banca dati in un database XNova UGamela".
-$lang['ins_tx_goto2']     = "Questo funziona, ma  preferibile ad una installazione completa di XNova".
+$lang['ins_tx_goto2']     = "Questo funziona, ma � preferibile ad una installazione completa di XNova".
 $lang['ins_tx_goto3']     = "Si prende un rischio da trasformare il database, fare un backup prima! "
-$lang['ins_tx_goto4']     = "Occorre aver gi installato UGamela ";
-$lang['ins_tx_goto5']     = "Compila il modulo sottostante con informazioni esatte dal database di cui  stato installato UGamela. Se si  sbagliato, il rookeries trasferimento: ";
-$lang['ins_tx_done1']     = "Il database  installato! ";
-$lang['ins_tx_done2']     = "L'account Administrator  stato creato correttamente! "
+$lang['ins_tx_goto4']     = "Occorre aver gi� installato UGamela ";
+$lang['ins_tx_goto5']     = "Compila il modulo sottostante con informazioni esatte dal database di cui � stato installato UGamela. Se si � sbagliato, il rookeries trasferimento: ";
+$lang['ins_tx_done1']     = "Il database � installato! ";
+$lang['ins_tx_done2']     = "L'account Administrator � stato creato correttamente! "
 $lang['ins_tx_done3']     = "Si consiglia di rimuovere la cartella <i> installa </ i> se non hai bisogno di installazione!"
-$lang['ins_tx_done4']     = "Il trasferimento  stato fatto correttamente! "
+$lang['ins_tx_done4']     = "Il trasferimento � stato fatto correttamente! "
 
 $lang['ins_form_server']  = "Server SQL";
 $lang['ins_form_db']      = "Database";
diff --git a/xnova-legacies_2009.3/language/it/install/lang_info.cfg b/xnova-legacies_2009.4/language/it/install/lang_info.cfg
index b34609b..c108461 100644
--- a/xnova-legacies_2009.3/language/it/install/lang_info.cfg
+++ b/xnova-legacies_2009.4/language/it/install/lang_info.cfg
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/leftmenu.mo b/xnova-legacies_2009.4/language/it/install/leftmenu.mo
index 1382c55..9dcc338 100644
--- a/xnova-legacies_2009.3/language/it/install/leftmenu.mo
+++ b/xnova-legacies_2009.4/language/it/install/leftmenu.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/login.mo b/xnova-legacies_2009.4/language/it/install/login.mo
index ade8751..a10d1b7 100644
--- a/xnova-legacies_2009.3/language/it/install/login.mo
+++ b/xnova-legacies_2009.4/language/it/install/login.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/logout.mo b/xnova-legacies_2009.4/language/it/install/logout.mo
index 1077660..e59e9a0 100644
--- a/xnova-legacies_2009.3/language/it/install/logout.mo
+++ b/xnova-legacies_2009.4/language/it/install/logout.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/lostpassword.mo b/xnova-legacies_2009.4/language/it/install/lostpassword.mo
index 7ed23dd..2f100cf 100644
--- a/xnova-legacies_2009.3/language/it/install/lostpassword.mo
+++ b/xnova-legacies_2009.4/language/it/install/lostpassword.mo
@@ -1,7 +1,7 @@
 <?php
 
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  
 *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
diff --git a/xnova-legacies_2009.3/language/it/install/marchand.mo b/xnova-legacies_2009.4/language/it/install/marchand.mo
index 13d5b1e..d559a90 100644
--- a/xnova-legacies_2009.3/language/it/install/marchand.mo
+++ b/xnova-legacies_2009.4/language/it/install/marchand.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/messages.mo b/xnova-legacies_2009.4/language/it/install/messages.mo
index 249ed29..375b84c 100644
--- a/xnova-legacies_2009.3/language/it/install/messages.mo
+++ b/xnova-legacies_2009.4/language/it/install/messages.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/news.mo b/xnova-legacies_2009.4/language/it/install/news.mo
index fe835d9..f3b1ff4 100644
--- a/xnova-legacies_2009.3/language/it/install/news.mo
+++ b/xnova-legacies_2009.4/language/it/install/news.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  
 *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
diff --git a/xnova-legacies_2009.3/language/it/install/notes.mo b/xnova-legacies_2009.4/language/it/install/notes.mo
index 721e45e..f458bca 100644
--- a/xnova-legacies_2009.3/language/it/install/notes.mo
+++ b/xnova-legacies_2009.4/language/it/install/notes.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/officier.mo b/xnova-legacies_2009.4/language/it/install/officier.mo
index 8c6f3fb..c43e525 100644
--- a/xnova-legacies_2009.3/language/it/install/officier.mo
+++ b/xnova-legacies_2009.4/language/it/install/officier.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/options.mo b/xnova-legacies_2009.4/language/it/install/options.mo
index 55fc487..0f95e79 100644
--- a/xnova-legacies_2009.3/language/it/install/options.mo
+++ b/xnova-legacies_2009.4/language/it/install/options.mo
@@ -1,6 +1,6 @@
 ﻿<?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  
 *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
diff --git a/xnova-legacies_2009.3/language/it/install/overview.mo b/xnova-legacies_2009.4/language/it/install/overview.mo
index ddbdc00..fc257f3 100644
--- a/xnova-legacies_2009.3/language/it/install/overview.mo
+++ b/xnova-legacies_2009.4/language/it/install/overview.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/phalanx.mo b/xnova-legacies_2009.4/language/it/install/phalanx.mo
index df8a6e0..64333ae 100644
--- a/xnova-legacies_2009.3/language/it/install/phalanx.mo
+++ b/xnova-legacies_2009.4/language/it/install/phalanx.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/player.mo b/xnova-legacies_2009.4/language/it/install/player.mo
index eb80408..ef37b99 100644
--- a/xnova-legacies_2009.3/language/it/install/player.mo
+++ b/xnova-legacies_2009.4/language/it/install/player.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/records.mo b/xnova-legacies_2009.4/language/it/install/records.mo
index 8cc8691..366bae3 100644
--- a/xnova-legacies_2009.3/language/it/install/records.mo
+++ b/xnova-legacies_2009.4/language/it/install/records.mo
@@ -1,7 +1,7 @@
 <?php
 
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  
 *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
diff --git a/xnova-legacies_2009.3/language/it/install/reg.mo b/xnova-legacies_2009.4/language/it/install/reg.mo
index 036004c..491b0d5 100644
--- a/xnova-legacies_2009.3/language/it/install/reg.mo
+++ b/xnova-legacies_2009.4/language/it/install/reg.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/resources.mo b/xnova-legacies_2009.4/language/it/install/resources.mo
index 71909e6..973215b 100644
--- a/xnova-legacies_2009.3/language/it/install/resources.mo
+++ b/xnova-legacies_2009.4/language/it/install/resources.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -31,7 +31,7 @@
 $lang['Production_of_resources_in_the_planet'] = 'produzione di merci sul pianeta "%s"';
 $lang['Production_level'] = 'Livello di produzione';
 $lang['Basic_income'] = 'produzione di base';
-$lang['quantity'] = 'Quantit';
+$lang['quantity'] = 'Quantit�';
 $lang['level'] = 'Livello';
 $lang['Stores_capacity'] = 'Capacit&aacute; dei depositi';
 $lang['Widespread_production'] = 'misura di produzione';
diff --git a/xnova-legacies_2009.3/language/it/install/rules.mo b/xnova-legacies_2009.4/language/it/install/rules.mo
index 7685858..7f42a41 100644
--- a/xnova-legacies_2009.3/language/it/install/rules.mo
+++ b/xnova-legacies_2009.4/language/it/install/rules.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -43,10 +43,10 @@ $lang['MailIngame']   = 'VIII. Abus de la fonction de signalement de messages in
 $lang['OutXnova']     = 'IX.   Minacce al di fuori del campo di applicazione del server';
 $lang['Spam']         = 'X.    Spam, insulti e contenuti offensivi';
 
-$lang['AccountText']  = 'Un giocatore pu giocare solo su un account per universo.';
+$lang['AccountText']  = 'Un giocatore pu� giocare solo su un account per universo.';
 $lang['AccountText2'] = 'Un account deve essere gestito da una sola persona.';
 
-$lang['MultiAccountText']  = 'Giocare pi di un account per ogni universo  severamente vietato.';
+$lang['MultiAccountText']  = 'Giocare pi� di un account per ogni universo � severamente vietato.';
 $lang['MultiAccountText2'] = 'Si 2 joueurs ou plus se partagent la m&ecirc;me adresse IP (membres d\'une m&ecirc;me famille, couples, &eacute;coles etc), il ne doit y avoir aucun autre point commun entre ces comptes (faire partie de la m&ecirc;me alliance est tol&eacute;r&eacute;), ceci pouvant &ecirc;tre consid&eacute;r&eacute; comme du multi compte et &eacute;tant passible d\'un blocage.';
 $lang['MultiAccountText3'] = 'Toute interaction entre comptes sur la m&ecirc;me IP est interdite.';
 
diff --git a/xnova-legacies_2009.3/language/it/install/search.mo b/xnova-legacies_2009.4/language/it/install/search.mo
index 8becc0d..e6a4297 100644
--- a/xnova-legacies_2009.3/language/it/install/search.mo
+++ b/xnova-legacies_2009.4/language/it/install/search.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/stat.mo b/xnova-legacies_2009.4/language/it/install/stat.mo
index a2573bf..9881338 100644
--- a/xnova-legacies_2009.3/language/it/install/stat.mo
+++ b/xnova-legacies_2009.4/language/it/install/stat.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/system.mo b/xnova-legacies_2009.4/language/it/install/system.mo
index 2b4ddc2..bad7a69 100644
--- a/xnova-legacies_2009.3/language/it/install/system.mo
+++ b/xnova-legacies_2009.4/language/it/install/system.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/tech.mo b/xnova-legacies_2009.4/language/it/install/tech.mo
index 7b51337..abfacbf 100644
--- a/xnova-legacies_2009.3/language/it/install/tech.mo
+++ b/xnova-legacies_2009.4/language/it/install/tech.mo
@@ -1,6 +1,6 @@
 ﻿<?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install/tradingscrapmetal.mo b/xnova-legacies_2009.4/language/it/install/tradingscrapmetal.mo
index bcd4669..844d1e4 100644
--- a/xnova-legacies_2009.3/language/it/install/tradingscrapmetal.mo
+++ b/xnova-legacies_2009.4/language/it/install/tradingscrapmetal.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/install.php b/xnova-legacies_2009.4/language/it/install.php
diff --git a/xnova-legacies_2009.3/language/it/iso.txt b/xnova-legacies_2009.4/language/it/iso.txt
diff --git a/xnova-legacies_2009.3/language/it/lang_info.cfg b/xnova-legacies_2009.4/language/it/lang_info.cfg
index b34609b..c108461 100644
--- a/xnova-legacies_2009.3/language/it/lang_info.cfg
+++ b/xnova-legacies_2009.4/language/it/lang_info.cfg
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/leftmenu.mo b/xnova-legacies_2009.4/language/it/leftmenu.mo
index ad3ccba..f89a959 100644
--- a/xnova-legacies_2009.3/language/it/leftmenu.mo
+++ b/xnova-legacies_2009.4/language/it/leftmenu.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/login.mo b/xnova-legacies_2009.4/language/it/login.mo
index b04f3e5..2771a74 100644
--- a/xnova-legacies_2009.3/language/it/login.mo
+++ b/xnova-legacies_2009.4/language/it/login.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/logout.mo b/xnova-legacies_2009.4/language/it/logout.mo
index 57a5b41..9c7f0d4 100644
--- a/xnova-legacies_2009.3/language/it/logout.mo
+++ b/xnova-legacies_2009.4/language/it/logout.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/lostpassword.mo b/xnova-legacies_2009.4/language/it/lostpassword.mo
index 3fee7e5..95bd80a 100644
--- a/xnova-legacies_2009.3/language/it/lostpassword.mo
+++ b/xnova-legacies_2009.4/language/it/lostpassword.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/marchand.mo b/xnova-legacies_2009.4/language/it/marchand.mo
index 4383203..90d1335 100644
--- a/xnova-legacies_2009.3/language/it/marchand.mo
+++ b/xnova-legacies_2009.4/language/it/marchand.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/messages.mo b/xnova-legacies_2009.4/language/it/messages.mo
index 624f5f0..29b2761 100644
--- a/xnova-legacies_2009.3/language/it/messages.mo
+++ b/xnova-legacies_2009.4/language/it/messages.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/news.mo b/xnova-legacies_2009.4/language/it/news.mo
index cac7138..cf233c5 100644
--- a/xnova-legacies_2009.3/language/it/news.mo
+++ b/xnova-legacies_2009.4/language/it/news.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/notes.mo b/xnova-legacies_2009.4/language/it/notes.mo
index dfb1da4..3979999 100644
--- a/xnova-legacies_2009.3/language/it/notes.mo
+++ b/xnova-legacies_2009.4/language/it/notes.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/officier.mo b/xnova-legacies_2009.4/language/it/officier.mo
index 7f643c1..4b06922 100644
--- a/xnova-legacies_2009.3/language/it/officier.mo
+++ b/xnova-legacies_2009.4/language/it/officier.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/options.mo b/xnova-legacies_2009.4/language/it/options.mo
index 03437d7..eee7e56 100644
--- a/xnova-legacies_2009.3/language/it/options.mo
+++ b/xnova-legacies_2009.4/language/it/options.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/overview.mo b/xnova-legacies_2009.4/language/it/overview.mo
index 38ed5c8..a51f394 100644
--- a/xnova-legacies_2009.3/language/it/overview.mo
+++ b/xnova-legacies_2009.4/language/it/overview.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/phalanx.mo b/xnova-legacies_2009.4/language/it/phalanx.mo
index c222799..59cf3c8 100644
--- a/xnova-legacies_2009.3/language/it/phalanx.mo
+++ b/xnova-legacies_2009.4/language/it/phalanx.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/player.mo b/xnova-legacies_2009.4/language/it/player.mo
index eb80408..ef37b99 100644
--- a/xnova-legacies_2009.3/language/it/player.mo
+++ b/xnova-legacies_2009.4/language/it/player.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/records.mo b/xnova-legacies_2009.4/language/it/records.mo
index f9cbbec..6cd4fc1 100644
--- a/xnova-legacies_2009.3/language/it/records.mo
+++ b/xnova-legacies_2009.4/language/it/records.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/reg.mo b/xnova-legacies_2009.4/language/it/reg.mo
index b435521..675869a 100644
--- a/xnova-legacies_2009.3/language/it/reg.mo
+++ b/xnova-legacies_2009.4/language/it/reg.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/resources.mo b/xnova-legacies_2009.4/language/it/resources.mo
index f89b9ad..ccf2231 100644
--- a/xnova-legacies_2009.3/language/it/resources.mo
+++ b/xnova-legacies_2009.4/language/it/resources.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/rules.mo b/xnova-legacies_2009.4/language/it/rules.mo
index 7e90754..e4c753e 100644
--- a/xnova-legacies_2009.3/language/it/rules.mo
+++ b/xnova-legacies_2009.4/language/it/rules.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/search.mo b/xnova-legacies_2009.4/language/it/search.mo
index 8c6ec10..2fb42f9 100644
--- a/xnova-legacies_2009.3/language/it/search.mo
+++ b/xnova-legacies_2009.4/language/it/search.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/search.php b/xnova-legacies_2009.4/language/it/search.php
diff --git a/xnova-legacies_2009.3/language/it/settings.mo b/xnova-legacies_2009.4/language/it/settings.mo
index 5172b45..0cb17b4 100644
--- a/xnova-legacies_2009.3/language/it/settings.mo
+++ b/xnova-legacies_2009.4/language/it/settings.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -54,23 +54,23 @@ $lang['adm_opt_game_oth_plan'] = "Pianeta";
 $lang['adm_opt_btn_save']      = "Salva";
 
 $lang['adm_opt_warning1']      = "libreria GD del server Apache deve essere attivato! "
-$lang['adm_opt_menu_link_enable']      = "Abilita link personalizzabile? <br> (1 = s, 0 = no)";  
+$lang['adm_opt_menu_link_enable']      = "Abilita link personalizzabile? <br> (1 = s�, 0 = no)";  
 $lang['adm_opt_menu_link_text']      = "Link <br> Nome (se abilitato) ";
 $lang['adm_opt_menu_link_url']      = "Link URL <br> (se abilitato) ";
 $lang['adm_opt_control_pages']      = "Controllare le pagine visualizzate nel menu;
-$lang['enable_the_anounces']      = "Gli annunci di visualizzazione? <br> (S = 1 No = 0)";
-$lang['enable_the_marchand']      ="Mostra il mercante? <br> (S = 1 No = 0)";
-$lang['enable_the_notes']      = "Note Show? <br> (S = 1 No = 0)";
+$lang['enable_the_anounces']      = "Gli annunci di visualizzazione? <br> (S� = 1 No = 0)";
+$lang['enable_the_marchand']      ="Mostra il mercante? <br> (S� = 1 No = 0)";
+$lang['enable_the_notes']      = "Note Show? <br> (S� = 1 No = 0)";
 $lang['multi_bot_settings']      ="Bot Impostazioni anti-multiaccount";
-$lang['bot_name_multi']      = "<br> Bot Nome (verr visualizzato dentro il pilori);
-$lang['bot_adress_multi']      = "Indirizzo di risposta del <br> bot (verr visualizzato dentro il pilori)"; 
+$lang['bot_name_multi']      = "<br> Bot Nome (verr� visualizzato dentro il pilori);
+$lang['bot_adress_multi']      = "Indirizzo di risposta del <br> bot (verr� visualizzato dentro il pilori)"; 
 $lang['bot_ban_duration']      = "Durata del divieto da parte <br> bot (in giorni) "; 
-$lang['bot_active']      = "Attivazione <br> bot (1 = attiva, 0 = non attiva) <br> Per impostazione predefinita, il bot  spento;."; 
+$lang['bot_active']      = "Attivazione <br> bot (1 = attiva, 0 = non attiva) <br> Per impostazione predefinita, il bot � spento;."; 
 $lang['stat_settings_desc']      = "Tuning di statistiche ";
 $lang['stat_desc']      = "1 Punto= ";
 $lang['stat_units']      = "Risorse spese ";
 $lang['banner']      = "Banner";
 $lang['source_banner']      = "Fonte <u> PNG </ u> il banner ";
-$lang['banner_currently_installed']      = "Banner  attualmente installato ";
+$lang['banner_currently_installed']      = "Banner � attualmente installato ";
 
 ?>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/language/it/stat.mo b/xnova-legacies_2009.4/language/it/stat.mo
index 8733697..2fc64ea 100644
--- a/xnova-legacies_2009.3/language/it/stat.mo
+++ b/xnova-legacies_2009.4/language/it/stat.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/system.mo b/xnova-legacies_2009.4/language/it/system.mo
index 771c2b2..c6e86ad 100644
--- a/xnova-legacies_2009.3/language/it/system.mo
+++ b/xnova-legacies_2009.4/language/it/system.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/tech.mo b/xnova-legacies_2009.4/language/it/tech.mo
index 1023a02..564ad73 100644
--- a/xnova-legacies_2009.3/language/it/tech.mo
+++ b/xnova-legacies_2009.4/language/it/tech.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/language/it/tradingscrapmetal.mo b/xnova-legacies_2009.4/language/it/tradingscrapmetal.mo
index 9bd8ecf..1dcf4eb 100644
--- a/xnova-legacies_2009.3/language/it/tradingscrapmetal.mo
+++ b/xnova-legacies_2009.4/language/it/tradingscrapmetal.mo
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/leftmenu.php b/xnova-legacies_2009.4/leftmenu.php
index f210ed4..5b18b80 100644
--- a/xnova-legacies_2009.3/leftmenu.php
+++ b/xnova-legacies_2009.4/leftmenu.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/login.php b/xnova-legacies_2009.4/login.php
diff --git a/xnova-legacies_2009.3/logout.php b/xnova-legacies_2009.4/logout.php
index f3b452c..5c484ed 100644
--- a/xnova-legacies_2009.3/logout.php
+++ b/xnova-legacies_2009.4/logout.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/lostpassword.php b/xnova-legacies_2009.4/lostpassword.php
diff --git a/xnova-legacies_2009.3/marchand.php b/xnova-legacies_2009.4/marchand.php
index 7e2b408..2a0a818 100644
--- a/xnova-legacies_2009.3/marchand.php
+++ b/xnova-legacies_2009.4/marchand.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/messages.php b/xnova-legacies_2009.4/messages.php
index 95682e8..508c068 100644
--- a/xnova-legacies_2009.3/messages.php
+++ b/xnova-legacies_2009.4/messages.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -32,38 +32,41 @@ define('INSIDE' , true);
 define('INSTALL' , false);
 require_once dirname(__FILE__) .'/common.php';
 include(ROOT_PATH . 'includes/functions/BBcodeFunction.' . PHPEXT);
-if($user['authlevel']!="1"&$user['authlevel']!="3"&$user['authlevel']!="0"){ header("Location: login.php");}
 
-	includeLang('messages');
+if(!isset($user['authlevel'])) {
+    header("Location: login.php");
+}
 
+includeLang('messages');
 
-	$OwnerID       = $_GET['id'];
-	$MessCategory  = $_GET['messcat'];
-	$MessPageMode  = $_GET["mode"];
-	$DeleteWhat    = $_POST['deletemessages'];
-	if (isset ($DeleteWhat)) {
-		$MessPageMode = "delete";
-	}
 
-	$UsrMess       = doquery("SELECT * FROM {{table}} WHERE `message_owner` = '".$user['id']."' ORDER BY `message_time` DESC;", 'messages');
-	$UnRead        = doquery("SELECT * FROM {{table}} WHERE `id` = '". $user['id'] ."';", 'users', true);
+$OwnerID       = $_GET['id'];
+$MessCategory  = $_GET['messcat'];
+$MessPageMode  = (string) $_GET['mode'];
+$DeleteWhat    = $_POST['deletemessages'];
+if (isset ($DeleteWhat)) {
+	$MessPageMode = "delete";
+}
 
-	$MessageType   = array ( 0, 1, 2, 3, 4, 5, 15, 99, 100 );
-	$TitleColor    = array ( 0 => '#FFFF00', 1 => '#FF6699', 2 => '#FF3300', 3 => '#FF9900', 4 => '#773399', 5 => '#009933', 15 => '#030070', 99 => '#007070', 100 => '#ABABAB'  );
-	$BackGndColor  = array ( 0 => '#663366', 1 => '#336666', 2 => '#000099', 3 => '#666666', 4 => '#999999', 5 => '#999999', 15 => '#999999', 99 => '#999999', 100 => '#999999'  );
+$UsrMess       = doquery("SELECT * FROM {{table}} WHERE `message_owner` = '".strval($user['id'])."' ORDER BY `message_time` DESC", 'messages');
+$UnRead        = doquery("SELECT * FROM {{table}} WHERE `id` = '". strval($user['id']) ."'", 'users', true);
 
-	for ($MessType = 0; $MessType < 101; $MessType++) {
-		if ( in_array($MessType, $MessageType) ) {
-			$WaitingMess[$MessType] = $UnRead[$messfields[$MessType]];
-			$TotalMess[$MessType]   = 0;
-		}
-	}
+$MessageType   = array (0, 1, 2, 3, 4, 5, 15, 99, 100 );
+$TitleColor    = array (0 => '#FFFF00', 1 => '#FF6699', 2 => '#FF3300', 3 => '#FF9900', 4 => '#773399', 5 => '#009933', 15 => '#030070', 99 => '#007070', 100 => '#ABABAB');
+$BackGndColor  = array (0 => '#663366', 1 => '#336666', 2 => '#000099', 3 => '#666666', 4 => '#999999', 5 => '#999999', 15 => '#999999', 99 => '#999999', 100 => '#999999');
 
-	while ($CurMess = mysql_fetch_array($UsrMess)) {
-		$MessType              = $CurMess['message_type'];
-		$TotalMess[$MessType] += 1;
-		$TotalMess[100]       += 1;
+for ($MessType = 0; $MessType < 101; $MessType++) {
+	if (in_array($MessType, $MessageType) ) {
+		$WaitingMess[$MessType] = $UnRead[$messfields[$MessType]];
+		$TotalMess[$MessType] = 0;
 	}
+}
+
+while ($CurMess = mysql_fetch_array($UsrMess)) {
+	$MessType              = $CurMess['message_type'];
+	$TotalMess[$MessType] += 1;
+	$TotalMess[100]       += 1;
+}
 
 	switch ($MessPageMode) {
 		case 'write':
@@ -73,7 +76,7 @@ if($user['authlevel']!="1"&$user['authlevel']!="3"&$user['authlevel']!="0"){ hea
 				message ($lang['mess_no_ownerid'], $lang['mess_error']);
 			}
 
-			$OwnerRecord = doquery("SELECT * FROM {{table}} WHERE `id` = '".$OwnerID."';", 'users', true);
+			$OwnerRecord = doquery("SELECT * FROM {{table}} WHERE `id` = '".strval($OwnerID)."';", 'users', true);
 
 			if (!$OwnerRecord) {
 				message ($lang['mess_no_owner']  , $lang['mess_error']);
@@ -213,7 +216,7 @@ $Message = trim ( nl2br ( strip_tags ( $_POST['text'], '<br>' ) ) ); }
 				}
 				$QryUpdateUser  = "UPDATE {{table}} SET ";
 				$QryUpdateUser .= $SubUpdateQry;
-				$QryUpdateUser .= "`id` = '".$user['id']."' "; // Vraiment pas envie de me casser le fion a virer la derniere virgule du sub query
+				$QryUpdateUser .= "`id` = '".$user['id']."' ";
 				$QryUpdateUser .= "WHERE ";
 				$QryUpdateUser .= "`id` = '".$user['id']."';";
 				doquery ( $QryUpdateUser, 'users' );
diff --git a/xnova-legacies_2009.3/mipattack.php b/xnova-legacies_2009.4/mipattack.php
index 500a572..4b7396b 100644
--- a/xnova-legacies_2009.3/mipattack.php
+++ b/xnova-legacies_2009.4/mipattack.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/multi.php b/xnova-legacies_2009.4/multi.php
index 7d06fd6..24fa2d0 100644
--- a/xnova-legacies_2009.3/multi.php
+++ b/xnova-legacies_2009.4/multi.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/neusuw.php b/xnova-legacies_2009.4/neusuw.php
index faba386..2c278f4 100644
--- a/xnova-legacies_2009.3/neusuw.php
+++ b/xnova-legacies_2009.4/neusuw.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/notes.php b/xnova-legacies_2009.4/notes.php
index e8f7dd7..3a6eb55 100644
--- a/xnova-legacies_2009.3/notes.php
+++ b/xnova-legacies_2009.4/notes.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/officier.php b/xnova-legacies_2009.4/officier.php
index ab8d830..f80a6ec 100644
--- a/xnova-legacies_2009.3/officier.php
+++ b/xnova-legacies_2009.4/officier.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/options.php b/xnova-legacies_2009.4/options.php
index b03a8cf..ddd9f53 100644
--- a/xnova-legacies_2009.3/options.php
+++ b/xnova-legacies_2009.4/options.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -80,7 +80,7 @@ require_once dirname(__FILE__) .'/common.php';
 			$dpath = (!$user["dpath"]) ? DEFAULT_SKINPATH : $user["dpath"];
 
        // Gestion des options speciales pour les admins
-       if ($user['authlevel'] > 0) {
+       if ($user['authlevel'] != LEVEL_PLAYER) {
           if ($_POST['adm_pl_prot'] == 'on') {
              doquery ("UPDATE {{table}} SET `id_level` = '".$user['authlevel']."' WHERE `id_owner` = '".$user['id']."';", 'planets');
           } else {
@@ -269,7 +269,7 @@ require_once dirname(__FILE__) .'/common.php';
        $parse['opt_lst_cla_data']   = "<option value =\"0\"". (($user['planet_sort_order'] == 0) ? " selected": "") .">". $lang['opt_lst_cla0'] ."</option>";
        $parse['opt_lst_cla_data']  .= "<option value =\"1\"". (($user['planet_sort_order'] == 1) ? " selected": "") .">". $lang['opt_lst_cla1'] ."</option>";
 
-       if ($user['authlevel'] > 0) {
+       if ($user['authlevel'] != LEVEL_PLAYER) {
           $FrameTPL = gettemplate('options_admadd');
           $IsProtOn = doquery ("SELECT `id_level` FROM {{table}} WHERE `id_owner` = '".$user['id']."' LIMIT 1;", 'planets', true);
           $bloc['opt_adm_title']       = $lang['opt_adm_title'];
diff --git a/xnova-legacies_2009.3/overview.php b/xnova-legacies_2009.4/overview.php
index 41564e1..4400614 100644
--- a/xnova-legacies_2009.3/overview.php
+++ b/xnova-legacies_2009.4/overview.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -34,7 +34,7 @@ require_once dirname(__FILE__) .'/common.php';
 
 $lunarow = doquery("SELECT * FROM {{table}} WHERE `id_owner` = '" . $planetrow['id_owner'] . "' AND `galaxy` = '" . $planetrow['galaxy'] . "' AND `system` = '" . $planetrow['system'] . "' AND `lunapos` = '" . $planetrow['planet'] . "';", 'lunas', true);
 
-CheckPlanetUsedFields ($lunarow);
+//CheckPlanetUsedFields ($lunarow);
 
 $mode = isset($_GET['mode']) ? $_GET['mode'] : '';
 $_POST['deleteid'] = intval($_POST['deleteid']);
diff --git a/xnova-legacies_2009.3/phalanx.php b/xnova-legacies_2009.4/phalanx.php
index e67a882..08d31a7 100644
--- a/xnova-legacies_2009.3/phalanx.php
+++ b/xnova-legacies_2009.4/phalanx.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/quickfleet.php b/xnova-legacies_2009.4/quickfleet.php
index d31062f..95ae671 100644
--- a/xnova-legacies_2009.3/quickfleet.php
+++ b/xnova-legacies_2009.4/quickfleet.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/rak.php b/xnova-legacies_2009.4/rak.php
index 284bee7..10684ae 100644
--- a/xnova-legacies_2009.3/rak.php
+++ b/xnova-legacies_2009.4/rak.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/raketenangriff.php b/xnova-legacies_2009.4/raketenangriff.php
index 97de321..b6720eb 100644
--- a/xnova-legacies_2009.3/raketenangriff.php
+++ b/xnova-legacies_2009.4/raketenangriff.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/records.php b/xnova-legacies_2009.4/records.php
index d6cdadb..7316c8a 100644
--- a/xnova-legacies_2009.3/records.php
+++ b/xnova-legacies_2009.4/records.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/reg.php b/xnova-legacies_2009.4/reg.php
index 267f43f..6833fef 100644
--- a/xnova-legacies_2009.3/reg.php
+++ b/xnova-legacies_2009.4/reg.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/resources.php b/xnova-legacies_2009.4/resources.php
index 747a760..02dff6c 100644
--- a/xnova-legacies_2009.3/resources.php
+++ b/xnova-legacies_2009.4/resources.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/robots.txt b/xnova-legacies_2009.4/robots.txt
diff --git a/xnova-legacies_2009.3/rules.php b/xnova-legacies_2009.4/rules.php
index 8cdf483..cc4c845 100644
--- a/xnova-legacies_2009.3/rules.php
+++ b/xnova-legacies_2009.4/rules.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/rw.php b/xnova-legacies_2009.4/rw.php
index 408cb27..aacae26 100644
--- a/xnova-legacies_2009.3/rw.php
+++ b/xnova-legacies_2009.4/rw.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/scripts/7_nieaktywni.user.js b/xnova-legacies_2009.4/scripts/7_nieaktywni.user.js
diff --git a/xnova-legacies_2009.3/scripts/chat.js b/xnova-legacies_2009.4/scripts/chat.js
diff --git a/xnova-legacies_2009.3/scripts/cnt.js b/xnova-legacies_2009.4/scripts/cnt.js
diff --git a/xnova-legacies_2009.3/scripts/cntchar.js b/xnova-legacies_2009.4/scripts/cntchar.js
diff --git a/xnova-legacies_2009.3/scripts/cntfe.js b/xnova-legacies_2009.4/scripts/cntfe.js
diff --git a/xnova-legacies_2009.3/scripts/cntfs.js b/xnova-legacies_2009.4/scripts/cntfs.js
diff --git a/xnova-legacies_2009.3/scripts/cntneu.js b/xnova-legacies_2009.4/scripts/cntneu.js
diff --git a/xnova-legacies_2009.3/scripts/cntneu2.js b/xnova-legacies_2009.4/scripts/cntneu2.js
diff --git a/xnova-legacies_2009.3/scripts/createbanner.php b/xnova-legacies_2009.4/scripts/createbanner.php
diff --git a/xnova-legacies_2009.3/scripts/cst.js b/xnova-legacies_2009.4/scripts/cst.js
diff --git a/xnova-legacies_2009.3/scripts/flotten.js b/xnova-legacies_2009.4/scripts/flotten.js
diff --git a/xnova-legacies_2009.3/scripts/functions.js b/xnova-legacies_2009.4/scripts/functions.js
diff --git a/xnova-legacies_2009.3/scripts/gsc.1.js b/xnova-legacies_2009.4/scripts/gsc.1.js
diff --git a/xnova-legacies_2009.3/scripts/jquery.js b/xnova-legacies_2009.4/scripts/jquery.js
diff --git a/xnova-legacies_2009.3/scripts/ocnt.js b/xnova-legacies_2009.4/scripts/ocnt.js
diff --git a/xnova-legacies_2009.3/scripts/overlib.js b/xnova-legacies_2009.4/scripts/overlib.js
diff --git a/xnova-legacies_2009.3/scripts/registration.js b/xnova-legacies_2009.4/scripts/registration.js
diff --git a/xnova-legacies_2009.3/scripts/res.js b/xnova-legacies_2009.4/scripts/res.js
diff --git a/xnova-legacies_2009.3/scripts/thickbox.js b/xnova-legacies_2009.4/scripts/thickbox.js
diff --git a/xnova-legacies_2009.3/scripts/time.js b/xnova-legacies_2009.4/scripts/time.js
diff --git a/xnova-legacies_2009.3/scripts/tw-sack.js b/xnova-legacies_2009.4/scripts/tw-sack.js
diff --git a/xnova-legacies_2009.3/scripts/utilities.js b/xnova-legacies_2009.4/scripts/utilities.js
diff --git a/xnova-legacies_2009.3/scripts/win.js b/xnova-legacies_2009.4/scripts/win.js
diff --git a/xnova-legacies_2009.3/scripts/wz_tooltip.js b/xnova-legacies_2009.4/scripts/wz_tooltip.js
diff --git a/xnova-legacies_2009.3/search.php b/xnova-legacies_2009.4/search.php
index e6a9676..04a8a96 100644
--- a/xnova-legacies_2009.3/search.php
+++ b/xnova-legacies_2009.4/search.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/skins/xnova/default.css b/xnova-legacies_2009.4/skins/xnova/default.css
diff --git a/xnova-legacies_2009.3/skins/xnova/formate.css b/xnova-legacies_2009.4/skins/xnova/formate.css
diff --git a/xnova-legacies_2009.4/skins/xnova/gebaeude/216.gif b/xnova-legacies_2009.4/skins/xnova/gebaeude/216.gif
new file mode 100644
index 0000000..b3a5b42
Binary files /dev/null and b/xnova-legacies_2009.4/skins/xnova/gebaeude/216.gif differ
diff --git a/xnova-legacies_2009.3/stat.php b/xnova-legacies_2009.4/stat.php
index de955c2..3b28b13 100644
--- a/xnova-legacies_2009.3/stat.php
+++ b/xnova-legacies_2009.4/stat.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/techdetails.php b/xnova-legacies_2009.4/techdetails.php
index bd3a892..a67fbb2 100644
--- a/xnova-legacies_2009.3/techdetails.php
+++ b/xnova-legacies_2009.4/techdetails.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
diff --git a/xnova-legacies_2009.3/techtree.php b/xnova-legacies_2009.4/techtree.php
index bcd6be5..3359e1b 100644
--- a/xnova-legacies_2009.3/techtree.php
+++ b/xnova-legacies_2009.4/techtree.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
@@ -40,9 +40,9 @@ require_once dirname(__FILE__) .'/common.php';
 			$parse['Requirements']  = $lang['Requirements'];
 			$page                  .= parsetemplate($HeadTpl, $parse);
 		} else {
-			if (isset($requeriments[$Element])) {
+			if (isset($requirements[$Element])) {
 				$parse['required_list'] = "";
-				foreach($requeriments[$Element] as $ResClass => $Level) {
+				foreach($requirements[$Element] as $ResClass => $Level) {
 					if       ( isset( $user[$resource[$ResClass]] ) &&
 						 $user[$resource[$ResClass]] >= $Level) {
 						$parse['required_list'] .= "<font color=\"#00ff00\">";
diff --git a/xnova-legacies_2009.3/templates/OpenGame/add_declare.tpl b/xnova-legacies_2009.4/templates/OpenGame/add_declare.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/activeplanet_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/activeplanet_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/add_money.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/add_money.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/add_moon.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/add_moon.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/admin_panel_asw1.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/admin_panel_asw1.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/admin_panel_asw2.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/admin_panel_asw2.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/admin_panel_frm1.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/admin_panel_frm1.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/admin_panel_frm2.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/admin_panel_frm2.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/admin_panel_frm3.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/admin_panel_frm3.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/admin_panel_frm4.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/admin_panel_frm4.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/admin_panel_main.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/admin_panel_main.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/banadni.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/banadni.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/banned.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/banned.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/changepass.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/changepass.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/chat_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/chat_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/credit_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/credit_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/declarelist_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/declarelist_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/declarelist_rows.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/declarelist_rows.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/deletuser.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/deletuser.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/errors_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/errors_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/exec_query.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/exec_query.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/fleet_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/fleet_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/fleet_rows.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/fleet_rows.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/left_menu.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/left_menu.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/md5enc.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/md5enc.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/message_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/message_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/messagelist_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/messagelist_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/messagelist_table_rows.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/messagelist_table_rows.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/messall_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/messall_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/moonlist_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/moonlist_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/multi_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/multi_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/multi_rows.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/multi_rows.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/options_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/options_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/overview_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/overview_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/overview_rows.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/overview_rows.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/planetlist_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/planetlist_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/reset_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/reset_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/simple_header.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/simple_header.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/unbanned.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/unbanned.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/userlist_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/userlist_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/userlist_rows.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/userlist_rows.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/variables_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/variables_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/admin/variables_rows.tpl b/xnova-legacies_2009.4/templates/OpenGame/admin/variables_rows.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_admin.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_admin.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_admin_laws.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_admin_laws.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_admin_laws_feet.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_admin_laws_feet.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_admin_laws_head.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_admin_laws_head.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_admin_laws_row.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_admin_laws_row.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_admin_members_function.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_admin_members_function.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_admin_members_row.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_admin_members_row.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_admin_members_row_edit.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_admin_members_row_edit.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_admin_members_table.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_admin_members_table.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_admin_rename.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_admin_rename.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_admin_rename1.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_admin_rename1.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_admin_rename2.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_admin_rename2.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_admin_request_form.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_admin_request_form.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_admin_request_row.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_admin_request_row.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_admin_request_table.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_admin_request_table.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_ainfo.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_ainfo.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_apply_waitform.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_apply_waitform.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_applyform.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_applyform.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_circular.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_circular.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_circular_form.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_circular_form.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_defaultmenu.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_defaultmenu.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_frontpage.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_frontpage.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_make.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_make.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_makeform.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_makeform.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_memberslist_row.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_memberslist_row.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_memberslist_table.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_memberslist_table.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_searchform.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_searchform.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_searchresult_row.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_searchresult_row.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/alliance_searchresult_table.tpl b/xnova-legacies_2009.4/templates/OpenGame/alliance_searchresult_table.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/banned_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/banned_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/buildings_builds.tpl b/xnova-legacies_2009.4/templates/OpenGame/buildings_builds.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/buildings_builds_queue_script.tpl b/xnova-legacies_2009.4/templates/OpenGame/buildings_builds_queue_script.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/buildings_builds_row.tpl b/xnova-legacies_2009.4/templates/OpenGame/buildings_builds_row.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/buildings_builds_script.tpl b/xnova-legacies_2009.4/templates/OpenGame/buildings_builds_script.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/buildings_defense.tpl b/xnova-legacies_2009.4/templates/OpenGame/buildings_defense.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/buildings_fleet.tpl b/xnova-legacies_2009.4/templates/OpenGame/buildings_fleet.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/buildings_research.tpl b/xnova-legacies_2009.4/templates/OpenGame/buildings_research.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/buildings_research_row.tpl b/xnova-legacies_2009.4/templates/OpenGame/buildings_research_row.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/buildings_research_script.tpl b/xnova-legacies_2009.4/templates/OpenGame/buildings_research_script.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/buildings_script.tpl b/xnova-legacies_2009.4/templates/OpenGame/buildings_script.tpl
index 905fc66..4ec624e 100644
--- a/xnova-legacies_2009.3/templates/OpenGame/buildings_script.tpl
+++ b/xnova-legacies_2009.4/templates/OpenGame/buildings_script.tpl
@@ -1,98 +1,39 @@
-<br>Production Actuelle: <div id=bx class=z></div>
-<script  type="text/javascript">
-v  = new Date();
-p  = 0;
-g  = {b_hangar_id_plus};
-s  = 0;
-hs = 0;
-of = 1;
-c  = new Array({c}'');
-b  = new Array({b}'');
-a  = new Array({a}'');
-aa = '{completed}';
+<div>Production Actuelle:
+  <select id="buildList" size="10"></select>
+</div>
+<script type="text/javascript">
+//<![CDATA[
+var date = new Date();
+var data = {data};
+var select = document.getElementById('buildList');
 
-function t() {
-	if ( hs == 0 ) {
-		xd();
-		hs = 1;
-	}
-	n = new Date();
-	s = c[p] - g - Math.round((n.getTime() - v.getTime()) / 1000.);
-	s = Math.round(s);
-	m = 0;
-	h = 0;
-	if ( s < 0 ) {
-		a[p]--;
-		xd();
-		if ( a[p] <= 0 ) {
-			p++;
-			xd();
-		}
-		g = 0;
-		v = new Date();
-		s = 0;
-	}
-	if ( s > 59 ) {
-		m = Math.floor(s / 60);
-		s = s - m * 60;
-	}
-	if ( m > 59 ) {
-		h = Math.floor(m / 60);
-		m = m - h * 60;
-	}
-	if ( s < 10 ) {
-		s = "0" + s;
+setInterval(function(){
+  var now = new Date();
+  var datediff = (now.getTime() - date.getTime()) / 1000;
+
+  var option = null;
+  var index = 0;
+  if (data.length == 0) {
+    select.parentNode.style.display = 'none';
+    return;
+  }
+  select.length = 0;
+  for (i in data) {
+    if (datediff > 0) {
+      data[i]['actual_qty'] = data[i]['qty'] - Math.floor(datediff / data[i]['speed']);
+    } else {
+      data[i]['actual_qty'] = data[i]['qty'];
     }
-    if (m < 10) {
-      m = "0" + m;
-	}
-	if ( p > b.length - 2 ) {
-		document.getElementById("bx").innerHTML=aa ;
+    if (data[i]['actual_qty'] <= 0) {
+      datediff = datediff - (data[i]['speed'] * data[i]['qty']);
+      delete data[i];
+      continue;
     } else {
-		document.getElementById("bx").innerHTML=b[p]+" "+h+":"+m+":"+s;
+      datediff = 0;
     }
-	window.setTimeout("t();", 200);
-}
-
-function xd() {
-	while (document.Atr.auftr.length > 0) {
-		document.Atr.auftr.options[document.Atr.auftr.length-1] = null;
-	}
-	if ( p > b.length - 2 ) {
-		document.Atr.auftr.options[document.Atr.auftr.length] = new Option(aa);
-	}
-	for ( iv = p; iv <= b.length - 2; iv++ ) {
-		if ( a[iv] < 2 ) {
-			ae = " ";
-		} else {
-			ae = " ";
-		}
-		if ( iv == p ) {
-			act = " ({in_working})";
-		} else {
-			act = "";
-		}
-		document.Atr.auftr.options[document.Atr.auftr.length] = new Option( a[iv] + ae + " \"" + b[iv] + "\"" + act, iv + of );
-	}
-}
-
-window.onload = t;
-</script>
-<br />
-<form name="Atr" method="get" action="buildings.php">
-<input type="hidden" name="mode" value="fleet">
-<table width="530">
-<tr>
-	<td class="c" >{work_todo}</td>
-</tr>
-<tr>
-	<th ><select name="auftr" size="10"></select></th>
-</tr>
-<tr>
-	<td class="c" ></td>
-</tr>
-</table>
-</form>
-<br />
-{total_left_time} {pretty_time_b_hangar}<br></center>
-<br />
\ No newline at end of file
+    option = new Option(data[i]['label'] + ' (' + data[i]['actual_qty'] + ')', data[i]['speed'], false, true);
+    select.options[index++] = option;
+  }
+  }, 1000);
+//]]>
+</script>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/templates/OpenGame/changelog_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/changelog_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/changelog_table.tpl b/xnova-legacies_2009.4/templates/OpenGame/changelog_table.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/chat_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/chat_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/contact_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/contact_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/contact_body_rows.tpl b/xnova-legacies_2009.4/templates/OpenGame/contact_body_rows.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/credit_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/credit_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/galaxy_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/galaxy_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/galaxy_row.tpl b/xnova-legacies_2009.4/templates/OpenGame/galaxy_row.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/galaxy_row_action.tpl b/xnova-legacies_2009.4/templates/OpenGame/galaxy_row_action.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/galaxy_row_ally.tpl b/xnova-legacies_2009.4/templates/OpenGame/galaxy_row_ally.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/galaxy_row_debris.tpl b/xnova-legacies_2009.4/templates/OpenGame/galaxy_row_debris.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/galaxy_row_luna.tpl b/xnova-legacies_2009.4/templates/OpenGame/galaxy_row_luna.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/galaxy_row_planet.tpl b/xnova-legacies_2009.4/templates/OpenGame/galaxy_row_planet.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/galaxy_row_user.tpl b/xnova-legacies_2009.4/templates/OpenGame/galaxy_row_user.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/gate_fleet_rows.tpl b/xnova-legacies_2009.4/templates/OpenGame/gate_fleet_rows.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/gate_fleet_table.tpl b/xnova-legacies_2009.4/templates/OpenGame/gate_fleet_table.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/imperium_row.tpl b/xnova-legacies_2009.4/templates/OpenGame/imperium_row.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/imperium_row2.tpl b/xnova-legacies_2009.4/templates/OpenGame/imperium_row2.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/imperium_table.tpl b/xnova-legacies_2009.4/templates/OpenGame/imperium_table.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/info_buildings_defense.tpl b/xnova-legacies_2009.4/templates/OpenGame/info_buildings_defense.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/info_buildings_destroy.tpl b/xnova-legacies_2009.4/templates/OpenGame/info_buildings_destroy.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/info_buildings_fleet.tpl b/xnova-legacies_2009.4/templates/OpenGame/info_buildings_fleet.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/info_buildings_general.tpl b/xnova-legacies_2009.4/templates/OpenGame/info_buildings_general.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/info_buildings_table.tpl b/xnova-legacies_2009.4/templates/OpenGame/info_buildings_table.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/info_officiers_general.tpl b/xnova-legacies_2009.4/templates/OpenGame/info_officiers_general.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/install/ins_acc.tpl b/xnova-legacies_2009.4/templates/OpenGame/install/ins_acc.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/install/ins_acc_done.tpl b/xnova-legacies_2009.4/templates/OpenGame/install/ins_acc_done.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/install/ins_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/install/ins_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/install/ins_form.tpl b/xnova-legacies_2009.4/templates/OpenGame/install/ins_form.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/install/ins_form_done.tpl b/xnova-legacies_2009.4/templates/OpenGame/install/ins_form_done.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/install/ins_goto_done.tpl b/xnova-legacies_2009.4/templates/OpenGame/install/ins_goto_done.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/install/ins_goto_form.tpl b/xnova-legacies_2009.4/templates/OpenGame/install/ins_goto_form.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/install/ins_goto_intro.tpl b/xnova-legacies_2009.4/templates/OpenGame/install/ins_goto_intro.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/install/ins_intro.tpl b/xnova-legacies_2009.4/templates/OpenGame/install/ins_intro.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/left_menu.tpl b/xnova-legacies_2009.4/templates/OpenGame/left_menu.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/login_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/login_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/lostpassword.tpl b/xnova-legacies_2009.4/templates/OpenGame/lostpassword.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/marchand_cristal.tpl b/xnova-legacies_2009.4/templates/OpenGame/marchand_cristal.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/marchand_deuterium.tpl b/xnova-legacies_2009.4/templates/OpenGame/marchand_deuterium.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/marchand_main.tpl b/xnova-legacies_2009.4/templates/OpenGame/marchand_main.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/marchand_metal.tpl b/xnova-legacies_2009.4/templates/OpenGame/marchand_metal.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/message_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/message_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/messages_pm_form.tpl b/xnova-legacies_2009.4/templates/OpenGame/messages_pm_form.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/messages_pm_form_bb.tpl b/xnova-legacies_2009.4/templates/OpenGame/messages_pm_form_bb.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/multi.tpl b/xnova-legacies_2009.4/templates/OpenGame/multi.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/notes_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/notes_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/notes_body_entry.tpl b/xnova-legacies_2009.4/templates/OpenGame/notes_body_entry.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/notes_form.tpl b/xnova-legacies_2009.4/templates/OpenGame/notes_form.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/officier_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/officier_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/officier_rows.tpl b/xnova-legacies_2009.4/templates/OpenGame/officier_rows.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/options_admadd.tpl b/xnova-legacies_2009.4/templates/OpenGame/options_admadd.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/options_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/options_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/options_body_vmode.tpl b/xnova-legacies_2009.4/templates/OpenGame/options_body_vmode.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/overall_footer.tpl b/xnova-legacies_2009.4/templates/OpenGame/overall_footer.tpl
index c6918be..691287b 100644
--- a/xnova-legacies_2009.3/templates/OpenGame/overall_footer.tpl
+++ b/xnova-legacies_2009.4/templates/OpenGame/overall_footer.tpl
@@ -1,2 +1,2 @@
-</body> 
+</body>
 </html>
\ No newline at end of file
diff --git a/xnova-legacies_2009.3/templates/OpenGame/overview_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/overview_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/overview_deleteplanet.tpl b/xnova-legacies_2009.4/templates/OpenGame/overview_deleteplanet.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/overview_fleet_event.tpl b/xnova-legacies_2009.4/templates/OpenGame/overview_fleet_event.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/overview_renameplanet.tpl b/xnova-legacies_2009.4/templates/OpenGame/overview_renameplanet.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/phalanx_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/phalanx_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/records_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/records_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/records_section_header.tpl b/xnova-legacies_2009.4/templates/OpenGame/records_section_header.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/records_section_rows.tpl b/xnova-legacies_2009.4/templates/OpenGame/records_section_rows.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/registry_form.tpl b/xnova-legacies_2009.4/templates/OpenGame/registry_form.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/resources.tpl b/xnova-legacies_2009.4/templates/OpenGame/resources.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/resources_row.tpl b/xnova-legacies_2009.4/templates/OpenGame/resources_row.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/rules_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/rules_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/search_ally_row.tpl b/xnova-legacies_2009.4/templates/OpenGame/search_ally_row.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/search_ally_table.tpl b/xnova-legacies_2009.4/templates/OpenGame/search_ally_table.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/search_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/search_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/search_user_row.tpl b/xnova-legacies_2009.4/templates/OpenGame/search_user_row.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/search_user_table.tpl b/xnova-legacies_2009.4/templates/OpenGame/search_user_table.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/serv_infos.tpl b/xnova-legacies_2009.4/templates/OpenGame/serv_infos.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/simple_footer.tpl b/xnova-legacies_2009.4/templates/OpenGame/simple_footer.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/simple_header.tpl b/xnova-legacies_2009.4/templates/OpenGame/simple_header.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/stat_alliancetable.tpl b/xnova-legacies_2009.4/templates/OpenGame/stat_alliancetable.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/stat_alliancetable_header.tpl b/xnova-legacies_2009.4/templates/OpenGame/stat_alliancetable_header.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/stat_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/stat_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/stat_playertable.tpl b/xnova-legacies_2009.4/templates/OpenGame/stat_playertable.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/stat_playertable_header.tpl b/xnova-legacies_2009.4/templates/OpenGame/stat_playertable_header.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/statjoueur.tpl b/xnova-legacies_2009.4/templates/OpenGame/statjoueur.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/techtree_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/techtree_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/techtree_details.tpl b/xnova-legacies_2009.4/templates/OpenGame/techtree_details.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/techtree_head.tpl b/xnova-legacies_2009.4/templates/OpenGame/techtree_head.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/techtree_row.tpl b/xnova-legacies_2009.4/templates/OpenGame/techtree_row.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/teleport.tpl b/xnova-legacies_2009.4/templates/OpenGame/teleport.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/topnav.tpl b/xnova-legacies_2009.4/templates/OpenGame/topnav.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/tradingscrapmetal.tpl b/xnova-legacies_2009.4/templates/OpenGame/tradingscrapmetal.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/tradingscrapmetal_n.tpl b/xnova-legacies_2009.4/templates/OpenGame/tradingscrapmetal_n.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/usr_banned.tpl b/xnova-legacies_2009.4/templates/OpenGame/usr_banned.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/usuw_body.tpl b/xnova-legacies_2009.4/templates/OpenGame/usuw_body.tpl
diff --git a/xnova-legacies_2009.3/templates/OpenGame/zglos.tpl b/xnova-legacies_2009.4/templates/OpenGame/zglos.tpl
diff --git a/xnova-legacies_2009.3/verband.php b/xnova-legacies_2009.4/verband.php
index 7b4c8c6..40c2b23 100644
--- a/xnova-legacies_2009.3/verband.php
+++ b/xnova-legacies_2009.4/verband.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * Tis file is part of XNova:Legacies
+ * This file is part of XNova:Legacies
  *
  * @license http://www.gnu.org/licenses/gpl-3.0.txt
  * @see http://www.xnova-ng.org/
